import{w as nl,r as dt,b as Yb,d as YI,j as Af}from"./index-DVf16PQu.js";var Cs={},Df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dy={exports:{}},Ch={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function JI(){if(Oy)return Ch;Oy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var f=null;if(a!==void 0&&(f=""+a),i.key!==void 0&&(f=""+i.key),"key"in i){a={};for(var y in i)y!=="key"&&(a[y]=i[y])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:f,ref:i!==void 0?i:null,props:a}}return Ch.Fragment=e,Ch.jsx=t,Ch.jsxs=t,Ch}var Ny;function ex(){return Ny||(Ny=1,Dy.exports=JI()),Dy.exports}var jt=ex(),Bf={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var tx=Bf.exports,Fy;function nx(){return Fy||(Fy=1,function(n,e){(function(){var t,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",y="Invalid `variable` option passed into `_.template`",w="__lodash_hash_undefined__",T=500,R="__lodash_placeholder__",V=1,Q=2,ee=4,ne=1,le=2,fe=1,xe=2,Ie=4,Pe=8,Ue=16,je=32,Oe=64,q=128,L=256,U=512,G=30,K="...",Y=800,B=16,Rt=1,it=2,re=3,be=1/0,ln=9007199254740991,vn=17976931348623157e292,ye=NaN,se=4294967295,qt=se-1,lt=se>>>1,xt=[["ary",q],["bind",fe],["bindKey",xe],["curry",Pe],["curryRight",Ue],["flip",U],["partial",je],["partialRight",Oe],["rearg",L]],Ht="[object Arguments]",Gt="[object Array]",Rr="[object AsyncFunction]",Zn="[object Boolean]",or="[object Date]",pr="[object DOMException]",Dt="[object Error]",Me="[object Function]",Zi="[object GeneratorFunction]",Xn="[object Map]",os="[object Number]",Xt="[object Null]",Vn="[object Object]",Xi="[object Promise]",Ea="[object Proxy]",En="[object RegExp]",Mt="[object Set]",ct="[object String]",cn="[object Symbol]",Aa="[object Undefined]",ei="[object WeakMap]",mt="[object WeakSet]",Yt="[object ArrayBuffer]",Er="[object DataView]",jr="[object Float32Array]",ti="[object Float64Array]",Is="[object Int8Array]",as="[object Int16Array]",ni="[object Int32Array]",Yi="[object Uint8Array]",ri="[object Uint8ClampedArray]",Ot="[object Uint16Array]",An="[object Uint32Array]",Ji=/\b__p \+= '';/g,us=/\b(__p \+=) '' \+/g,Ar=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xs=/&(?:amp|lt|gt|quot|#39);/g,Ii=/[&<>"']/g,zo=RegExp(xs.source),Ts=RegExp(Ii.source),ku=/<%-([\s\S]+?)%>/g,eo=/<%([\s\S]+?)%>/g,kn=/<%=([\s\S]+?)%>/g,Dn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bn=/^\w*$/,rn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ps=/[\\^$.*+?()[\]{}|]/g,sn=RegExp(Ps.source),Rs=/^\s+/,Da=/\s/,ar=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Yn=/\{\n\/\* \[wrapped with (.+)\] \*/,_u=/,? & /,Cu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,gt=/[()=,{}\[\]\/\s]/,_n=/\\(\\)?/g,si=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cn=/\w*$/,ls=/^[-+]0x[0-9a-f]+$/i,Wo=/^0b[01]+$/i,Iu=/^\[object .+?Constructor\]$/,Go=/^0o[0-7]+$/i,Oa=/^(?:0|[1-9]\d*)$/,xu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,on=/($^)/,Tu=/['\n\r\u2028\u2029\\]/g,mr="\\ud800-\\udfff",Br="\\u0300-\\u036f",xi="\\ufe20-\\ufe2f",qr="\\u20d0-\\u20ff",gr=Br+xi+qr,cs="\\u2700-\\u27bf",to="a-z\\xdf-\\xf6\\xf8-\\xff",Na="\\xac\\xb1\\xd7\\xf7",Fa="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Jt="\\u2000-\\u206f",no=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qo="A-Z\\xc0-\\xd6\\xd8-\\xde",Ko="\\ufe0e\\ufe0f",yr=Na+Fa+Jt+no,ro="['’]",Es="["+mr+"]",Ti="["+yr+"]",Pi="["+gr+"]",Ma="\\d+",As="["+cs+"]",Dr="["+to+"]",vr="[^"+mr+yr+Ma+cs+to+Qo+"]",Hr="\\ud83c[\\udffb-\\udfff]",Pu="(?:"+Pi+"|"+Hr+")",Tt="[^"+mr+"]",hs="(?:\\ud83c[\\udde6-\\uddff]){2}",ii="[\\ud800-\\udbff][\\udc00-\\udfff]",Or="["+Qo+"]",Ru="\\u200d",fs="(?:"+Dr+"|"+vr+")",so="(?:"+Or+"|"+vr+")",Eu="(?:"+ro+"(?:d|ll|m|re|s|t|ve))?",io="(?:"+ro+"(?:D|LL|M|RE|S|T|VE))?",oo=Pu+"?",Ri="["+Ko+"]?",Ds="(?:"+Ru+"(?:"+[Tt,hs,ii].join("|")+")"+Ri+oo+")*",zr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Zo="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ao=Ri+oo+Ds,Os="(?:"+[As,hs,ii].join("|")+")"+ao,Xo="(?:"+[Tt+Pi+"?",Pi,hs,ii,Es].join("|")+")",Et=RegExp(ro,"g"),uo=RegExp(Pi,"g"),ur=RegExp(Hr+"(?="+Hr+")|"+Xo+ao,"g"),lo=RegExp([Or+"?"+Dr+"+"+Eu+"(?="+[Ti,Or,"$"].join("|")+")",so+"+"+io+"(?="+[Ti,Or+fs,"$"].join("|")+")",Or+"?"+fs+"+"+Eu,Or+"+"+io,Zo,zr,Ma,Os].join("|"),"g"),co=RegExp("["+Ru+mr+gr+Ko+"]"),Ns=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,oi=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ai=-1,et={};et[jr]=et[ti]=et[Is]=et[as]=et[ni]=et[Yi]=et[ri]=et[Ot]=et[An]=!0,et[Ht]=et[Gt]=et[Yt]=et[Zn]=et[Er]=et[or]=et[Dt]=et[Me]=et[Xn]=et[os]=et[Vn]=et[En]=et[Mt]=et[ct]=et[ei]=!1;var ht={};ht[Ht]=ht[Gt]=ht[Yt]=ht[Er]=ht[Zn]=ht[or]=ht[jr]=ht[ti]=ht[Is]=ht[as]=ht[ni]=ht[Xn]=ht[os]=ht[Vn]=ht[En]=ht[Mt]=ht[ct]=ht[cn]=ht[Yi]=ht[ri]=ht[Ot]=ht[An]=!0,ht[Dt]=ht[Me]=ht[ei]=!1;var Wr={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Yo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Lt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ei={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ho=parseFloat,La=parseInt,Jo=typeof Df=="object"&&Df&&Df.Object===Object&&Df,Ua=typeof self=="object"&&self&&self.Object===Object&&self,an=Jo||Ua||Function("return this")(),ea=e&&!e.nodeType&&e,$n=ea&&!0&&n&&!n.nodeType&&n,ta=$n&&$n.exports===ea,na=ta&&Jo.process,On=function(){try{var D=$n&&$n.require&&$n.require("util").types;return D||na&&na.binding&&na.binding("util")}catch{}}(),ui=On&&On.isArrayBuffer,fo=On&&On.isDate,Fs=On&&On.isMap,Va=On&&On.isRegExp,li=On&&On.isSet,$a=On&&On.isTypedArray;function hn(D,F,M){switch(M.length){case 0:return D.call(F);case 1:return D.call(F,M[0]);case 2:return D.call(F,M[0],M[1]);case 3:return D.call(F,M[0],M[1],M[2])}return D.apply(F,M)}function ci(D,F,M,oe){for(var ae=-1,we=D==null?0:D.length;++ae<we;){var Ce=D[ae];F(oe,Ce,M(Ce),D)}return oe}function Nn(D,F){for(var M=-1,oe=D==null?0:D.length;++M<oe&&F(D[M],M,D)!==!1;);return D}function ja(D,F){for(var M=D==null?0:D.length;M--&&F(D[M],M,D)!==!1;);return D}function Ms(D,F){for(var M=-1,oe=D==null?0:D.length;++M<oe;)if(!F(D[M],M,D))return!1;return!0}function jn(D,F){for(var M=-1,oe=D==null?0:D.length,ae=0,we=[];++M<oe;){var Ce=D[M];F(Ce,M,D)&&(we[ae++]=Ce)}return we}function po(D,F){var M=D==null?0:D.length;return!!M&&Us(D,F,0)>-1}function Ai(D,F,M){for(var oe=-1,ae=D==null?0:D.length;++oe<ae;)if(M(F,D[oe]))return!0;return!1}function ot(D,F){for(var M=-1,oe=D==null?0:D.length,ae=Array(oe);++M<oe;)ae[M]=F(D[M],M,D);return ae}function lr(D,F){for(var M=-1,oe=F.length,ae=D.length;++M<oe;)D[ae+M]=F[M];return D}function Bn(D,F,M,oe){var ae=-1,we=D==null?0:D.length;for(oe&&we&&(M=D[++ae]);++ae<we;)M=F(M,D[ae],ae,D);return M}function Di(D,F,M,oe){var ae=D==null?0:D.length;for(oe&&ae&&(M=D[--ae]);ae--;)M=F(M,D[ae],ae,D);return M}function mo(D,F){for(var M=-1,oe=D==null?0:D.length;++M<oe;)if(F(D[M],M,D))return!0;return!1}var Ls=S("length");function In(D){return D.split("")}function xn(D){return D.match(Cu)||[]}function At(D,F,M){var oe;return M(D,function(ae,we,Ce){if(F(ae,we,Ce))return oe=we,!1}),oe}function ds(D,F,M,oe){for(var ae=D.length,we=M+(oe?1:-1);oe?we--:++we<ae;)if(F(D[we],we,D))return we;return-1}function Us(D,F,M){return F===F?sh(D,F,M):ds(D,l,M)}function Vs(D,F,M,oe){for(var ae=M-1,we=D.length;++ae<we;)if(oe(D[ae],F))return ae;return-1}function l(D){return D!==D}function v(D,F){var M=D==null?0:D.length;return M?Se(D,F)/M:ye}function S(D){return function(F){return F==null?t:F[D]}}function E(D){return function(F){return D==null?t:D[F]}}function X(D,F,M,oe,ae){return ae(D,function(we,Ce,ke){M=oe?(oe=!1,we):F(M,we,Ce,ke)}),M}function ie(D,F){var M=D.length;for(D.sort(F);M--;)D[M]=D[M].value;return D}function Se(D,F){for(var M,oe=-1,ae=D.length;++oe<ae;){var we=F(D[oe]);we!==t&&(M=M===t?we:M+we)}return M}function bt(D,F){for(var M=-1,oe=Array(D);++M<D;)oe[M]=F(M);return oe}function _t(D,F){return ot(F,function(M){return[M,D[M]]})}function wt(D){return D&&D.slice(0,c(D)+1).replace(Rs,"")}function yt(D){return function(F){return D(F)}}function wn(D,F){return ot(F,function(M){return D[M]})}function br(D,F){return D.has(F)}function Jn(D,F){for(var M=-1,oe=D.length;++M<oe&&Us(F,D[M],0)>-1;);return M}function $s(D,F){for(var M=D.length;M--&&Us(F,D[M],0)>-1;);return M}function hi(D,F){for(var M=D.length,oe=0;M--;)D[M]===F&&++oe;return oe}var hl=E(Wr),ac=E(Yo);function fl(D){return"\\"+Ei[D]}function ra(D,F){return D==null?t:D[F]}function Nr(D){return co.test(D)}function sa(D){return Ns.test(D)}function go(D){for(var F,M=[];!(F=D.next()).done;)M.push(F.value);return M}function yo(D){var F=-1,M=Array(D.size);return D.forEach(function(oe,ae){M[++F]=[ae,oe]}),M}function Ba(D,F){return function(M){return D(F(M))}}function js(D,F){for(var M=-1,oe=D.length,ae=0,we=[];++M<oe;){var Ce=D[M];(Ce===F||Ce===R)&&(D[M]=R,we[ae++]=M)}return we}function Oi(D){var F=-1,M=Array(D.size);return D.forEach(function(oe){M[++F]=oe}),M}function vo(D){var F=-1,M=Array(D.size);return D.forEach(function(oe){M[++F]=[oe,oe]}),M}function sh(D,F,M){for(var oe=M-1,ae=D.length;++oe<ae;)if(D[oe]===F)return oe;return-1}function Au(D,F,M){for(var oe=M+1;oe--;)if(D[oe]===F)return oe;return oe}function bo(D){return Nr(D)?g(D):Ls(D)}function Fn(D){return Nr(D)?k(D):In(D)}function c(D){for(var F=D.length;F--&&Da.test(D.charAt(F)););return F}var d=E(Lt);function g(D){for(var F=ur.lastIndex=0;ur.test(D);)++F;return F}function k(D){return D.match(ur)||[]}function x(D){return D.match(lo)||[]}var N=function D(F){F=F==null?an:H.defaults(an.Object(),F,H.pick(an,oi));var M=F.Array,oe=F.Date,ae=F.Error,we=F.Function,Ce=F.Math,ke=F.Object,Be=F.RegExp,Nt=F.String,tt=F.TypeError,Ct=M.prototype,Qt=we.prototype,Ne=ke.prototype,Kt=F["__core-js_shared__"],Ye=Qt.toString,qe=Ne.hasOwnProperty,er=0,We=function(){var s=/[^.]+$/.exec(Kt&&Kt.keys&&Kt.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),fn=Ne.toString,Ni=Ye.call(ke),qn=an._,fi=Be("^"+Ye.call(qe).replace(Ps,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cr=ta?F.Buffer:t,Zt=F.Symbol,Mn=F.Uint8Array,Hn=cr?cr.allocUnsafe:t,Gr=Ba(ke.getPrototypeOf,ke),tr=ke.create,wo=Ne.propertyIsEnumerable,Qr=Ct.splice,di=Zt?Zt.isConcatSpreadable:t,ps=Zt?Zt.iterator:t,Bs=Zt?Zt.toStringTag:t,So=function(){try{var s=Ml(ke,"defineProperty");return s({},"",{}),s}catch{}}(),ia=F.clearTimeout!==an.clearTimeout&&F.clearTimeout,ms=oe&&oe.now!==an.Date.now&&oe.now,uc=F.setTimeout!==an.setTimeout&&F.setTimeout,Fi=Ce.ceil,oa=Ce.floor,qa=ke.getOwnPropertySymbols,lc=cr?cr.isBuffer:t,ko=F.isFinite,dl=Ct.join,Ha=Ba(ke.keys,ke),en=Ce.max,Ut=Ce.min,pl=oe.now,_o=F.parseInt,Mi=Ce.random,za=Ct.reverse,qs=Ml(F,"DataView"),pi=Ml(F,"Map"),Kr=Ml(F,"Promise"),Hs=Ml(F,"Set"),zs=Ml(F,"WeakMap"),Zr=Ml(ke,"create"),hr=zs&&new zs,mi={},gs=Ll(qs),aa=Ll(pi),Wa=Ll(Kr),Co=Ll(Hs),Ws=Ll(zs),ys=Zt?Zt.prototype:t,dn=ys?ys.valueOf:t,Gs=ys?ys.toString:t;function P(s){if(Un(s)&&!Je(s)&&!(s instanceof Le)){if(s instanceof wr)return s;if(qe.call(s,"__wrapped__"))return Xg(s)}return new wr(s)}var Li=function(){function s(){}return function(o){if(!Pn(o))return{};if(tr)return tr(o);s.prototype=o;var p=new s;return s.prototype=t,p}}();function gi(){}function wr(s,o){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=t}P.templateSettings={escape:ku,evaluate:eo,interpolate:kn,variable:"",imports:{_:P}},P.prototype=gi.prototype,P.prototype.constructor=P,wr.prototype=Li(gi.prototype),wr.prototype.constructor=wr;function Le(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function ua(){var s=new Le(this.__wrapped__);return s.__actions__=Cr(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Cr(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Cr(this.__views__),s}function Io(){if(this.__filtered__){var s=new Le(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function Ui(){var s=this.__wrapped__.value(),o=this.__dir__,p=Je(s),b=o<0,I=p?s.length:0,A=Ik(0,I,this.__views__),$=A.start,W=A.end,Z=W-$,ce=b?W:$-1,he=this.__iteratees__,ge=he.length,_e=0,Fe=Ut(Z,this.__takeCount__);if(!p||!b&&I==Z&&Fe==Z)return Il(s,this.__actions__);var He=[];e:for(;Z--&&_e<Fe;){ce+=o;for(var at=-1,ze=s[ce];++at<ge;){var vt=he[at],It=vt.iteratee,ki=vt.type,_s=It(ze);if(ki==it)ze=_s;else if(!_s){if(ki==Rt)continue e;break e}}He[_e++]=ze}return He}Le.prototype=Li(gi.prototype),Le.prototype.constructor=Le;function vs(s){var o=-1,p=s==null?0:s.length;for(this.clear();++o<p;){var b=s[o];this.set(b[0],b[1])}}function Ga(){this.__data__=Zr?Zr(null):{},this.size=0}function Fr(s){var o=this.has(s)&&delete this.__data__[s];return this.size-=o?1:0,o}function cc(s){var o=this.__data__;if(Zr){var p=o[s];return p===w?t:p}return qe.call(o,s)?o[s]:t}function xo(s){var o=this.__data__;return Zr?o[s]!==t:qe.call(o,s)}function ml(s,o){var p=this.__data__;return this.size+=this.has(s)?0:1,p[s]=Zr&&o===t?w:o,this}vs.prototype.clear=Ga,vs.prototype.delete=Fr,vs.prototype.get=cc,vs.prototype.has=xo,vs.prototype.set=ml;function Sr(s){var o=-1,p=s==null?0:s.length;for(this.clear();++o<p;){var b=s[o];this.set(b[0],b[1])}}function la(){this.__data__=[],this.size=0}function Qa(s){var o=this.__data__,p=te(o,s);if(p<0)return!1;var b=o.length-1;return p==b?o.pop():Qr.call(o,p,1),--this.size,!0}function Vi(s){var o=this.__data__,p=te(o,s);return p<0?t:o[p][1]}function Ka(s){return te(this.__data__,s)>-1}function Du(s,o){var p=this.__data__,b=te(p,s);return b<0?(++this.size,p.push([s,o])):p[b][1]=o,this}Sr.prototype.clear=la,Sr.prototype.delete=Qa,Sr.prototype.get=Vi,Sr.prototype.has=Ka,Sr.prototype.set=Du;function Xr(s){var o=-1,p=s==null?0:s.length;for(this.clear();++o<p;){var b=s[o];this.set(b[0],b[1])}}function Za(){this.size=0,this.__data__={hash:new vs,map:new(pi||Sr),string:new vs}}function bs(s){var o=Sf(this,s).delete(s);return this.size-=o?1:0,o}function yi(s){return Sf(this,s).get(s)}function ca(s){return Sf(this,s).has(s)}function To(s,o){var p=Sf(this,s),b=p.size;return p.set(s,o),this.size+=p.size==b?0:1,this}Xr.prototype.clear=Za,Xr.prototype.delete=bs,Xr.prototype.get=yi,Xr.prototype.has=ca,Xr.prototype.set=To;function ws(s){var o=-1,p=s==null?0:s.length;for(this.__data__=new Xr;++o<p;)this.add(s[o])}function ha(s){return this.__data__.set(s,w),this}function Xa(s){return this.__data__.has(s)}ws.prototype.add=ws.prototype.push=ha,ws.prototype.has=Xa;function Ln(s){var o=this.__data__=new Sr(s);this.size=o.size}function $i(){this.__data__=new Sr,this.size=0}function Po(s){var o=this.__data__,p=o.delete(s);return this.size=o.size,p}function Ro(s){return this.__data__.get(s)}function Ya(s){return this.__data__.has(s)}function u(s,o){var p=this.__data__;if(p instanceof Sr){var b=p.__data__;if(!pi||b.length<i-1)return b.push([s,o]),this.size=++p.size,this;p=this.__data__=new Xr(b)}return p.set(s,o),this.size=p.size,this}Ln.prototype.clear=$i,Ln.prototype.delete=Po,Ln.prototype.get=Ro,Ln.prototype.has=Ya,Ln.prototype.set=u;function h(s,o){var p=Je(s),b=!p&&Ul(s),I=!p&&!b&&qu(s),A=!p&&!b&&!I&&_c(s),$=p||b||I||A,W=$?bt(s.length,Nt):[],Z=W.length;for(var ce in s)(o||qe.call(s,ce))&&!($&&(ce=="length"||I&&(ce=="offset"||ce=="parent")||A&&(ce=="buffer"||ce=="byteLength"||ce=="byteOffset")||uu(ce,Z)))&&W.push(ce);return W}function m(s){var o=s.length;return o?s[Uu(0,o-1)]:t}function _(s,o){return kf(Cr(s),Ee(o,0,s.length))}function C(s){return kf(Cr(s))}function O(s,o,p){(p!==t&&!No(s[o],p)||p===t&&!(o in s))&&ue(s,o,p)}function j(s,o,p){var b=s[o];(!(qe.call(s,o)&&No(b,p))||p===t&&!(o in s))&&ue(s,o,p)}function te(s,o){for(var p=s.length;p--;)if(No(s[p][0],o))return p;return-1}function z(s,o,p,b){return tn(s,function(I,A,$){o(b,I,p(I),$)}),b}function J(s,o){return s&&Jr(o,xr(o),s)}function ve(s,o){return s&&Jr(o,Ks(o),s)}function ue(s,o,p){o=="__proto__"&&So?So(s,o,{configurable:!0,enumerable:!0,value:p,writable:!0}):s[o]=p}function Te(s,o){for(var p=-1,b=o.length,I=M(b),A=s==null;++p<b;)I[p]=A?t:kp(s,o[p]);return I}function Ee(s,o,p){return s===s&&(p!==t&&(s=s<=p?s:p),o!==t&&(s=s>=o?s:o)),s}function Ae(s,o,p,b,I,A){var $,W=o&V,Z=o&Q,ce=o&ee;if(p&&($=I?p(s,b,I,A):p(s)),$!==t)return $;if(!Pn(s))return s;var he=Je(s);if(he){if($=Tk(s),!W)return Cr(s,$)}else{var ge=es(s),_e=ge==Me||ge==Zi;if(qu(s))return dh(s,W);if(ge==Vn||ge==Ht||_e&&!I){if($=Z||_e?{}:Bg(s),!W)return Z?El(s,ve($,s)):vf(s,J($,s))}else{if(!ht[ge])return I?s:{};$=Pk(s,ge,W)}}A||(A=new Ln);var Fe=A.get(s);if(Fe)return Fe;A.set(s,$),yy(s)?s.forEach(function(ze){$.add(Ae(ze,o,p,ze,s,A))}):my(s)&&s.forEach(function(ze,vt){$.set(vt,Ae(ze,o,p,vt,s,A))});var He=ce?Z?up:ap:Z?Ks:xr,at=he?t:He(s);return Nn(at||s,function(ze,vt){at&&(vt=ze,ze=s[vt]),j($,vt,Ae(ze,o,p,vt,s,A))}),$}function Ge(s){var o=xr(s);return function(p){return Ft(p,s,o)}}function Ft(s,o,p){var b=p.length;if(s==null)return!b;for(s=ke(s);b--;){var I=p[b],A=o[I],$=s[I];if($===t&&!(I in s)||!A($))return!1}return!0}function pn(s,o,p){if(typeof s!="function")throw new tt(f);return kh(function(){s.apply(t,p)},o)}function nt(s,o,p,b){var I=-1,A=po,$=!0,W=s.length,Z=[],ce=o.length;if(!W)return Z;p&&(o=ot(o,yt(p))),b?(A=Ai,$=!1):o.length>=i&&(A=br,$=!1,o=new ws(o));e:for(;++I<W;){var he=s[I],ge=p==null?he:p(he);if(he=b||he!==0?he:0,$&&ge===ge){for(var _e=ce;_e--;)if(o[_e]===ge)continue e;Z.push(he)}else A(o,ge,b)||Z.push(he)}return Z}var tn=Al(zt),un=Al(ji,!0);function kr(s,o){var p=!0;return tn(s,function(b,I,A){return p=!!o(b,I,A),p}),p}function Sn(s,o,p){for(var b=-1,I=s.length;++b<I;){var A=s[b],$=o(A);if($!=null&&(W===t?$===$&&!Si($):p($,W)))var W=$,Z=A}return Z}function vi(s,o,p,b){var I=s.length;for(p=st(p),p<0&&(p=-p>I?0:I+p),b=b===t||b>I?I:st(b),b<0&&(b+=I),b=p>b?0:by(b);p<b;)s[p++]=o;return s}function Mr(s,o){var p=[];return tn(s,function(b,I,A){o(b,I,A)&&p.push(b)}),p}function ft(s,o,p,b,I){var A=-1,$=s.length;for(p||(p=Ek),I||(I=[]);++A<$;){var W=s[A];o>0&&p(W)?o>1?ft(W,o-1,p,b,I):lr(I,W):b||(I[I.length]=W)}return I}var mn=su(),nn=su(!0);function zt(s,o){return s&&mn(s,o,xr)}function ji(s,o){return s&&nn(s,o,xr)}function Ss(s,o){return jn(o,function(p){return lu(s[p])})}function _r(s,o){o=Oo(o,s);for(var p=0,b=o.length;s!=null&&p<b;)s=s[Sa(o[p++])];return p&&p==b?s:t}function Eo(s,o,p){var b=o(s);return Je(s)?b:lr(b,p(s))}function Tn(s){return s==null?s===t?Aa:Xt:Bs&&Bs in ke(s)?Ck(s):Lk(s)}function hc(s,o){return s>o}function uf(s,o){return s!=null&&qe.call(s,o)}function lf(s,o){return s!=null&&o in ke(s)}function cf(s,o,p){return s>=Ut(o,p)&&s<en(o,p)}function gl(s,o,p){for(var b=p?Ai:po,I=s[0].length,A=s.length,$=A,W=M(A),Z=1/0,ce=[];$--;){var he=s[$];$&&o&&(he=ot(he,yt(o))),Z=Ut(he.length,Z),W[$]=!p&&(o||I>=120&&he.length>=120)?new ws($&&he):t}he=s[0];var ge=-1,_e=W[0];e:for(;++ge<I&&ce.length<Z;){var Fe=he[ge],He=o?o(Fe):Fe;if(Fe=p||Fe!==0?Fe:0,!(_e?br(_e,He):b(ce,He,p))){for($=A;--$;){var at=W[$];if(!(at?br(at,He):b(s[$],He,p)))continue e}_e&&_e.push(He),ce.push(Fe)}}return ce}function ih(s,o,p,b){return zt(s,function(I,A,$){o(b,p(I),A,$)}),b}function Ja(s,o,p){o=Oo(o,s),s=Wg(s,o);var b=s==null?s:s[Sa(Hi(o))];return b==null?t:hn(b,s,p)}function fc(s){return Un(s)&&Tn(s)==Ht}function yl(s){return Un(s)&&Tn(s)==Yt}function bi(s){return Un(s)&&Tn(s)==or}function Ou(s,o,p,b,I){return s===o?!0:s==null||o==null||!Un(s)&&!Un(o)?s!==s&&o!==o:vl(s,o,p,b,Ou,I)}function vl(s,o,p,b,I,A){var $=Je(s),W=Je(o),Z=$?Gt:es(s),ce=W?Gt:es(o);Z=Z==Ht?Vn:Z,ce=ce==Ht?Vn:ce;var he=Z==Vn,ge=ce==Vn,_e=Z==ce;if(_e&&qu(s)){if(!qu(o))return!1;$=!0,he=!1}if(_e&&!he)return A||(A=new Ln),$||_c(s)?Vg(s,o,p,b,I,A):kk(s,o,Z,p,b,I,A);if(!(p&ne)){var Fe=he&&qe.call(s,"__wrapped__"),He=ge&&qe.call(o,"__wrapped__");if(Fe||He){var at=Fe?s.value():s,ze=He?o.value():o;return A||(A=new Ln),I(at,ze,p,b,A)}}return _e?(A||(A=new Ln),_k(s,o,p,b,I,A)):!1}function hf(s){return Un(s)&&es(s)==Xn}function dc(s,o,p,b){var I=p.length,A=I,$=!b;if(s==null)return!A;for(s=ke(s);I--;){var W=p[I];if($&&W[2]?W[1]!==s[W[0]]:!(W[0]in s))return!1}for(;++I<A;){W=p[I];var Z=W[0],ce=s[Z],he=W[1];if($&&W[2]){if(ce===t&&!(Z in s))return!1}else{var ge=new Ln;if(b)var _e=b(ce,he,Z,s,o,ge);if(!(_e===t?Ou(he,ce,ne|le,b,ge):_e))return!1}}return!0}function oh(s){if(!Pn(s)||Dk(s))return!1;var o=lu(s)?fi:Iu;return o.test(Ll(s))}function ff(s){return Un(s)&&Tn(s)==En}function df(s){return Un(s)&&es(s)==Mt}function pf(s){return Un(s)&&Pf(s.length)&&!!et[Tn(s)]}function Nu(s){return typeof s=="function"?s:s==null?Zs:typeof s=="object"?Je(s)?fa(s[0],s[1]):ah(s):Ey(s)}function wi(s){if(!Sh(s))return Ha(s);var o=[];for(var p in ke(s))qe.call(s,p)&&p!="constructor"&&o.push(p);return o}function mf(s){if(!Pn(s))return Mk(s);var o=Sh(s),p=[];for(var b in s)b=="constructor"&&(o||!qe.call(s,b))||p.push(b);return p}function pc(s,o){return s<o}function Fu(s,o){var p=-1,b=Qs(s)?M(s.length):[];return tn(s,function(I,A,$){b[++p]=o(I,A,$)}),b}function ah(s){var o=cp(s);return o.length==1&&o[0][2]?Hg(o[0][0],o[0][1]):function(p){return p===s||dc(p,s,o)}}function fa(s,o){return fp(s)&&qg(o)?Hg(Sa(s),o):function(p){var b=kp(p,s);return b===t&&b===o?_p(p,s):Ou(o,b,ne|le)}}function da(s,o,p,b,I){s!==o&&mn(o,function(A,$){if(I||(I=new Ln),Pn(A))bl(s,o,$,p,da,b,I);else{var W=b?b(pp(s,$),A,$+"",s,o,I):t;W===t&&(W=A),O(s,$,W)}},Ks)}function bl(s,o,p,b,I,A,$){var W=pp(s,p),Z=pp(o,p),ce=$.get(Z);if(ce){O(s,p,ce);return}var he=A?A(W,Z,p+"",s,o,$):t,ge=he===t;if(ge){var _e=Je(Z),Fe=!_e&&qu(Z),He=!_e&&!Fe&&_c(Z);he=Z,_e||Fe||He?Je(W)?he=W:Gn(W)?he=Cr(W):Fe?(ge=!1,he=dh(Z,!0)):He?(ge=!1,he=ya(Z,!0)):he=[]:_h(Z)||Ul(Z)?(he=W,Ul(W)?he=wy(W):(!Pn(W)||lu(W))&&(he=Bg(Z))):ge=!1}ge&&($.set(Z,he),I(he,Z,b,A,$),$.delete(Z)),O(s,p,he)}function Mu(s,o){var p=s.length;if(p)return o+=o<0?p:0,uu(o,p)?s[o]:t}function Lu(s,o,p){o.length?o=ot(o,function(A){return Je(A)?function($){return _r($,A.length===1?A[0]:A)}:A}):o=[Zs];var b=-1;o=ot(o,yt($e()));var I=Fu(s,function(A,$,W){var Z=ot(o,function(ce){return ce(A)});return{criteria:Z,index:++b,value:A}});return ie(I,function(A,$){return $u(A,$,p)})}function pa(s,o){return mc(s,o,function(p,b){return _p(s,b)})}function mc(s,o,p){for(var b=-1,I=o.length,A={};++b<I;){var $=o[b],W=_r(s,$);p(W,$)&&Vu(A,Oo($,s),W)}return A}function uh(s){return function(o){return _r(o,s)}}function Ao(s,o,p,b){var I=b?Vs:Us,A=-1,$=o.length,W=s;for(s===o&&(o=Cr(o)),p&&(W=ot(s,yt(p)));++A<$;)for(var Z=0,ce=o[A],he=p?p(ce):ce;(Z=I(W,he,Z,b))>-1;)W!==s&&Qr.call(W,Z,1),Qr.call(s,Z,1);return s}function lh(s,o){for(var p=s?o.length:0,b=p-1;p--;){var I=o[p];if(p==b||I!==A){var A=I;uu(I)?Qr.call(s,I,1):Cl(s,I)}}return s}function Uu(s,o){return s+oa(Mi()*(o-s+1))}function gf(s,o,p,b){for(var I=-1,A=en(Fi((o-s)/(p||1)),0),$=M(A);A--;)$[b?A:++I]=s,s+=p;return $}function eu(s,o){var p="";if(!s||o<1||o>ln)return p;do o%2&&(p+=s),o=oa(o/2),o&&(s+=s);while(o);return p}function rt(s,o){return mp(zg(s,o,Zs),s+"")}function wl(s){return m(Cc(s))}function Sl(s,o){var p=Cc(s);return kf(p,Ee(o,0,p.length))}function Vu(s,o,p,b){if(!Pn(s))return s;o=Oo(o,s);for(var I=-1,A=o.length,$=A-1,W=s;W!=null&&++I<A;){var Z=Sa(o[I]),ce=p;if(Z==="__proto__"||Z==="constructor"||Z==="prototype")return s;if(I!=$){var he=W[Z];ce=b?b(he,Z,W):t,ce===t&&(ce=Pn(he)?he:uu(o[I+1])?[]:{})}j(W,Z,ce),W=W[Z]}return s}var ch=hr?function(s,o){return hr.set(s,o),s}:Zs,hh=So?function(s,o){return So(s,"toString",{configurable:!0,enumerable:!1,value:Ip(o),writable:!0})}:Zs;function op(s){return kf(Cc(s))}function zn(s,o,p){var b=-1,I=s.length;o<0&&(o=-o>I?0:I+o),p=p>I?I:p,p<0&&(p+=I),I=o>p?0:p-o>>>0,o>>>=0;for(var A=M(I);++b<I;)A[b]=s[b+o];return A}function gc(s,o){var p;return tn(s,function(b,I,A){return p=o(b,I,A),!p}),!!p}function ma(s,o,p){var b=0,I=s==null?b:s.length;if(typeof o=="number"&&o===o&&I<=lt){for(;b<I;){var A=b+I>>>1,$=s[A];$!==null&&!Si($)&&(p?$<=o:$<o)?b=A+1:I=A}return I}return ga(s,o,Zs,p)}function ga(s,o,p,b){var I=0,A=s==null?0:s.length;if(A===0)return 0;o=p(o);for(var $=o!==o,W=o===null,Z=Si(o),ce=o===t;I<A;){var he=oa((I+A)/2),ge=p(s[he]),_e=ge!==t,Fe=ge===null,He=ge===ge,at=Si(ge);if($)var ze=b||He;else ce?ze=He&&(b||_e):W?ze=He&&_e&&(b||!Fe):Z?ze=He&&_e&&!Fe&&(b||!at):Fe||at?ze=!1:ze=b?ge<=o:ge<o;ze?I=he+1:A=he}return Ut(A,qt)}function kl(s,o){for(var p=-1,b=s.length,I=0,A=[];++p<b;){var $=s[p],W=o?o($):$;if(!p||!No(W,Z)){var Z=W;A[I++]=$===0?0:$}}return A}function _l(s){return typeof s=="number"?s:Si(s)?ye:+s}function Lr(s){if(typeof s=="string")return s;if(Je(s))return ot(s,Lr)+"";if(Si(s))return Gs?Gs.call(s):"";var o=s+"";return o=="0"&&1/s==-1/0?"-0":o}function Do(s,o,p){var b=-1,I=po,A=s.length,$=!0,W=[],Z=W;if(p)$=!1,I=Ai;else if(A>=i){var ce=o?null:bf(s);if(ce)return Oi(ce);$=!1,I=br,Z=new ws}else Z=o?[]:W;e:for(;++b<A;){var he=s[b],ge=o?o(he):he;if(he=p||he!==0?he:0,$&&ge===ge){for(var _e=Z.length;_e--;)if(Z[_e]===ge)continue e;o&&Z.push(ge),W.push(he)}else I(Z,ge,p)||(Z!==W&&Z.push(ge),W.push(he))}return W}function Cl(s,o){return o=Oo(o,s),s=Wg(s,o),s==null||delete s[Sa(Hi(o))]}function fh(s,o,p,b){return Vu(s,o,p(_r(s,o)),b)}function tu(s,o,p,b){for(var I=s.length,A=b?I:-1;(b?A--:++A<I)&&o(s[A],A,s););return p?zn(s,b?0:A,b?A+1:I):zn(s,b?A+1:0,b?I:A)}function Il(s,o){var p=s;return p instanceof Le&&(p=p.value()),Bn(o,function(b,I){return I.func.apply(I.thisArg,lr([b],I.args))},p)}function yc(s,o,p){var b=s.length;if(b<2)return b?Do(s[0]):[];for(var I=-1,A=M(b);++I<b;)for(var $=s[I],W=-1;++W<b;)W!=I&&(A[I]=nt(A[I]||$,s[W],o,p));return Do(ft(A,1),o,p)}function xl(s,o,p){for(var b=-1,I=s.length,A=o.length,$={};++b<I;){var W=b<A?o[b]:t;p($,s[b],W)}return $}function Tl(s){return Gn(s)?s:[]}function vc(s){return typeof s=="function"?s:Zs}function Oo(s,o){return Je(s)?s:fp(s,o)?[s]:Zg(Vt(s))}var bc=rt;function Yr(s,o,p){var b=s.length;return p=p===t?b:p,!o&&p>=b?s:zn(s,o,p)}var nu=ia||function(s){return an.clearTimeout(s)};function dh(s,o){if(o)return s.slice();var p=s.length,b=Hn?Hn(p):new s.constructor(p);return s.copy(b),b}function ru(s){var o=new s.constructor(s.byteLength);return new Mn(o).set(new Mn(s)),o}function wc(s,o){var p=o?ru(s.buffer):s.buffer;return new s.constructor(p,s.byteOffset,s.byteLength)}function Pl(s){var o=new s.constructor(s.source,Cn.exec(s));return o.lastIndex=s.lastIndex,o}function yf(s){return dn?ke(dn.call(s)):{}}function ya(s,o){var p=o?ru(s.buffer):s.buffer;return new s.constructor(p,s.byteOffset,s.length)}function ph(s,o){if(s!==o){var p=s!==t,b=s===null,I=s===s,A=Si(s),$=o!==t,W=o===null,Z=o===o,ce=Si(o);if(!W&&!ce&&!A&&s>o||A&&$&&Z&&!W&&!ce||b&&$&&Z||!p&&Z||!I)return 1;if(!b&&!A&&!ce&&s<o||ce&&p&&I&&!b&&!A||W&&p&&I||!$&&I||!Z)return-1}return 0}function $u(s,o,p){for(var b=-1,I=s.criteria,A=o.criteria,$=I.length,W=p.length;++b<$;){var Z=ph(I[b],A[b]);if(Z){if(b>=W)return Z;var ce=p[b];return Z*(ce=="desc"?-1:1)}}return s.index-o.index}function mh(s,o,p,b){for(var I=-1,A=s.length,$=p.length,W=-1,Z=o.length,ce=en(A-$,0),he=M(Z+ce),ge=!b;++W<Z;)he[W]=o[W];for(;++I<$;)(ge||I<A)&&(he[p[I]]=s[I]);for(;ce--;)he[W++]=s[I++];return he}function Rl(s,o,p,b){for(var I=-1,A=s.length,$=-1,W=p.length,Z=-1,ce=o.length,he=en(A-W,0),ge=M(he+ce),_e=!b;++I<he;)ge[I]=s[I];for(var Fe=I;++Z<ce;)ge[Fe+Z]=o[Z];for(;++$<W;)(_e||I<A)&&(ge[Fe+p[$]]=s[I++]);return ge}function Cr(s,o){var p=-1,b=s.length;for(o||(o=M(b));++p<b;)o[p]=s[p];return o}function Jr(s,o,p,b){var I=!p;p||(p={});for(var A=-1,$=o.length;++A<$;){var W=o[A],Z=b?b(p[W],s[W],W,p,s):t;Z===t&&(Z=s[W]),I?ue(p,W,Z):j(p,W,Z)}return p}function vf(s,o){return Jr(s,hp(s),o)}function El(s,o){return Jr(s,$g(s),o)}function va(s,o){return function(p,b){var I=Je(p)?ci:z,A=o?o():{};return I(p,s,$e(b,2),A)}}function Bi(s){return rt(function(o,p){var b=-1,I=p.length,A=I>1?p[I-1]:t,$=I>2?p[2]:t;for(A=s.length>3&&typeof A=="function"?(I--,A):t,$&&ks(p[0],p[1],$)&&(A=I<3?t:A,I=1),o=ke(o);++b<I;){var W=p[b];W&&s(o,W,b,A)}return o})}function Al(s,o){return function(p,b){if(p==null)return p;if(!Qs(p))return s(p,b);for(var I=p.length,A=o?I:-1,$=ke(p);(o?A--:++A<I)&&b($[A],A,$)!==!1;);return p}}function su(s){return function(o,p,b){for(var I=-1,A=ke(o),$=b(o),W=$.length;W--;){var Z=$[s?W:++I];if(p(A[Z],Z,A)===!1)break}return o}}function Ir(s,o,p){var b=o&fe,I=qi(s);function A(){var $=this&&this!==an&&this instanceof A?I:s;return $.apply(b?p:this,arguments)}return A}function nr(s){return function(o){o=Vt(o);var p=Nr(o)?Fn(o):t,b=p?p[0]:o.charAt(0),I=p?Yr(p,1).join(""):o.slice(1);return b[s]()+I}}function iu(s){return function(o){return Bn(Py(Ty(o).replace(Et,"")),s,"")}}function qi(s){return function(){var o=arguments;switch(o.length){case 0:return new s;case 1:return new s(o[0]);case 2:return new s(o[0],o[1]);case 3:return new s(o[0],o[1],o[2]);case 4:return new s(o[0],o[1],o[2],o[3]);case 5:return new s(o[0],o[1],o[2],o[3],o[4]);case 6:return new s(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new s(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var p=Li(s.prototype),b=s.apply(p,o);return Pn(b)?b:p}}function gh(s,o,p){var b=qi(s);function I(){for(var A=arguments.length,$=M(A),W=A,Z=kc(I);W--;)$[W]=arguments[W];var ce=A<3&&$[0]!==Z&&$[A-1]!==Z?[]:js($,Z);if(A-=ce.length,A<p)return bh(s,o,Dl,I.placeholder,t,$,ce,t,t,p-A);var he=this&&this!==an&&this instanceof I?b:s;return hn(he,this,$)}return I}function ba(s){return function(o,p,b){var I=ke(o);if(!Qs(o)){var A=$e(p,3);o=xr(o),p=function(W){return A(I[W],W,I)}}var $=s(o,p,b);return $>-1?I[A?o[$]:$]:t}}function Sc(s){return au(function(o){var p=o.length,b=p,I=wr.prototype.thru;for(s&&o.reverse();b--;){var A=o[b];if(typeof A!="function")throw new tt(f);if(I&&!$&&wf(A)=="wrapper")var $=new wr([],!0)}for(b=$?b:p;++b<p;){A=o[b];var W=wf(A),Z=W=="wrapper"?lp(A):t;Z&&dp(Z[0])&&Z[1]==(q|Pe|je|L)&&!Z[4].length&&Z[9]==1?$=$[wf(Z[0])].apply($,Z[3]):$=A.length==1&&dp(A)?$[W]():$.thru(A)}return function(){var ce=arguments,he=ce[0];if($&&ce.length==1&&Je(he))return $.plant(he).value();for(var ge=0,_e=p?o[ge].apply(this,ce):he;++ge<p;)_e=o[ge].call(this,_e);return _e}})}function Dl(s,o,p,b,I,A,$,W,Z,ce){var he=o&q,ge=o&fe,_e=o&xe,Fe=o&(Pe|Ue),He=o&U,at=_e?t:qi(s);function ze(){for(var vt=arguments.length,It=M(vt),ki=vt;ki--;)It[ki]=arguments[ki];if(Fe)var _s=kc(ze),_i=hi(It,_s);if(b&&(It=mh(It,b,I,Fe)),A&&(It=Rl(It,A,$,Fe)),vt-=_i,Fe&&vt<ce){var Qn=js(It,_s);return bh(s,o,Dl,ze.placeholder,p,It,Qn,W,Z,ce-vt)}var Fo=ge?p:this,hu=_e?Fo[s]:s;return vt=It.length,W?It=Uk(It,W):He&&vt>1&&It.reverse(),he&&Z<vt&&(It.length=Z),this&&this!==an&&this instanceof ze&&(hu=at||qi(hu)),hu.apply(Fo,It)}return ze}function wa(s,o){return function(p,b){return ih(p,s,o(b),{})}}function ju(s,o){return function(p,b){var I;if(p===t&&b===t)return o;if(p!==t&&(I=p),b!==t){if(I===t)return b;typeof p=="string"||typeof b=="string"?(p=Lr(p),b=Lr(b)):(p=_l(p),b=_l(b)),I=s(p,b)}return I}}function Ol(s){return au(function(o){return o=ot(o,yt($e())),rt(function(p){var b=this;return s(o,function(I){return hn(I,b,p)})})})}function Nl(s,o){o=o===t?" ":Lr(o);var p=o.length;if(p<2)return p?eu(o,s):o;var b=eu(o,Fi(s/bo(o)));return Nr(o)?Yr(Fn(b),0,s).join(""):b.slice(0,s)}function yh(s,o,p,b){var I=o&fe,A=qi(s);function $(){for(var W=-1,Z=arguments.length,ce=-1,he=b.length,ge=M(he+Z),_e=this&&this!==an&&this instanceof $?A:s;++ce<he;)ge[ce]=b[ce];for(;Z--;)ge[ce++]=arguments[++W];return hn(_e,I?p:this,ge)}return $}function vh(s){return function(o,p,b){return b&&typeof b!="number"&&ks(o,p,b)&&(p=b=t),o=cu(o),p===t?(p=o,o=0):p=cu(p),b=b===t?o<p?1:-1:cu(b),gf(o,p,b,s)}}function Bu(s){return function(o,p){return typeof o=="string"&&typeof p=="string"||(o=zi(o),p=zi(p)),s(o,p)}}function bh(s,o,p,b,I,A,$,W,Z,ce){var he=o&Pe,ge=he?$:t,_e=he?t:$,Fe=he?A:t,He=he?t:A;o|=he?je:Oe,o&=~(he?Oe:je),o&Ie||(o&=-4);var at=[s,o,I,Fe,ge,He,_e,W,Z,ce],ze=p.apply(t,at);return dp(s)&&Gg(ze,at),ze.placeholder=b,Qg(ze,s,o)}function Fl(s){var o=Ce[s];return function(p,b){if(p=zi(p),b=b==null?0:Ut(st(b),292),b&&ko(p)){var I=(Vt(p)+"e").split("e"),A=o(I[0]+"e"+(+I[1]+b));return I=(Vt(A)+"e").split("e"),+(I[0]+"e"+(+I[1]-b))}return o(p)}}var bf=Hs&&1/Oi(new Hs([,-0]))[1]==be?function(s){return new Hs(s)}:Pp;function ou(s){return function(o){var p=es(o);return p==Xn?yo(o):p==Mt?vo(o):_t(o,s(o))}}function Wn(s,o,p,b,I,A,$,W){var Z=o&xe;if(!Z&&typeof s!="function")throw new tt(f);var ce=b?b.length:0;if(ce||(o&=-97,b=I=t),$=$===t?$:en(st($),0),W=W===t?W:st(W),ce-=I?I.length:0,o&Oe){var he=b,ge=I;b=I=t}var _e=Z?t:lp(s),Fe=[s,o,p,b,I,he,ge,A,$,W];if(_e&&Fk(Fe,_e),s=Fe[0],o=Fe[1],p=Fe[2],b=Fe[3],I=Fe[4],W=Fe[9]=Fe[9]===t?Z?0:s.length:en(Fe[9]-ce,0),!W&&o&(Pe|Ue)&&(o&=-25),!o||o==fe)var He=Ir(s,o,p);else o==Pe||o==Ue?He=gh(s,o,W):(o==je||o==(fe|je))&&!I.length?He=yh(s,o,p,b):He=Dl.apply(t,Fe);var at=_e?ch:Gg;return Qg(at(He,Fe),s,o)}function wh(s,o,p,b){return s===t||No(s,Ne[p])&&!qe.call(b,p)?o:s}function Ug(s,o,p,b,I,A){return Pn(s)&&Pn(o)&&(A.set(o,s),da(s,o,t,Ug,A),A.delete(o)),s}function Sk(s){return _h(s)?t:s}function Vg(s,o,p,b,I,A){var $=p&ne,W=s.length,Z=o.length;if(W!=Z&&!($&&Z>W))return!1;var ce=A.get(s),he=A.get(o);if(ce&&he)return ce==o&&he==s;var ge=-1,_e=!0,Fe=p&le?new ws:t;for(A.set(s,o),A.set(o,s);++ge<W;){var He=s[ge],at=o[ge];if(b)var ze=$?b(at,He,ge,o,s,A):b(He,at,ge,s,o,A);if(ze!==t){if(ze)continue;_e=!1;break}if(Fe){if(!mo(o,function(vt,It){if(!br(Fe,It)&&(He===vt||I(He,vt,p,b,A)))return Fe.push(It)})){_e=!1;break}}else if(!(He===at||I(He,at,p,b,A))){_e=!1;break}}return A.delete(s),A.delete(o),_e}function kk(s,o,p,b,I,A,$){switch(p){case Er:if(s.byteLength!=o.byteLength||s.byteOffset!=o.byteOffset)return!1;s=s.buffer,o=o.buffer;case Yt:return!(s.byteLength!=o.byteLength||!A(new Mn(s),new Mn(o)));case Zn:case or:case os:return No(+s,+o);case Dt:return s.name==o.name&&s.message==o.message;case En:case ct:return s==o+"";case Xn:var W=yo;case Mt:var Z=b&ne;if(W||(W=Oi),s.size!=o.size&&!Z)return!1;var ce=$.get(s);if(ce)return ce==o;b|=le,$.set(s,o);var he=Vg(W(s),W(o),b,I,A,$);return $.delete(s),he;case cn:if(dn)return dn.call(s)==dn.call(o)}return!1}function _k(s,o,p,b,I,A){var $=p&ne,W=ap(s),Z=W.length,ce=ap(o),he=ce.length;if(Z!=he&&!$)return!1;for(var ge=Z;ge--;){var _e=W[ge];if(!($?_e in o:qe.call(o,_e)))return!1}var Fe=A.get(s),He=A.get(o);if(Fe&&He)return Fe==o&&He==s;var at=!0;A.set(s,o),A.set(o,s);for(var ze=$;++ge<Z;){_e=W[ge];var vt=s[_e],It=o[_e];if(b)var ki=$?b(It,vt,_e,o,s,A):b(vt,It,_e,s,o,A);if(!(ki===t?vt===It||I(vt,It,p,b,A):ki)){at=!1;break}ze||(ze=_e=="constructor")}if(at&&!ze){var _s=s.constructor,_i=o.constructor;_s!=_i&&"constructor"in s&&"constructor"in o&&!(typeof _s=="function"&&_s instanceof _s&&typeof _i=="function"&&_i instanceof _i)&&(at=!1)}return A.delete(s),A.delete(o),at}function au(s){return mp(zg(s,t,ey),s+"")}function ap(s){return Eo(s,xr,hp)}function up(s){return Eo(s,Ks,$g)}var lp=hr?function(s){return hr.get(s)}:Pp;function wf(s){for(var o=s.name+"",p=mi[o],b=qe.call(mi,o)?p.length:0;b--;){var I=p[b],A=I.func;if(A==null||A==s)return I.name}return o}function kc(s){var o=qe.call(P,"placeholder")?P:s;return o.placeholder}function $e(){var s=P.iteratee||xp;return s=s===xp?Nu:s,arguments.length?s(arguments[0],arguments[1]):s}function Sf(s,o){var p=s.__data__;return Ak(o)?p[typeof o=="string"?"string":"hash"]:p.map}function cp(s){for(var o=xr(s),p=o.length;p--;){var b=o[p],I=s[b];o[p]=[b,I,qg(I)]}return o}function Ml(s,o){var p=ra(s,o);return oh(p)?p:t}function Ck(s){var o=qe.call(s,Bs),p=s[Bs];try{s[Bs]=t;var b=!0}catch{}var I=fn.call(s);return b&&(o?s[Bs]=p:delete s[Bs]),I}var hp=qa?function(s){return s==null?[]:(s=ke(s),jn(qa(s),function(o){return wo.call(s,o)}))}:Rp,$g=qa?function(s){for(var o=[];s;)lr(o,hp(s)),s=Gr(s);return o}:Rp,es=Tn;(qs&&es(new qs(new ArrayBuffer(1)))!=Er||pi&&es(new pi)!=Xn||Kr&&es(Kr.resolve())!=Xi||Hs&&es(new Hs)!=Mt||zs&&es(new zs)!=ei)&&(es=function(s){var o=Tn(s),p=o==Vn?s.constructor:t,b=p?Ll(p):"";if(b)switch(b){case gs:return Er;case aa:return Xn;case Wa:return Xi;case Co:return Mt;case Ws:return ei}return o});function Ik(s,o,p){for(var b=-1,I=p.length;++b<I;){var A=p[b],$=A.size;switch(A.type){case"drop":s+=$;break;case"dropRight":o-=$;break;case"take":o=Ut(o,s+$);break;case"takeRight":s=en(s,o-$);break}}return{start:s,end:o}}function xk(s){var o=s.match(Yn);return o?o[1].split(_u):[]}function jg(s,o,p){o=Oo(o,s);for(var b=-1,I=o.length,A=!1;++b<I;){var $=Sa(o[b]);if(!(A=s!=null&&p(s,$)))break;s=s[$]}return A||++b!=I?A:(I=s==null?0:s.length,!!I&&Pf(I)&&uu($,I)&&(Je(s)||Ul(s)))}function Tk(s){var o=s.length,p=new s.constructor(o);return o&&typeof s[0]=="string"&&qe.call(s,"index")&&(p.index=s.index,p.input=s.input),p}function Bg(s){return typeof s.constructor=="function"&&!Sh(s)?Li(Gr(s)):{}}function Pk(s,o,p){var b=s.constructor;switch(o){case Yt:return ru(s);case Zn:case or:return new b(+s);case Er:return wc(s,p);case jr:case ti:case Is:case as:case ni:case Yi:case ri:case Ot:case An:return ya(s,p);case Xn:return new b;case os:case ct:return new b(s);case En:return Pl(s);case Mt:return new b;case cn:return yf(s)}}function Rk(s,o){var p=o.length;if(!p)return s;var b=p-1;return o[b]=(p>1?"& ":"")+o[b],o=o.join(p>2?", ":" "),s.replace(ar,`{
/* [wrapped with `+o+`] */
`)}function Ek(s){return Je(s)||Ul(s)||!!(di&&s&&s[di])}function uu(s,o){var p=typeof s;return o=o??ln,!!o&&(p=="number"||p!="symbol"&&Oa.test(s))&&s>-1&&s%1==0&&s<o}function ks(s,o,p){if(!Pn(p))return!1;var b=typeof o;return(b=="number"?Qs(p)&&uu(o,p.length):b=="string"&&o in p)?No(p[o],s):!1}function fp(s,o){if(Je(s))return!1;var p=typeof s;return p=="number"||p=="symbol"||p=="boolean"||s==null||Si(s)?!0:bn.test(s)||!Dn.test(s)||o!=null&&s in ke(o)}function Ak(s){var o=typeof s;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?s!=="__proto__":s===null}function dp(s){var o=wf(s),p=P[o];if(typeof p!="function"||!(o in Le.prototype))return!1;if(s===p)return!0;var b=lp(p);return!!b&&s===b[0]}function Dk(s){return!!We&&We in s}var Ok=Kt?lu:Ep;function Sh(s){var o=s&&s.constructor,p=typeof o=="function"&&o.prototype||Ne;return s===p}function qg(s){return s===s&&!Pn(s)}function Hg(s,o){return function(p){return p==null?!1:p[s]===o&&(o!==t||s in ke(p))}}function Nk(s){var o=xf(s,function(b){return p.size===T&&p.clear(),b}),p=o.cache;return o}function Fk(s,o){var p=s[1],b=o[1],I=p|b,A=I<(fe|xe|q),$=b==q&&p==Pe||b==q&&p==L&&s[7].length<=o[8]||b==(q|L)&&o[7].length<=o[8]&&p==Pe;if(!(A||$))return s;b&fe&&(s[2]=o[2],I|=p&fe?0:Ie);var W=o[3];if(W){var Z=s[3];s[3]=Z?mh(Z,W,o[4]):W,s[4]=Z?js(s[3],R):o[4]}return W=o[5],W&&(Z=s[5],s[5]=Z?Rl(Z,W,o[6]):W,s[6]=Z?js(s[5],R):o[6]),W=o[7],W&&(s[7]=W),b&q&&(s[8]=s[8]==null?o[8]:Ut(s[8],o[8])),s[9]==null&&(s[9]=o[9]),s[0]=o[0],s[1]=I,s}function Mk(s){var o=[];if(s!=null)for(var p in ke(s))o.push(p);return o}function Lk(s){return fn.call(s)}function zg(s,o,p){return o=en(o===t?s.length-1:o,0),function(){for(var b=arguments,I=-1,A=en(b.length-o,0),$=M(A);++I<A;)$[I]=b[o+I];I=-1;for(var W=M(o+1);++I<o;)W[I]=b[I];return W[o]=p($),hn(s,this,W)}}function Wg(s,o){return o.length<2?s:_r(s,zn(o,0,-1))}function Uk(s,o){for(var p=s.length,b=Ut(o.length,p),I=Cr(s);b--;){var A=o[b];s[b]=uu(A,p)?I[A]:t}return s}function pp(s,o){if(!(o==="constructor"&&typeof s[o]=="function")&&o!="__proto__")return s[o]}var Gg=Kg(ch),kh=uc||function(s,o){return an.setTimeout(s,o)},mp=Kg(hh);function Qg(s,o,p){var b=o+"";return mp(s,Rk(b,Vk(xk(b),p)))}function Kg(s){var o=0,p=0;return function(){var b=pl(),I=B-(b-p);if(p=b,I>0){if(++o>=Y)return arguments[0]}else o=0;return s.apply(t,arguments)}}function kf(s,o){var p=-1,b=s.length,I=b-1;for(o=o===t?b:o;++p<o;){var A=Uu(p,I),$=s[A];s[A]=s[p],s[p]=$}return s.length=o,s}var Zg=Nk(function(s){var o=[];return s.charCodeAt(0)===46&&o.push(""),s.replace(rn,function(p,b,I,A){o.push(I?A.replace(_n,"$1"):b||p)}),o});function Sa(s){if(typeof s=="string"||Si(s))return s;var o=s+"";return o=="0"&&1/s==-1/0?"-0":o}function Ll(s){if(s!=null){try{return Ye.call(s)}catch{}try{return s+""}catch{}}return""}function Vk(s,o){return Nn(xt,function(p){var b="_."+p[0];o&p[1]&&!po(s,b)&&s.push(b)}),s.sort()}function Xg(s){if(s instanceof Le)return s.clone();var o=new wr(s.__wrapped__,s.__chain__);return o.__actions__=Cr(s.__actions__),o.__index__=s.__index__,o.__values__=s.__values__,o}function $k(s,o,p){(p?ks(s,o,p):o===t)?o=1:o=en(st(o),0);var b=s==null?0:s.length;if(!b||o<1)return[];for(var I=0,A=0,$=M(Fi(b/o));I<b;)$[A++]=zn(s,I,I+=o);return $}function jk(s){for(var o=-1,p=s==null?0:s.length,b=0,I=[];++o<p;){var A=s[o];A&&(I[b++]=A)}return I}function Bk(){var s=arguments.length;if(!s)return[];for(var o=M(s-1),p=arguments[0],b=s;b--;)o[b-1]=arguments[b];return lr(Je(p)?Cr(p):[p],ft(o,1))}var qk=rt(function(s,o){return Gn(s)?nt(s,ft(o,1,Gn,!0)):[]}),Hk=rt(function(s,o){var p=Hi(o);return Gn(p)&&(p=t),Gn(s)?nt(s,ft(o,1,Gn,!0),$e(p,2)):[]}),zk=rt(function(s,o){var p=Hi(o);return Gn(p)&&(p=t),Gn(s)?nt(s,ft(o,1,Gn,!0),t,p):[]});function Wk(s,o,p){var b=s==null?0:s.length;return b?(o=p||o===t?1:st(o),zn(s,o<0?0:o,b)):[]}function Gk(s,o,p){var b=s==null?0:s.length;return b?(o=p||o===t?1:st(o),o=b-o,zn(s,0,o<0?0:o)):[]}function Qk(s,o){return s&&s.length?tu(s,$e(o,3),!0,!0):[]}function Kk(s,o){return s&&s.length?tu(s,$e(o,3),!0):[]}function Zk(s,o,p,b){var I=s==null?0:s.length;return I?(p&&typeof p!="number"&&ks(s,o,p)&&(p=0,b=I),vi(s,o,p,b)):[]}function Yg(s,o,p){var b=s==null?0:s.length;if(!b)return-1;var I=p==null?0:st(p);return I<0&&(I=en(b+I,0)),ds(s,$e(o,3),I)}function Jg(s,o,p){var b=s==null?0:s.length;if(!b)return-1;var I=b-1;return p!==t&&(I=st(p),I=p<0?en(b+I,0):Ut(I,b-1)),ds(s,$e(o,3),I,!0)}function ey(s){var o=s==null?0:s.length;return o?ft(s,1):[]}function Xk(s){var o=s==null?0:s.length;return o?ft(s,be):[]}function Yk(s,o){var p=s==null?0:s.length;return p?(o=o===t?1:st(o),ft(s,o)):[]}function Jk(s){for(var o=-1,p=s==null?0:s.length,b={};++o<p;){var I=s[o];b[I[0]]=I[1]}return b}function ty(s){return s&&s.length?s[0]:t}function e_(s,o,p){var b=s==null?0:s.length;if(!b)return-1;var I=p==null?0:st(p);return I<0&&(I=en(b+I,0)),Us(s,o,I)}function t_(s){var o=s==null?0:s.length;return o?zn(s,0,-1):[]}var n_=rt(function(s){var o=ot(s,Tl);return o.length&&o[0]===s[0]?gl(o):[]}),r_=rt(function(s){var o=Hi(s),p=ot(s,Tl);return o===Hi(p)?o=t:p.pop(),p.length&&p[0]===s[0]?gl(p,$e(o,2)):[]}),s_=rt(function(s){var o=Hi(s),p=ot(s,Tl);return o=typeof o=="function"?o:t,o&&p.pop(),p.length&&p[0]===s[0]?gl(p,t,o):[]});function i_(s,o){return s==null?"":dl.call(s,o)}function Hi(s){var o=s==null?0:s.length;return o?s[o-1]:t}function o_(s,o,p){var b=s==null?0:s.length;if(!b)return-1;var I=b;return p!==t&&(I=st(p),I=I<0?en(b+I,0):Ut(I,b-1)),o===o?Au(s,o,I):ds(s,l,I,!0)}function a_(s,o){return s&&s.length?Mu(s,st(o)):t}var u_=rt(ny);function ny(s,o){return s&&s.length&&o&&o.length?Ao(s,o):s}function l_(s,o,p){return s&&s.length&&o&&o.length?Ao(s,o,$e(p,2)):s}function c_(s,o,p){return s&&s.length&&o&&o.length?Ao(s,o,t,p):s}var h_=au(function(s,o){var p=s==null?0:s.length,b=Te(s,o);return lh(s,ot(o,function(I){return uu(I,p)?+I:I}).sort(ph)),b});function f_(s,o){var p=[];if(!(s&&s.length))return p;var b=-1,I=[],A=s.length;for(o=$e(o,3);++b<A;){var $=s[b];o($,b,s)&&(p.push($),I.push(b))}return lh(s,I),p}function gp(s){return s==null?s:za.call(s)}function d_(s,o,p){var b=s==null?0:s.length;return b?(p&&typeof p!="number"&&ks(s,o,p)?(o=0,p=b):(o=o==null?0:st(o),p=p===t?b:st(p)),zn(s,o,p)):[]}function p_(s,o){return ma(s,o)}function m_(s,o,p){return ga(s,o,$e(p,2))}function g_(s,o){var p=s==null?0:s.length;if(p){var b=ma(s,o);if(b<p&&No(s[b],o))return b}return-1}function y_(s,o){return ma(s,o,!0)}function v_(s,o,p){return ga(s,o,$e(p,2),!0)}function b_(s,o){var p=s==null?0:s.length;if(p){var b=ma(s,o,!0)-1;if(No(s[b],o))return b}return-1}function w_(s){return s&&s.length?kl(s):[]}function S_(s,o){return s&&s.length?kl(s,$e(o,2)):[]}function k_(s){var o=s==null?0:s.length;return o?zn(s,1,o):[]}function __(s,o,p){return s&&s.length?(o=p||o===t?1:st(o),zn(s,0,o<0?0:o)):[]}function C_(s,o,p){var b=s==null?0:s.length;return b?(o=p||o===t?1:st(o),o=b-o,zn(s,o<0?0:o,b)):[]}function I_(s,o){return s&&s.length?tu(s,$e(o,3),!1,!0):[]}function x_(s,o){return s&&s.length?tu(s,$e(o,3)):[]}var T_=rt(function(s){return Do(ft(s,1,Gn,!0))}),P_=rt(function(s){var o=Hi(s);return Gn(o)&&(o=t),Do(ft(s,1,Gn,!0),$e(o,2))}),R_=rt(function(s){var o=Hi(s);return o=typeof o=="function"?o:t,Do(ft(s,1,Gn,!0),t,o)});function E_(s){return s&&s.length?Do(s):[]}function A_(s,o){return s&&s.length?Do(s,$e(o,2)):[]}function D_(s,o){return o=typeof o=="function"?o:t,s&&s.length?Do(s,t,o):[]}function yp(s){if(!(s&&s.length))return[];var o=0;return s=jn(s,function(p){if(Gn(p))return o=en(p.length,o),!0}),bt(o,function(p){return ot(s,S(p))})}function ry(s,o){if(!(s&&s.length))return[];var p=yp(s);return o==null?p:ot(p,function(b){return hn(o,t,b)})}var O_=rt(function(s,o){return Gn(s)?nt(s,o):[]}),N_=rt(function(s){return yc(jn(s,Gn))}),F_=rt(function(s){var o=Hi(s);return Gn(o)&&(o=t),yc(jn(s,Gn),$e(o,2))}),M_=rt(function(s){var o=Hi(s);return o=typeof o=="function"?o:t,yc(jn(s,Gn),t,o)}),L_=rt(yp);function U_(s,o){return xl(s||[],o||[],j)}function V_(s,o){return xl(s||[],o||[],Vu)}var $_=rt(function(s){var o=s.length,p=o>1?s[o-1]:t;return p=typeof p=="function"?(s.pop(),p):t,ry(s,p)});function sy(s){var o=P(s);return o.__chain__=!0,o}function j_(s,o){return o(s),s}function _f(s,o){return o(s)}var B_=au(function(s){var o=s.length,p=o?s[0]:0,b=this.__wrapped__,I=function(A){return Te(A,s)};return o>1||this.__actions__.length||!(b instanceof Le)||!uu(p)?this.thru(I):(b=b.slice(p,+p+(o?1:0)),b.__actions__.push({func:_f,args:[I],thisArg:t}),new wr(b,this.__chain__).thru(function(A){return o&&!A.length&&A.push(t),A}))});function q_(){return sy(this)}function H_(){return new wr(this.value(),this.__chain__)}function z_(){this.__values__===t&&(this.__values__=vy(this.value()));var s=this.__index__>=this.__values__.length,o=s?t:this.__values__[this.__index__++];return{done:s,value:o}}function W_(){return this}function G_(s){for(var o,p=this;p instanceof gi;){var b=Xg(p);b.__index__=0,b.__values__=t,o?I.__wrapped__=b:o=b;var I=b;p=p.__wrapped__}return I.__wrapped__=s,o}function Q_(){var s=this.__wrapped__;if(s instanceof Le){var o=s;return this.__actions__.length&&(o=new Le(this)),o=o.reverse(),o.__actions__.push({func:_f,args:[gp],thisArg:t}),new wr(o,this.__chain__)}return this.thru(gp)}function K_(){return Il(this.__wrapped__,this.__actions__)}var Z_=va(function(s,o,p){qe.call(s,p)?++s[p]:ue(s,p,1)});function X_(s,o,p){var b=Je(s)?Ms:kr;return p&&ks(s,o,p)&&(o=t),b(s,$e(o,3))}function Y_(s,o){var p=Je(s)?jn:Mr;return p(s,$e(o,3))}var J_=ba(Yg),eC=ba(Jg);function tC(s,o){return ft(Cf(s,o),1)}function nC(s,o){return ft(Cf(s,o),be)}function rC(s,o,p){return p=p===t?1:st(p),ft(Cf(s,o),p)}function iy(s,o){var p=Je(s)?Nn:tn;return p(s,$e(o,3))}function oy(s,o){var p=Je(s)?ja:un;return p(s,$e(o,3))}var sC=va(function(s,o,p){qe.call(s,p)?s[p].push(o):ue(s,p,[o])});function iC(s,o,p,b){s=Qs(s)?s:Cc(s),p=p&&!b?st(p):0;var I=s.length;return p<0&&(p=en(I+p,0)),Rf(s)?p<=I&&s.indexOf(o,p)>-1:!!I&&Us(s,o,p)>-1}var oC=rt(function(s,o,p){var b=-1,I=typeof o=="function",A=Qs(s)?M(s.length):[];return tn(s,function($){A[++b]=I?hn(o,$,p):Ja($,o,p)}),A}),aC=va(function(s,o,p){ue(s,p,o)});function Cf(s,o){var p=Je(s)?ot:Fu;return p(s,$e(o,3))}function uC(s,o,p,b){return s==null?[]:(Je(o)||(o=o==null?[]:[o]),p=b?t:p,Je(p)||(p=p==null?[]:[p]),Lu(s,o,p))}var lC=va(function(s,o,p){s[p?0:1].push(o)},function(){return[[],[]]});function cC(s,o,p){var b=Je(s)?Bn:X,I=arguments.length<3;return b(s,$e(o,4),p,I,tn)}function hC(s,o,p){var b=Je(s)?Di:X,I=arguments.length<3;return b(s,$e(o,4),p,I,un)}function fC(s,o){var p=Je(s)?jn:Mr;return p(s,Tf($e(o,3)))}function dC(s){var o=Je(s)?m:wl;return o(s)}function pC(s,o,p){(p?ks(s,o,p):o===t)?o=1:o=st(o);var b=Je(s)?_:Sl;return b(s,o)}function mC(s){var o=Je(s)?C:op;return o(s)}function gC(s){if(s==null)return 0;if(Qs(s))return Rf(s)?bo(s):s.length;var o=es(s);return o==Xn||o==Mt?s.size:wi(s).length}function yC(s,o,p){var b=Je(s)?mo:gc;return p&&ks(s,o,p)&&(o=t),b(s,$e(o,3))}var vC=rt(function(s,o){if(s==null)return[];var p=o.length;return p>1&&ks(s,o[0],o[1])?o=[]:p>2&&ks(o[0],o[1],o[2])&&(o=[o[0]]),Lu(s,ft(o,1),[])}),If=ms||function(){return an.Date.now()};function bC(s,o){if(typeof o!="function")throw new tt(f);return s=st(s),function(){if(--s<1)return o.apply(this,arguments)}}function ay(s,o,p){return o=p?t:o,o=s&&o==null?s.length:o,Wn(s,q,t,t,t,t,o)}function uy(s,o){var p;if(typeof o!="function")throw new tt(f);return s=st(s),function(){return--s>0&&(p=o.apply(this,arguments)),s<=1&&(o=t),p}}var vp=rt(function(s,o,p){var b=fe;if(p.length){var I=js(p,kc(vp));b|=je}return Wn(s,b,o,p,I)}),ly=rt(function(s,o,p){var b=fe|xe;if(p.length){var I=js(p,kc(ly));b|=je}return Wn(o,b,s,p,I)});function cy(s,o,p){o=p?t:o;var b=Wn(s,Pe,t,t,t,t,t,o);return b.placeholder=cy.placeholder,b}function hy(s,o,p){o=p?t:o;var b=Wn(s,Ue,t,t,t,t,t,o);return b.placeholder=hy.placeholder,b}function fy(s,o,p){var b,I,A,$,W,Z,ce=0,he=!1,ge=!1,_e=!0;if(typeof s!="function")throw new tt(f);o=zi(o)||0,Pn(p)&&(he=!!p.leading,ge="maxWait"in p,A=ge?en(zi(p.maxWait)||0,o):A,_e="trailing"in p?!!p.trailing:_e);function Fe(Qn){var Fo=b,hu=I;return b=I=t,ce=Qn,$=s.apply(hu,Fo),$}function He(Qn){return ce=Qn,W=kh(vt,o),he?Fe(Qn):$}function at(Qn){var Fo=Qn-Z,hu=Qn-ce,Ay=o-Fo;return ge?Ut(Ay,A-hu):Ay}function ze(Qn){var Fo=Qn-Z,hu=Qn-ce;return Z===t||Fo>=o||Fo<0||ge&&hu>=A}function vt(){var Qn=If();if(ze(Qn))return It(Qn);W=kh(vt,at(Qn))}function It(Qn){return W=t,_e&&b?Fe(Qn):(b=I=t,$)}function ki(){W!==t&&nu(W),ce=0,b=Z=I=W=t}function _s(){return W===t?$:It(If())}function _i(){var Qn=If(),Fo=ze(Qn);if(b=arguments,I=this,Z=Qn,Fo){if(W===t)return He(Z);if(ge)return nu(W),W=kh(vt,o),Fe(Z)}return W===t&&(W=kh(vt,o)),$}return _i.cancel=ki,_i.flush=_s,_i}var wC=rt(function(s,o){return pn(s,1,o)}),SC=rt(function(s,o,p){return pn(s,zi(o)||0,p)});function kC(s){return Wn(s,U)}function xf(s,o){if(typeof s!="function"||o!=null&&typeof o!="function")throw new tt(f);var p=function(){var b=arguments,I=o?o.apply(this,b):b[0],A=p.cache;if(A.has(I))return A.get(I);var $=s.apply(this,b);return p.cache=A.set(I,$)||A,$};return p.cache=new(xf.Cache||Xr),p}xf.Cache=Xr;function Tf(s){if(typeof s!="function")throw new tt(f);return function(){var o=arguments;switch(o.length){case 0:return!s.call(this);case 1:return!s.call(this,o[0]);case 2:return!s.call(this,o[0],o[1]);case 3:return!s.call(this,o[0],o[1],o[2])}return!s.apply(this,o)}}function _C(s){return uy(2,s)}var CC=bc(function(s,o){o=o.length==1&&Je(o[0])?ot(o[0],yt($e())):ot(ft(o,1),yt($e()));var p=o.length;return rt(function(b){for(var I=-1,A=Ut(b.length,p);++I<A;)b[I]=o[I].call(this,b[I]);return hn(s,this,b)})}),bp=rt(function(s,o){var p=js(o,kc(bp));return Wn(s,je,t,o,p)}),dy=rt(function(s,o){var p=js(o,kc(dy));return Wn(s,Oe,t,o,p)}),IC=au(function(s,o){return Wn(s,L,t,t,t,o)});function xC(s,o){if(typeof s!="function")throw new tt(f);return o=o===t?o:st(o),rt(s,o)}function TC(s,o){if(typeof s!="function")throw new tt(f);return o=o==null?0:en(st(o),0),rt(function(p){var b=p[o],I=Yr(p,0,o);return b&&lr(I,b),hn(s,this,I)})}function PC(s,o,p){var b=!0,I=!0;if(typeof s!="function")throw new tt(f);return Pn(p)&&(b="leading"in p?!!p.leading:b,I="trailing"in p?!!p.trailing:I),fy(s,o,{leading:b,maxWait:o,trailing:I})}function RC(s){return ay(s,1)}function EC(s,o){return bp(vc(o),s)}function AC(){if(!arguments.length)return[];var s=arguments[0];return Je(s)?s:[s]}function DC(s){return Ae(s,ee)}function OC(s,o){return o=typeof o=="function"?o:t,Ae(s,ee,o)}function NC(s){return Ae(s,V|ee)}function FC(s,o){return o=typeof o=="function"?o:t,Ae(s,V|ee,o)}function MC(s,o){return o==null||Ft(s,o,xr(o))}function No(s,o){return s===o||s!==s&&o!==o}var LC=Bu(hc),UC=Bu(function(s,o){return s>=o}),Ul=fc(function(){return arguments}())?fc:function(s){return Un(s)&&qe.call(s,"callee")&&!wo.call(s,"callee")},Je=M.isArray,VC=ui?yt(ui):yl;function Qs(s){return s!=null&&Pf(s.length)&&!lu(s)}function Gn(s){return Un(s)&&Qs(s)}function $C(s){return s===!0||s===!1||Un(s)&&Tn(s)==Zn}var qu=lc||Ep,jC=fo?yt(fo):bi;function BC(s){return Un(s)&&s.nodeType===1&&!_h(s)}function qC(s){if(s==null)return!0;if(Qs(s)&&(Je(s)||typeof s=="string"||typeof s.splice=="function"||qu(s)||_c(s)||Ul(s)))return!s.length;var o=es(s);if(o==Xn||o==Mt)return!s.size;if(Sh(s))return!wi(s).length;for(var p in s)if(qe.call(s,p))return!1;return!0}function HC(s,o){return Ou(s,o)}function zC(s,o,p){p=typeof p=="function"?p:t;var b=p?p(s,o):t;return b===t?Ou(s,o,t,p):!!b}function wp(s){if(!Un(s))return!1;var o=Tn(s);return o==Dt||o==pr||typeof s.message=="string"&&typeof s.name=="string"&&!_h(s)}function WC(s){return typeof s=="number"&&ko(s)}function lu(s){if(!Pn(s))return!1;var o=Tn(s);return o==Me||o==Zi||o==Rr||o==Ea}function py(s){return typeof s=="number"&&s==st(s)}function Pf(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=ln}function Pn(s){var o=typeof s;return s!=null&&(o=="object"||o=="function")}function Un(s){return s!=null&&typeof s=="object"}var my=Fs?yt(Fs):hf;function GC(s,o){return s===o||dc(s,o,cp(o))}function QC(s,o,p){return p=typeof p=="function"?p:t,dc(s,o,cp(o),p)}function KC(s){return gy(s)&&s!=+s}function ZC(s){if(Ok(s))throw new ae(a);return oh(s)}function XC(s){return s===null}function YC(s){return s==null}function gy(s){return typeof s=="number"||Un(s)&&Tn(s)==os}function _h(s){if(!Un(s)||Tn(s)!=Vn)return!1;var o=Gr(s);if(o===null)return!0;var p=qe.call(o,"constructor")&&o.constructor;return typeof p=="function"&&p instanceof p&&Ye.call(p)==Ni}var Sp=Va?yt(Va):ff;function JC(s){return py(s)&&s>=-9007199254740991&&s<=ln}var yy=li?yt(li):df;function Rf(s){return typeof s=="string"||!Je(s)&&Un(s)&&Tn(s)==ct}function Si(s){return typeof s=="symbol"||Un(s)&&Tn(s)==cn}var _c=$a?yt($a):pf;function e1(s){return s===t}function t1(s){return Un(s)&&es(s)==ei}function n1(s){return Un(s)&&Tn(s)==mt}var r1=Bu(pc),s1=Bu(function(s,o){return s<=o});function vy(s){if(!s)return[];if(Qs(s))return Rf(s)?Fn(s):Cr(s);if(ps&&s[ps])return go(s[ps]());var o=es(s),p=o==Xn?yo:o==Mt?Oi:Cc;return p(s)}function cu(s){if(!s)return s===0?s:0;if(s=zi(s),s===be||s===-1/0){var o=s<0?-1:1;return o*vn}return s===s?s:0}function st(s){var o=cu(s),p=o%1;return o===o?p?o-p:o:0}function by(s){return s?Ee(st(s),0,se):0}function zi(s){if(typeof s=="number")return s;if(Si(s))return ye;if(Pn(s)){var o=typeof s.valueOf=="function"?s.valueOf():s;s=Pn(o)?o+"":o}if(typeof s!="string")return s===0?s:+s;s=wt(s);var p=Wo.test(s);return p||Go.test(s)?La(s.slice(2),p?2:8):ls.test(s)?ye:+s}function wy(s){return Jr(s,Ks(s))}function i1(s){return s?Ee(st(s),-9007199254740991,ln):s===0?s:0}function Vt(s){return s==null?"":Lr(s)}var o1=Bi(function(s,o){if(Sh(o)||Qs(o)){Jr(o,xr(o),s);return}for(var p in o)qe.call(o,p)&&j(s,p,o[p])}),Sy=Bi(function(s,o){Jr(o,Ks(o),s)}),Ef=Bi(function(s,o,p,b){Jr(o,Ks(o),s,b)}),a1=Bi(function(s,o,p,b){Jr(o,xr(o),s,b)}),u1=au(Te);function l1(s,o){var p=Li(s);return o==null?p:J(p,o)}var c1=rt(function(s,o){s=ke(s);var p=-1,b=o.length,I=b>2?o[2]:t;for(I&&ks(o[0],o[1],I)&&(b=1);++p<b;)for(var A=o[p],$=Ks(A),W=-1,Z=$.length;++W<Z;){var ce=$[W],he=s[ce];(he===t||No(he,Ne[ce])&&!qe.call(s,ce))&&(s[ce]=A[ce])}return s}),h1=rt(function(s){return s.push(t,Ug),hn(ky,t,s)});function f1(s,o){return At(s,$e(o,3),zt)}function d1(s,o){return At(s,$e(o,3),ji)}function p1(s,o){return s==null?s:mn(s,$e(o,3),Ks)}function m1(s,o){return s==null?s:nn(s,$e(o,3),Ks)}function g1(s,o){return s&&zt(s,$e(o,3))}function y1(s,o){return s&&ji(s,$e(o,3))}function v1(s){return s==null?[]:Ss(s,xr(s))}function b1(s){return s==null?[]:Ss(s,Ks(s))}function kp(s,o,p){var b=s==null?t:_r(s,o);return b===t?p:b}function w1(s,o){return s!=null&&jg(s,o,uf)}function _p(s,o){return s!=null&&jg(s,o,lf)}var S1=wa(function(s,o,p){o!=null&&typeof o.toString!="function"&&(o=fn.call(o)),s[o]=p},Ip(Zs)),k1=wa(function(s,o,p){o!=null&&typeof o.toString!="function"&&(o=fn.call(o)),qe.call(s,o)?s[o].push(p):s[o]=[p]},$e),_1=rt(Ja);function xr(s){return Qs(s)?h(s):wi(s)}function Ks(s){return Qs(s)?h(s,!0):mf(s)}function C1(s,o){var p={};return o=$e(o,3),zt(s,function(b,I,A){ue(p,o(b,I,A),b)}),p}function I1(s,o){var p={};return o=$e(o,3),zt(s,function(b,I,A){ue(p,I,o(b,I,A))}),p}var x1=Bi(function(s,o,p){da(s,o,p)}),ky=Bi(function(s,o,p,b){da(s,o,p,b)}),T1=au(function(s,o){var p={};if(s==null)return p;var b=!1;o=ot(o,function(A){return A=Oo(A,s),b||(b=A.length>1),A}),Jr(s,up(s),p),b&&(p=Ae(p,V|Q|ee,Sk));for(var I=o.length;I--;)Cl(p,o[I]);return p});function P1(s,o){return _y(s,Tf($e(o)))}var R1=au(function(s,o){return s==null?{}:pa(s,o)});function _y(s,o){if(s==null)return{};var p=ot(up(s),function(b){return[b]});return o=$e(o),mc(s,p,function(b,I){return o(b,I[0])})}function E1(s,o,p){o=Oo(o,s);var b=-1,I=o.length;for(I||(I=1,s=t);++b<I;){var A=s==null?t:s[Sa(o[b])];A===t&&(b=I,A=p),s=lu(A)?A.call(s):A}return s}function A1(s,o,p){return s==null?s:Vu(s,o,p)}function D1(s,o,p,b){return b=typeof b=="function"?b:t,s==null?s:Vu(s,o,p,b)}var Cy=ou(xr),Iy=ou(Ks);function O1(s,o,p){var b=Je(s),I=b||qu(s)||_c(s);if(o=$e(o,4),p==null){var A=s&&s.constructor;I?p=b?new A:[]:Pn(s)?p=lu(A)?Li(Gr(s)):{}:p={}}return(I?Nn:zt)(s,function($,W,Z){return o(p,$,W,Z)}),p}function N1(s,o){return s==null?!0:Cl(s,o)}function F1(s,o,p){return s==null?s:fh(s,o,vc(p))}function M1(s,o,p,b){return b=typeof b=="function"?b:t,s==null?s:fh(s,o,vc(p),b)}function Cc(s){return s==null?[]:wn(s,xr(s))}function L1(s){return s==null?[]:wn(s,Ks(s))}function U1(s,o,p){return p===t&&(p=o,o=t),p!==t&&(p=zi(p),p=p===p?p:0),o!==t&&(o=zi(o),o=o===o?o:0),Ee(zi(s),o,p)}function V1(s,o,p){return o=cu(o),p===t?(p=o,o=0):p=cu(p),s=zi(s),cf(s,o,p)}function $1(s,o,p){if(p&&typeof p!="boolean"&&ks(s,o,p)&&(o=p=t),p===t&&(typeof o=="boolean"?(p=o,o=t):typeof s=="boolean"&&(p=s,s=t)),s===t&&o===t?(s=0,o=1):(s=cu(s),o===t?(o=s,s=0):o=cu(o)),s>o){var b=s;s=o,o=b}if(p||s%1||o%1){var I=Mi();return Ut(s+I*(o-s+ho("1e-"+((I+"").length-1))),o)}return Uu(s,o)}var j1=iu(function(s,o,p){return o=o.toLowerCase(),s+(p?xy(o):o)});function xy(s){return Cp(Vt(s).toLowerCase())}function Ty(s){return s=Vt(s),s&&s.replace(xu,hl).replace(uo,"")}function B1(s,o,p){s=Vt(s),o=Lr(o);var b=s.length;p=p===t?b:Ee(st(p),0,b);var I=p;return p-=o.length,p>=0&&s.slice(p,I)==o}function q1(s){return s=Vt(s),s&&Ts.test(s)?s.replace(Ii,ac):s}function H1(s){return s=Vt(s),s&&sn.test(s)?s.replace(Ps,"\\$&"):s}var z1=iu(function(s,o,p){return s+(p?"-":"")+o.toLowerCase()}),W1=iu(function(s,o,p){return s+(p?" ":"")+o.toLowerCase()}),G1=nr("toLowerCase");function Q1(s,o,p){s=Vt(s),o=st(o);var b=o?bo(s):0;if(!o||b>=o)return s;var I=(o-b)/2;return Nl(oa(I),p)+s+Nl(Fi(I),p)}function K1(s,o,p){s=Vt(s),o=st(o);var b=o?bo(s):0;return o&&b<o?s+Nl(o-b,p):s}function Z1(s,o,p){s=Vt(s),o=st(o);var b=o?bo(s):0;return o&&b<o?Nl(o-b,p)+s:s}function X1(s,o,p){return p||o==null?o=0:o&&(o=+o),_o(Vt(s).replace(Rs,""),o||0)}function Y1(s,o,p){return(p?ks(s,o,p):o===t)?o=1:o=st(o),eu(Vt(s),o)}function J1(){var s=arguments,o=Vt(s[0]);return s.length<3?o:o.replace(s[1],s[2])}var eI=iu(function(s,o,p){return s+(p?"_":"")+o.toLowerCase()});function tI(s,o,p){return p&&typeof p!="number"&&ks(s,o,p)&&(o=p=t),p=p===t?se:p>>>0,p?(s=Vt(s),s&&(typeof o=="string"||o!=null&&!Sp(o))&&(o=Lr(o),!o&&Nr(s))?Yr(Fn(s),0,p):s.split(o,p)):[]}var nI=iu(function(s,o,p){return s+(p?" ":"")+Cp(o)});function rI(s,o,p){return s=Vt(s),p=p==null?0:Ee(st(p),0,s.length),o=Lr(o),s.slice(p,p+o.length)==o}function sI(s,o,p){var b=P.templateSettings;p&&ks(s,o,p)&&(o=t),s=Vt(s),o=Ef({},o,b,wh);var I=Ef({},o.imports,b.imports,wh),A=xr(I),$=wn(I,A),W,Z,ce=0,he=o.interpolate||on,ge="__p += '",_e=Be((o.escape||on).source+"|"+he.source+"|"+(he===kn?si:on).source+"|"+(o.evaluate||on).source+"|$","g"),Fe="//# sourceURL="+(qe.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ai+"]")+`
`;s.replace(_e,function(ze,vt,It,ki,_s,_i){return It||(It=ki),ge+=s.slice(ce,_i).replace(Tu,fl),vt&&(W=!0,ge+=`' +
__e(`+vt+`) +
'`),_s&&(Z=!0,ge+=`';
`+_s+`;
__p += '`),It&&(ge+=`' +
((__t = (`+It+`)) == null ? '' : __t) +
'`),ce=_i+ze.length,ze}),ge+=`';
`;var He=qe.call(o,"variable")&&o.variable;if(!He)ge=`with (obj) {
`+ge+`
}
`;else if(gt.test(He))throw new ae(y);ge=(Z?ge.replace(Ji,""):ge).replace(us,"$1").replace(Ar,"$1;"),ge="function("+(He||"obj")+`) {
`+(He?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(W?", __e = _.escape":"")+(Z?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ge+`return __p
}`;var at=Ry(function(){return we(A,Fe+"return "+ge).apply(t,$)});if(at.source=ge,wp(at))throw at;return at}function iI(s){return Vt(s).toLowerCase()}function oI(s){return Vt(s).toUpperCase()}function aI(s,o,p){if(s=Vt(s),s&&(p||o===t))return wt(s);if(!s||!(o=Lr(o)))return s;var b=Fn(s),I=Fn(o),A=Jn(b,I),$=$s(b,I)+1;return Yr(b,A,$).join("")}function uI(s,o,p){if(s=Vt(s),s&&(p||o===t))return s.slice(0,c(s)+1);if(!s||!(o=Lr(o)))return s;var b=Fn(s),I=$s(b,Fn(o))+1;return Yr(b,0,I).join("")}function lI(s,o,p){if(s=Vt(s),s&&(p||o===t))return s.replace(Rs,"");if(!s||!(o=Lr(o)))return s;var b=Fn(s),I=Jn(b,Fn(o));return Yr(b,I).join("")}function cI(s,o){var p=G,b=K;if(Pn(o)){var I="separator"in o?o.separator:I;p="length"in o?st(o.length):p,b="omission"in o?Lr(o.omission):b}s=Vt(s);var A=s.length;if(Nr(s)){var $=Fn(s);A=$.length}if(p>=A)return s;var W=p-bo(b);if(W<1)return b;var Z=$?Yr($,0,W).join(""):s.slice(0,W);if(I===t)return Z+b;if($&&(W+=Z.length-W),Sp(I)){if(s.slice(W).search(I)){var ce,he=Z;for(I.global||(I=Be(I.source,Vt(Cn.exec(I))+"g")),I.lastIndex=0;ce=I.exec(he);)var ge=ce.index;Z=Z.slice(0,ge===t?W:ge)}}else if(s.indexOf(Lr(I),W)!=W){var _e=Z.lastIndexOf(I);_e>-1&&(Z=Z.slice(0,_e))}return Z+b}function hI(s){return s=Vt(s),s&&zo.test(s)?s.replace(xs,d):s}var fI=iu(function(s,o,p){return s+(p?" ":"")+o.toUpperCase()}),Cp=nr("toUpperCase");function Py(s,o,p){return s=Vt(s),o=p?t:o,o===t?sa(s)?x(s):xn(s):s.match(o)||[]}var Ry=rt(function(s,o){try{return hn(s,t,o)}catch(p){return wp(p)?p:new ae(p)}}),dI=au(function(s,o){return Nn(o,function(p){p=Sa(p),ue(s,p,vp(s[p],s))}),s});function pI(s){var o=s==null?0:s.length,p=$e();return s=o?ot(s,function(b){if(typeof b[1]!="function")throw new tt(f);return[p(b[0]),b[1]]}):[],rt(function(b){for(var I=-1;++I<o;){var A=s[I];if(hn(A[0],this,b))return hn(A[1],this,b)}})}function mI(s){return Ge(Ae(s,V))}function Ip(s){return function(){return s}}function gI(s,o){return s==null||s!==s?o:s}var yI=Sc(),vI=Sc(!0);function Zs(s){return s}function xp(s){return Nu(typeof s=="function"?s:Ae(s,V))}function bI(s){return ah(Ae(s,V))}function wI(s,o){return fa(s,Ae(o,V))}var SI=rt(function(s,o){return function(p){return Ja(p,s,o)}}),kI=rt(function(s,o){return function(p){return Ja(s,p,o)}});function Tp(s,o,p){var b=xr(o),I=Ss(o,b);p==null&&!(Pn(o)&&(I.length||!b.length))&&(p=o,o=s,s=this,I=Ss(o,xr(o)));var A=!(Pn(p)&&"chain"in p)||!!p.chain,$=lu(s);return Nn(I,function(W){var Z=o[W];s[W]=Z,$&&(s.prototype[W]=function(){var ce=this.__chain__;if(A||ce){var he=s(this.__wrapped__),ge=he.__actions__=Cr(this.__actions__);return ge.push({func:Z,args:arguments,thisArg:s}),he.__chain__=ce,he}return Z.apply(s,lr([this.value()],arguments))})}),s}function _I(){return an._===this&&(an._=qn),this}function Pp(){}function CI(s){return s=st(s),rt(function(o){return Mu(o,s)})}var II=Ol(ot),xI=Ol(Ms),TI=Ol(mo);function Ey(s){return fp(s)?S(Sa(s)):uh(s)}function PI(s){return function(o){return s==null?t:_r(s,o)}}var RI=vh(),EI=vh(!0);function Rp(){return[]}function Ep(){return!1}function AI(){return{}}function DI(){return""}function OI(){return!0}function NI(s,o){if(s=st(s),s<1||s>ln)return[];var p=se,b=Ut(s,se);o=$e(o),s-=se;for(var I=bt(b,o);++p<s;)o(p);return I}function FI(s){return Je(s)?ot(s,Sa):Si(s)?[s]:Cr(Zg(Vt(s)))}function MI(s){var o=++er;return Vt(s)+o}var LI=ju(function(s,o){return s+o},0),UI=Fl("ceil"),VI=ju(function(s,o){return s/o},1),$I=Fl("floor");function jI(s){return s&&s.length?Sn(s,Zs,hc):t}function BI(s,o){return s&&s.length?Sn(s,$e(o,2),hc):t}function qI(s){return v(s,Zs)}function HI(s,o){return v(s,$e(o,2))}function zI(s){return s&&s.length?Sn(s,Zs,pc):t}function WI(s,o){return s&&s.length?Sn(s,$e(o,2),pc):t}var GI=ju(function(s,o){return s*o},1),QI=Fl("round"),KI=ju(function(s,o){return s-o},0);function ZI(s){return s&&s.length?Se(s,Zs):0}function XI(s,o){return s&&s.length?Se(s,$e(o,2)):0}return P.after=bC,P.ary=ay,P.assign=o1,P.assignIn=Sy,P.assignInWith=Ef,P.assignWith=a1,P.at=u1,P.before=uy,P.bind=vp,P.bindAll=dI,P.bindKey=ly,P.castArray=AC,P.chain=sy,P.chunk=$k,P.compact=jk,P.concat=Bk,P.cond=pI,P.conforms=mI,P.constant=Ip,P.countBy=Z_,P.create=l1,P.curry=cy,P.curryRight=hy,P.debounce=fy,P.defaults=c1,P.defaultsDeep=h1,P.defer=wC,P.delay=SC,P.difference=qk,P.differenceBy=Hk,P.differenceWith=zk,P.drop=Wk,P.dropRight=Gk,P.dropRightWhile=Qk,P.dropWhile=Kk,P.fill=Zk,P.filter=Y_,P.flatMap=tC,P.flatMapDeep=nC,P.flatMapDepth=rC,P.flatten=ey,P.flattenDeep=Xk,P.flattenDepth=Yk,P.flip=kC,P.flow=yI,P.flowRight=vI,P.fromPairs=Jk,P.functions=v1,P.functionsIn=b1,P.groupBy=sC,P.initial=t_,P.intersection=n_,P.intersectionBy=r_,P.intersectionWith=s_,P.invert=S1,P.invertBy=k1,P.invokeMap=oC,P.iteratee=xp,P.keyBy=aC,P.keys=xr,P.keysIn=Ks,P.map=Cf,P.mapKeys=C1,P.mapValues=I1,P.matches=bI,P.matchesProperty=wI,P.memoize=xf,P.merge=x1,P.mergeWith=ky,P.method=SI,P.methodOf=kI,P.mixin=Tp,P.negate=Tf,P.nthArg=CI,P.omit=T1,P.omitBy=P1,P.once=_C,P.orderBy=uC,P.over=II,P.overArgs=CC,P.overEvery=xI,P.overSome=TI,P.partial=bp,P.partialRight=dy,P.partition=lC,P.pick=R1,P.pickBy=_y,P.property=Ey,P.propertyOf=PI,P.pull=u_,P.pullAll=ny,P.pullAllBy=l_,P.pullAllWith=c_,P.pullAt=h_,P.range=RI,P.rangeRight=EI,P.rearg=IC,P.reject=fC,P.remove=f_,P.rest=xC,P.reverse=gp,P.sampleSize=pC,P.set=A1,P.setWith=D1,P.shuffle=mC,P.slice=d_,P.sortBy=vC,P.sortedUniq=w_,P.sortedUniqBy=S_,P.split=tI,P.spread=TC,P.tail=k_,P.take=__,P.takeRight=C_,P.takeRightWhile=I_,P.takeWhile=x_,P.tap=j_,P.throttle=PC,P.thru=_f,P.toArray=vy,P.toPairs=Cy,P.toPairsIn=Iy,P.toPath=FI,P.toPlainObject=wy,P.transform=O1,P.unary=RC,P.union=T_,P.unionBy=P_,P.unionWith=R_,P.uniq=E_,P.uniqBy=A_,P.uniqWith=D_,P.unset=N1,P.unzip=yp,P.unzipWith=ry,P.update=F1,P.updateWith=M1,P.values=Cc,P.valuesIn=L1,P.without=O_,P.words=Py,P.wrap=EC,P.xor=N_,P.xorBy=F_,P.xorWith=M_,P.zip=L_,P.zipObject=U_,P.zipObjectDeep=V_,P.zipWith=$_,P.entries=Cy,P.entriesIn=Iy,P.extend=Sy,P.extendWith=Ef,Tp(P,P),P.add=LI,P.attempt=Ry,P.camelCase=j1,P.capitalize=xy,P.ceil=UI,P.clamp=U1,P.clone=DC,P.cloneDeep=NC,P.cloneDeepWith=FC,P.cloneWith=OC,P.conformsTo=MC,P.deburr=Ty,P.defaultTo=gI,P.divide=VI,P.endsWith=B1,P.eq=No,P.escape=q1,P.escapeRegExp=H1,P.every=X_,P.find=J_,P.findIndex=Yg,P.findKey=f1,P.findLast=eC,P.findLastIndex=Jg,P.findLastKey=d1,P.floor=$I,P.forEach=iy,P.forEachRight=oy,P.forIn=p1,P.forInRight=m1,P.forOwn=g1,P.forOwnRight=y1,P.get=kp,P.gt=LC,P.gte=UC,P.has=w1,P.hasIn=_p,P.head=ty,P.identity=Zs,P.includes=iC,P.indexOf=e_,P.inRange=V1,P.invoke=_1,P.isArguments=Ul,P.isArray=Je,P.isArrayBuffer=VC,P.isArrayLike=Qs,P.isArrayLikeObject=Gn,P.isBoolean=$C,P.isBuffer=qu,P.isDate=jC,P.isElement=BC,P.isEmpty=qC,P.isEqual=HC,P.isEqualWith=zC,P.isError=wp,P.isFinite=WC,P.isFunction=lu,P.isInteger=py,P.isLength=Pf,P.isMap=my,P.isMatch=GC,P.isMatchWith=QC,P.isNaN=KC,P.isNative=ZC,P.isNil=YC,P.isNull=XC,P.isNumber=gy,P.isObject=Pn,P.isObjectLike=Un,P.isPlainObject=_h,P.isRegExp=Sp,P.isSafeInteger=JC,P.isSet=yy,P.isString=Rf,P.isSymbol=Si,P.isTypedArray=_c,P.isUndefined=e1,P.isWeakMap=t1,P.isWeakSet=n1,P.join=i_,P.kebabCase=z1,P.last=Hi,P.lastIndexOf=o_,P.lowerCase=W1,P.lowerFirst=G1,P.lt=r1,P.lte=s1,P.max=jI,P.maxBy=BI,P.mean=qI,P.meanBy=HI,P.min=zI,P.minBy=WI,P.stubArray=Rp,P.stubFalse=Ep,P.stubObject=AI,P.stubString=DI,P.stubTrue=OI,P.multiply=GI,P.nth=a_,P.noConflict=_I,P.noop=Pp,P.now=If,P.pad=Q1,P.padEnd=K1,P.padStart=Z1,P.parseInt=X1,P.random=$1,P.reduce=cC,P.reduceRight=hC,P.repeat=Y1,P.replace=J1,P.result=E1,P.round=QI,P.runInContext=D,P.sample=dC,P.size=gC,P.snakeCase=eI,P.some=yC,P.sortedIndex=p_,P.sortedIndexBy=m_,P.sortedIndexOf=g_,P.sortedLastIndex=y_,P.sortedLastIndexBy=v_,P.sortedLastIndexOf=b_,P.startCase=nI,P.startsWith=rI,P.subtract=KI,P.sum=ZI,P.sumBy=XI,P.template=sI,P.times=NI,P.toFinite=cu,P.toInteger=st,P.toLength=by,P.toLower=iI,P.toNumber=zi,P.toSafeInteger=i1,P.toString=Vt,P.toUpper=oI,P.trim=aI,P.trimEnd=uI,P.trimStart=lI,P.truncate=cI,P.unescape=hI,P.uniqueId=MI,P.upperCase=fI,P.upperFirst=Cp,P.each=iy,P.eachRight=oy,P.first=ty,Tp(P,function(){var s={};return zt(P,function(o,p){qe.call(P.prototype,p)||(s[p]=o)}),s}(),{chain:!1}),P.VERSION=r,Nn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){P[s].placeholder=P}),Nn(["drop","take"],function(s,o){Le.prototype[s]=function(p){p=p===t?1:en(st(p),0);var b=this.__filtered__&&!o?new Le(this):this.clone();return b.__filtered__?b.__takeCount__=Ut(p,b.__takeCount__):b.__views__.push({size:Ut(p,se),type:s+(b.__dir__<0?"Right":"")}),b},Le.prototype[s+"Right"]=function(p){return this.reverse()[s](p).reverse()}}),Nn(["filter","map","takeWhile"],function(s,o){var p=o+1,b=p==Rt||p==re;Le.prototype[s]=function(I){var A=this.clone();return A.__iteratees__.push({iteratee:$e(I,3),type:p}),A.__filtered__=A.__filtered__||b,A}}),Nn(["head","last"],function(s,o){var p="take"+(o?"Right":"");Le.prototype[s]=function(){return this[p](1).value()[0]}}),Nn(["initial","tail"],function(s,o){var p="drop"+(o?"":"Right");Le.prototype[s]=function(){return this.__filtered__?new Le(this):this[p](1)}}),Le.prototype.compact=function(){return this.filter(Zs)},Le.prototype.find=function(s){return this.filter(s).head()},Le.prototype.findLast=function(s){return this.reverse().find(s)},Le.prototype.invokeMap=rt(function(s,o){return typeof s=="function"?new Le(this):this.map(function(p){return Ja(p,s,o)})}),Le.prototype.reject=function(s){return this.filter(Tf($e(s)))},Le.prototype.slice=function(s,o){s=st(s);var p=this;return p.__filtered__&&(s>0||o<0)?new Le(p):(s<0?p=p.takeRight(-s):s&&(p=p.drop(s)),o!==t&&(o=st(o),p=o<0?p.dropRight(-o):p.take(o-s)),p)},Le.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},Le.prototype.toArray=function(){return this.take(se)},zt(Le.prototype,function(s,o){var p=/^(?:filter|find|map|reject)|While$/.test(o),b=/^(?:head|last)$/.test(o),I=P[b?"take"+(o=="last"?"Right":""):o],A=b||/^find/.test(o);I&&(P.prototype[o]=function(){var $=this.__wrapped__,W=b?[1]:arguments,Z=$ instanceof Le,ce=W[0],he=Z||Je($),ge=function(vt){var It=I.apply(P,lr([vt],W));return b&&_e?It[0]:It};he&&p&&typeof ce=="function"&&ce.length!=1&&(Z=he=!1);var _e=this.__chain__,Fe=!!this.__actions__.length,He=A&&!_e,at=Z&&!Fe;if(!A&&he){$=at?$:new Le(this);var ze=s.apply($,W);return ze.__actions__.push({func:_f,args:[ge],thisArg:t}),new wr(ze,_e)}return He&&at?s.apply(this,W):(ze=this.thru(ge),He?b?ze.value()[0]:ze.value():ze)})}),Nn(["pop","push","shift","sort","splice","unshift"],function(s){var o=Ct[s],p=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",b=/^(?:pop|shift)$/.test(s);P.prototype[s]=function(){var I=arguments;if(b&&!this.__chain__){var A=this.value();return o.apply(Je(A)?A:[],I)}return this[p](function($){return o.apply(Je($)?$:[],I)})}}),zt(Le.prototype,function(s,o){var p=P[o];if(p){var b=p.name+"";qe.call(mi,b)||(mi[b]=[]),mi[b].push({name:o,func:p})}}),mi[Dl(t,xe).name]=[{name:"wrapper",func:t}],Le.prototype.clone=ua,Le.prototype.reverse=Io,Le.prototype.value=Ui,P.prototype.at=B_,P.prototype.chain=q_,P.prototype.commit=H_,P.prototype.next=z_,P.prototype.plant=G_,P.prototype.reverse=Q_,P.prototype.toJSON=P.prototype.valueOf=P.prototype.value=K_,P.prototype.first=P.prototype.head,ps&&(P.prototype[ps]=W_),P},H=N();$n?(($n.exports=H)._=H,ea._=H):an._=H}).call(tx)}(Bf,Bf.exports)),Bf.exports}var rx=nx();const sx=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},ix=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],f=n[t++],y=n[t++],w=((i&7)<<18|(a&63)<<12|(f&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(w>>10)),e[r++]=String.fromCharCode(56320+(w&1023))}else{const a=n[t++],f=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|f&63)}}return e.join("")},e0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],f=i+1<n.length,y=f?n[i+1]:0,w=i+2<n.length,T=w?n[i+2]:0,R=a>>2,V=(a&3)<<4|y>>4;let Q=(y&15)<<2|T>>6,ee=T&63;w||(ee=64,f||(Q=64)),r.push(t[R],t[V],t[Q],t[ee])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Jb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ix(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],f=i<n.length?t[n.charAt(i)]:0;++i;const y=i<n.length?t[n.charAt(i)]:64;++i;const w=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||f==null||y==null||w==null)throw new ox;const T=a<<2|f>>4;if(r.push(T),y!==64){const R=f<<4&240|y>>2;if(r.push(R),w!==64){const V=y<<6&192|w;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ox extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ax=function(n){const e=Jb(n);return e0.encodeByteArray(e,!0)},sd=function(n){return ax(n).replace(/\./g,"")},t0=function(n){try{return e0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=()=>ux().__FIREBASE_DEFAULTS__,cx=()=>{if(typeof process>"u"||typeof Cs>"u")return;const n=Cs.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},hx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&t0(n[1]);return e&&JSON.parse(e)},Ad=()=>{try{return sx()||lx()||cx()||hx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},n0=n=>{var e,t;return(t=(e=Ad())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},fx=n=>{const e=n0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},r0=()=>{var n;return(n=Ad())===null||n===void 0?void 0:n.config},s0=n=>{var e;return(e=Ad())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[sd(JSON.stringify(t)),sd(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ss())}function gx(){var n;const e=(n=Ad())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function i0(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function vx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bx(){const n=ss();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function wx(){return!gx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o0(){try{return typeof indexedDB=="object"}catch{return!1}}function a0(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function Sx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="FirebaseError";class qo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=kx,Object.setPrototypeOf(this,qo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],f=a?_x(a,r):"Error",y=`${this.serviceName}: ${f} (${i}).`;return new qo(i,y,r)}}function _x(n,e){return n.replace(Cx,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Cx=/\{\$([^}]+)}/g;function Ix(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function rl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],f=e[i];if(My(a)&&My(f)){if(!rl(a,f))return!1}else if(a!==f)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function My(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xx(n,e){const t=new Tx(n,e);return t.subscribe.bind(t)}class Tx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Px(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Ap),i.error===void 0&&(i.error=Ap),i.complete===void 0&&(i.complete=Ap);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Px(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ap(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=1e3,Ex=2,Ax=4*60*60*1e3,Dx=.5;function Ly(n,e=Rx,t=Ex){const r=e*Math.pow(t,n),i=Math.round(Dx*r*(Math.random()-.5)*2);return Math.min(Ax,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(n){return n&&n._delegate?n._delegate:n}class jo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new dx;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fx(e))try{this.getOrInitializeService({instanceIdentifier:$l})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=$l){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$l){return this.instances.has(e)}getOptions(e=$l){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,f]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(a);r===y&&f.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const f=this.instances.get(i);return f&&e(f,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Nx(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$l){return this.component?this.component.multipleInstances?e:$l:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nx(n){return n===$l?void 0:n}function Fx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ox(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(St||(St={}));const Lx={debug:St.DEBUG,verbose:St.VERBOSE,info:St.INFO,warn:St.WARN,error:St.ERROR,silent:St.SILENT},Ux=St.INFO,Vx={[St.DEBUG]:"log",[St.VERBOSE]:"log",[St.INFO]:"info",[St.WARN]:"warn",[St.ERROR]:"error"},$x=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=Vx[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dd{constructor(e){this.name=e,this._logLevel=Ux,this._logHandler=$x,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in St))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,St.DEBUG,...e),this._logHandler(this,St.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,St.VERBOSE,...e),this._logHandler(this,St.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,St.INFO,...e),this._logHandler(this,St.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,St.WARN,...e),this._logHandler(this,St.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,St.ERROR,...e),this._logHandler(this,St.ERROR,...e)}}const jx=(n,e)=>e.some(t=>n instanceof t);let Uy,Vy;function Bx(){return Uy||(Uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qx(){return Vy||(Vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u0=new WeakMap,tm=new WeakMap,l0=new WeakMap,Dp=new WeakMap,Mm=new WeakMap;function Hx(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",f)},a=()=>{t(Xu(n.result)),i()},f=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&u0.set(t,n)}).catch(()=>{}),Mm.set(e,n),e}function zx(n){if(tm.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",f),n.removeEventListener("abort",f)},a=()=>{t(),i()},f=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",f),n.addEventListener("abort",f)});tm.set(n,e)}let nm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return tm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||l0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Wx(n){nm=n(nm)}function Gx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Op(this),e,...t);return l0.set(r,e.sort?e.sort():[e]),Xu(r)}:qx().includes(n)?function(...e){return n.apply(Op(this),e),Xu(u0.get(this))}:function(...e){return Xu(n.apply(Op(this),e))}}function Qx(n){return typeof n=="function"?Gx(n):(n instanceof IDBTransaction&&zx(n),jx(n,Bx())?new Proxy(n,nm):n)}function Xu(n){if(n instanceof IDBRequest)return Hx(n);if(Dp.has(n))return Dp.get(n);const e=Qx(n);return e!==n&&(Dp.set(n,e),Mm.set(e,n)),e}const Op=n=>Mm.get(n);function c0(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const f=indexedDB.open(n,e),y=Xu(f);return r&&f.addEventListener("upgradeneeded",w=>{r(Xu(f.result),w.oldVersion,w.newVersion,Xu(f.transaction),w)}),t&&f.addEventListener("blocked",w=>t(w.oldVersion,w.newVersion,w)),y.then(w=>{a&&w.addEventListener("close",()=>a()),i&&w.addEventListener("versionchange",T=>i(T.oldVersion,T.newVersion,T))}).catch(()=>{}),y}const Kx=["get","getKey","getAll","getAllKeys","count"],Zx=["put","add","delete","clear"],Np=new Map;function $y(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Np.get(e))return Np.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Zx.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Kx.includes(t)))return;const a=async function(f,...y){const w=this.transaction(f,i?"readwrite":"readonly");let T=w.store;return r&&(T=T.index(y.shift())),(await Promise.all([T[t](...y),i&&w.done]))[0]};return Np.set(e,a),a}Wx(n=>({...n,get:(e,t,r)=>$y(e,t)||n.get(e,t,r),has:(e,t)=>!!$y(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Yx(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(" ")}}function Yx(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rm="@firebase/app",jy="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new Dd("@firebase/app"),Jx="@firebase/app-compat",eT="@firebase/analytics-compat",tT="@firebase/analytics",nT="@firebase/app-check-compat",rT="@firebase/app-check",sT="@firebase/auth",iT="@firebase/auth-compat",oT="@firebase/database",aT="@firebase/data-connect",uT="@firebase/database-compat",lT="@firebase/functions",cT="@firebase/functions-compat",hT="@firebase/installations",fT="@firebase/installations-compat",dT="@firebase/messaging",pT="@firebase/messaging-compat",mT="@firebase/performance",gT="@firebase/performance-compat",yT="@firebase/remote-config",vT="@firebase/remote-config-compat",bT="@firebase/storage",wT="@firebase/storage-compat",ST="@firebase/firestore",kT="@firebase/vertexai",_T="@firebase/firestore-compat",CT="firebase",IT="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="[DEFAULT]",xT={[rm]:"fire-core",[Jx]:"fire-core-compat",[tT]:"fire-analytics",[eT]:"fire-analytics-compat",[rT]:"fire-app-check",[nT]:"fire-app-check-compat",[sT]:"fire-auth",[iT]:"fire-auth-compat",[oT]:"fire-rtdb",[aT]:"fire-data-connect",[uT]:"fire-rtdb-compat",[lT]:"fire-fn",[cT]:"fire-fn-compat",[hT]:"fire-iid",[fT]:"fire-iid-compat",[dT]:"fire-fcm",[pT]:"fire-fcm-compat",[mT]:"fire-perf",[gT]:"fire-perf-compat",[yT]:"fire-rc",[vT]:"fire-rc-compat",[bT]:"fire-gcs",[wT]:"fire-gcs-compat",[ST]:"fire-fst",[_T]:"fire-fst-compat",[kT]:"fire-vertex","fire-js":"fire-js",[CT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new Map,TT=new Map,im=new Map;function By(n,e){try{n.container.addComponent(e)}catch(t){yu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ta(n){const e=n.name;if(im.has(e))return yu.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,n);for(const t of id.values())By(t,n);for(const t of TT.values())By(t,n);return!0}function tc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Mo(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yu=new ec("app","Firebase",PT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=IT;function h0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yu.create("bad-app-name",{appName:String(i)});if(t||(t=r0()),!t)throw Yu.create("no-options");const a=id.get(i);if(a){if(rl(t,a.options)&&rl(r,a.config))return a;throw Yu.create("duplicate-app",{appName:i})}const f=new Mx(i);for(const w of im.values())f.addComponent(w);const y=new RT(t,r,f);return id.set(i,y),y}function Lm(n=sm){const e=id.get(n);if(!e&&n===sm&&r0())return h0();if(!e)throw Yu.create("no-app",{appName:n});return e}function Gi(n,e,t){var r;let i=(r=xT[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),f=e.match(/\s|\//);if(a||f){const y=[`Unable to register library "${i}" with version "${e}":`];a&&y.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&f&&y.push("and"),f&&y.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yu.warn(y.join(" "));return}Ta(new jo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="firebase-heartbeat-database",AT=1,jh="firebase-heartbeat-store";let Fp=null;function f0(){return Fp||(Fp=c0(ET,AT,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(jh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Yu.create("idb-open",{originalErrorMessage:n.message})})),Fp}async function DT(n){try{const e=(await f0()).transaction(jh),t=await e.objectStore(jh).get(d0(n));return await e.done,t}catch(e){if(e instanceof qo)yu.warn(e.message);else{const t=Yu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yu.warn(t.message)}}}async function qy(n,e){try{const t=(await f0()).transaction(jh,"readwrite");await t.objectStore(jh).put(e,d0(n)),await t.done}catch(t){if(t instanceof qo)yu.warn(t.message);else{const r=Yu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});yu.warn(r.message)}}}function d0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=1024,NT=30;class FT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LT(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Hy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>NT){const a=UT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){yu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Hy(),{heartbeatsToSend:r,unsentEntries:i}=MT(this._heartbeatsCache.heartbeats),a=sd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return yu.warn(t),""}}}function Hy(){return new Date().toISOString().substring(0,10)}function MT(n,e=OT){const t=[];let r=n.slice();for(const i of n){const a=t.find(f=>f.agent===i.agent);if(a){if(a.dates.push(i.date),zy(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),zy(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class LT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o0()?a0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await DT(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return qy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return qy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function zy(n){return sd(JSON.stringify({version:2,heartbeats:n})).length}function UT(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(n){Ta(new jo("platform-logger",e=>new Xx(e),"PRIVATE")),Ta(new jo("heartbeat",e=>new FT(e),"PRIVATE")),Gi(rm,jy,n),Gi(rm,jy,"esm2017"),Gi("fire-js","")}VT("");var Wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ju,p0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(q,L){function U(){}U.prototype=L.prototype,q.D=L.prototype,q.prototype=new U,q.prototype.constructor=q,q.C=function(G,K,Y){for(var B=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)B[Rt-2]=arguments[Rt];return L.prototype[K].apply(G,B)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(q,L,U){U||(U=0);var G=Array(16);if(typeof L=="string")for(var K=0;16>K;++K)G[K]=L.charCodeAt(U++)|L.charCodeAt(U++)<<8|L.charCodeAt(U++)<<16|L.charCodeAt(U++)<<24;else for(K=0;16>K;++K)G[K]=L[U++]|L[U++]<<8|L[U++]<<16|L[U++]<<24;L=q.g[0],U=q.g[1],K=q.g[2];var Y=q.g[3],B=L+(Y^U&(K^Y))+G[0]+3614090360&4294967295;L=U+(B<<7&4294967295|B>>>25),B=Y+(K^L&(U^K))+G[1]+3905402710&4294967295,Y=L+(B<<12&4294967295|B>>>20),B=K+(U^Y&(L^U))+G[2]+606105819&4294967295,K=Y+(B<<17&4294967295|B>>>15),B=U+(L^K&(Y^L))+G[3]+3250441966&4294967295,U=K+(B<<22&4294967295|B>>>10),B=L+(Y^U&(K^Y))+G[4]+4118548399&4294967295,L=U+(B<<7&4294967295|B>>>25),B=Y+(K^L&(U^K))+G[5]+1200080426&4294967295,Y=L+(B<<12&4294967295|B>>>20),B=K+(U^Y&(L^U))+G[6]+2821735955&4294967295,K=Y+(B<<17&4294967295|B>>>15),B=U+(L^K&(Y^L))+G[7]+4249261313&4294967295,U=K+(B<<22&4294967295|B>>>10),B=L+(Y^U&(K^Y))+G[8]+1770035416&4294967295,L=U+(B<<7&4294967295|B>>>25),B=Y+(K^L&(U^K))+G[9]+2336552879&4294967295,Y=L+(B<<12&4294967295|B>>>20),B=K+(U^Y&(L^U))+G[10]+4294925233&4294967295,K=Y+(B<<17&4294967295|B>>>15),B=U+(L^K&(Y^L))+G[11]+2304563134&4294967295,U=K+(B<<22&4294967295|B>>>10),B=L+(Y^U&(K^Y))+G[12]+1804603682&4294967295,L=U+(B<<7&4294967295|B>>>25),B=Y+(K^L&(U^K))+G[13]+4254626195&4294967295,Y=L+(B<<12&4294967295|B>>>20),B=K+(U^Y&(L^U))+G[14]+2792965006&4294967295,K=Y+(B<<17&4294967295|B>>>15),B=U+(L^K&(Y^L))+G[15]+1236535329&4294967295,U=K+(B<<22&4294967295|B>>>10),B=L+(K^Y&(U^K))+G[1]+4129170786&4294967295,L=U+(B<<5&4294967295|B>>>27),B=Y+(U^K&(L^U))+G[6]+3225465664&4294967295,Y=L+(B<<9&4294967295|B>>>23),B=K+(L^U&(Y^L))+G[11]+643717713&4294967295,K=Y+(B<<14&4294967295|B>>>18),B=U+(Y^L&(K^Y))+G[0]+3921069994&4294967295,U=K+(B<<20&4294967295|B>>>12),B=L+(K^Y&(U^K))+G[5]+3593408605&4294967295,L=U+(B<<5&4294967295|B>>>27),B=Y+(U^K&(L^U))+G[10]+38016083&4294967295,Y=L+(B<<9&4294967295|B>>>23),B=K+(L^U&(Y^L))+G[15]+3634488961&4294967295,K=Y+(B<<14&4294967295|B>>>18),B=U+(Y^L&(K^Y))+G[4]+3889429448&4294967295,U=K+(B<<20&4294967295|B>>>12),B=L+(K^Y&(U^K))+G[9]+568446438&4294967295,L=U+(B<<5&4294967295|B>>>27),B=Y+(U^K&(L^U))+G[14]+3275163606&4294967295,Y=L+(B<<9&4294967295|B>>>23),B=K+(L^U&(Y^L))+G[3]+4107603335&4294967295,K=Y+(B<<14&4294967295|B>>>18),B=U+(Y^L&(K^Y))+G[8]+1163531501&4294967295,U=K+(B<<20&4294967295|B>>>12),B=L+(K^Y&(U^K))+G[13]+2850285829&4294967295,L=U+(B<<5&4294967295|B>>>27),B=Y+(U^K&(L^U))+G[2]+4243563512&4294967295,Y=L+(B<<9&4294967295|B>>>23),B=K+(L^U&(Y^L))+G[7]+1735328473&4294967295,K=Y+(B<<14&4294967295|B>>>18),B=U+(Y^L&(K^Y))+G[12]+2368359562&4294967295,U=K+(B<<20&4294967295|B>>>12),B=L+(U^K^Y)+G[5]+4294588738&4294967295,L=U+(B<<4&4294967295|B>>>28),B=Y+(L^U^K)+G[8]+2272392833&4294967295,Y=L+(B<<11&4294967295|B>>>21),B=K+(Y^L^U)+G[11]+1839030562&4294967295,K=Y+(B<<16&4294967295|B>>>16),B=U+(K^Y^L)+G[14]+4259657740&4294967295,U=K+(B<<23&4294967295|B>>>9),B=L+(U^K^Y)+G[1]+2763975236&4294967295,L=U+(B<<4&4294967295|B>>>28),B=Y+(L^U^K)+G[4]+1272893353&4294967295,Y=L+(B<<11&4294967295|B>>>21),B=K+(Y^L^U)+G[7]+4139469664&4294967295,K=Y+(B<<16&4294967295|B>>>16),B=U+(K^Y^L)+G[10]+3200236656&4294967295,U=K+(B<<23&4294967295|B>>>9),B=L+(U^K^Y)+G[13]+681279174&4294967295,L=U+(B<<4&4294967295|B>>>28),B=Y+(L^U^K)+G[0]+3936430074&4294967295,Y=L+(B<<11&4294967295|B>>>21),B=K+(Y^L^U)+G[3]+3572445317&4294967295,K=Y+(B<<16&4294967295|B>>>16),B=U+(K^Y^L)+G[6]+76029189&4294967295,U=K+(B<<23&4294967295|B>>>9),B=L+(U^K^Y)+G[9]+3654602809&4294967295,L=U+(B<<4&4294967295|B>>>28),B=Y+(L^U^K)+G[12]+3873151461&4294967295,Y=L+(B<<11&4294967295|B>>>21),B=K+(Y^L^U)+G[15]+530742520&4294967295,K=Y+(B<<16&4294967295|B>>>16),B=U+(K^Y^L)+G[2]+3299628645&4294967295,U=K+(B<<23&4294967295|B>>>9),B=L+(K^(U|~Y))+G[0]+4096336452&4294967295,L=U+(B<<6&4294967295|B>>>26),B=Y+(U^(L|~K))+G[7]+1126891415&4294967295,Y=L+(B<<10&4294967295|B>>>22),B=K+(L^(Y|~U))+G[14]+2878612391&4294967295,K=Y+(B<<15&4294967295|B>>>17),B=U+(Y^(K|~L))+G[5]+4237533241&4294967295,U=K+(B<<21&4294967295|B>>>11),B=L+(K^(U|~Y))+G[12]+1700485571&4294967295,L=U+(B<<6&4294967295|B>>>26),B=Y+(U^(L|~K))+G[3]+2399980690&4294967295,Y=L+(B<<10&4294967295|B>>>22),B=K+(L^(Y|~U))+G[10]+4293915773&4294967295,K=Y+(B<<15&4294967295|B>>>17),B=U+(Y^(K|~L))+G[1]+2240044497&4294967295,U=K+(B<<21&4294967295|B>>>11),B=L+(K^(U|~Y))+G[8]+1873313359&4294967295,L=U+(B<<6&4294967295|B>>>26),B=Y+(U^(L|~K))+G[15]+4264355552&4294967295,Y=L+(B<<10&4294967295|B>>>22),B=K+(L^(Y|~U))+G[6]+2734768916&4294967295,K=Y+(B<<15&4294967295|B>>>17),B=U+(Y^(K|~L))+G[13]+1309151649&4294967295,U=K+(B<<21&4294967295|B>>>11),B=L+(K^(U|~Y))+G[4]+4149444226&4294967295,L=U+(B<<6&4294967295|B>>>26),B=Y+(U^(L|~K))+G[11]+3174756917&4294967295,Y=L+(B<<10&4294967295|B>>>22),B=K+(L^(Y|~U))+G[2]+718787259&4294967295,K=Y+(B<<15&4294967295|B>>>17),B=U+(Y^(K|~L))+G[9]+3951481745&4294967295,q.g[0]=q.g[0]+L&4294967295,q.g[1]=q.g[1]+(K+(B<<21&4294967295|B>>>11))&4294967295,q.g[2]=q.g[2]+K&4294967295,q.g[3]=q.g[3]+Y&4294967295}r.prototype.u=function(q,L){L===void 0&&(L=q.length);for(var U=L-this.blockSize,G=this.B,K=this.h,Y=0;Y<L;){if(K==0)for(;Y<=U;)i(this,q,Y),Y+=this.blockSize;if(typeof q=="string"){for(;Y<L;)if(G[K++]=q.charCodeAt(Y++),K==this.blockSize){i(this,G),K=0;break}}else for(;Y<L;)if(G[K++]=q[Y++],K==this.blockSize){i(this,G),K=0;break}}this.h=K,this.o+=L},r.prototype.v=function(){var q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);q[0]=128;for(var L=1;L<q.length-8;++L)q[L]=0;var U=8*this.o;for(L=q.length-8;L<q.length;++L)q[L]=U&255,U/=256;for(this.u(q),q=Array(16),L=U=0;4>L;++L)for(var G=0;32>G;G+=8)q[U++]=this.g[L]>>>G&255;return q};function a(q,L){var U=y;return Object.prototype.hasOwnProperty.call(U,q)?U[q]:U[q]=L(q)}function f(q,L){this.h=L;for(var U=[],G=!0,K=q.length-1;0<=K;K--){var Y=q[K]|0;G&&Y==L||(U[K]=Y,G=!1)}this.g=U}var y={};function w(q){return-128<=q&&128>q?a(q,function(L){return new f([L|0],0>L?-1:0)}):new f([q|0],0>q?-1:0)}function T(q){if(isNaN(q)||!isFinite(q))return V;if(0>q)return fe(T(-q));for(var L=[],U=1,G=0;q>=U;G++)L[G]=q/U|0,U*=4294967296;return new f(L,0)}function R(q,L){if(q.length==0)throw Error("number format error: empty string");if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(q.charAt(0)=="-")return fe(R(q.substring(1),L));if(0<=q.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=T(Math.pow(L,8)),G=V,K=0;K<q.length;K+=8){var Y=Math.min(8,q.length-K),B=parseInt(q.substring(K,K+Y),L);8>Y?(Y=T(Math.pow(L,Y)),G=G.j(Y).add(T(B))):(G=G.j(U),G=G.add(T(B)))}return G}var V=w(0),Q=w(1),ee=w(16777216);n=f.prototype,n.m=function(){if(le(this))return-fe(this).m();for(var q=0,L=1,U=0;U<this.g.length;U++){var G=this.i(U);q+=(0<=G?G:4294967296+G)*L,L*=4294967296}return q},n.toString=function(q){if(q=q||10,2>q||36<q)throw Error("radix out of range: "+q);if(ne(this))return"0";if(le(this))return"-"+fe(this).toString(q);for(var L=T(Math.pow(q,6)),U=this,G="";;){var K=Ue(U,L).g;U=xe(U,K.j(L));var Y=((0<U.g.length?U.g[0]:U.h)>>>0).toString(q);if(U=K,ne(U))return Y+G;for(;6>Y.length;)Y="0"+Y;G=Y+G}},n.i=function(q){return 0>q?0:q<this.g.length?this.g[q]:this.h};function ne(q){if(q.h!=0)return!1;for(var L=0;L<q.g.length;L++)if(q.g[L]!=0)return!1;return!0}function le(q){return q.h==-1}n.l=function(q){return q=xe(this,q),le(q)?-1:ne(q)?0:1};function fe(q){for(var L=q.g.length,U=[],G=0;G<L;G++)U[G]=~q.g[G];return new f(U,~q.h).add(Q)}n.abs=function(){return le(this)?fe(this):this},n.add=function(q){for(var L=Math.max(this.g.length,q.g.length),U=[],G=0,K=0;K<=L;K++){var Y=G+(this.i(K)&65535)+(q.i(K)&65535),B=(Y>>>16)+(this.i(K)>>>16)+(q.i(K)>>>16);G=B>>>16,Y&=65535,B&=65535,U[K]=B<<16|Y}return new f(U,U[U.length-1]&-2147483648?-1:0)};function xe(q,L){return q.add(fe(L))}n.j=function(q){if(ne(this)||ne(q))return V;if(le(this))return le(q)?fe(this).j(fe(q)):fe(fe(this).j(q));if(le(q))return fe(this.j(fe(q)));if(0>this.l(ee)&&0>q.l(ee))return T(this.m()*q.m());for(var L=this.g.length+q.g.length,U=[],G=0;G<2*L;G++)U[G]=0;for(G=0;G<this.g.length;G++)for(var K=0;K<q.g.length;K++){var Y=this.i(G)>>>16,B=this.i(G)&65535,Rt=q.i(K)>>>16,it=q.i(K)&65535;U[2*G+2*K]+=B*it,Ie(U,2*G+2*K),U[2*G+2*K+1]+=Y*it,Ie(U,2*G+2*K+1),U[2*G+2*K+1]+=B*Rt,Ie(U,2*G+2*K+1),U[2*G+2*K+2]+=Y*Rt,Ie(U,2*G+2*K+2)}for(G=0;G<L;G++)U[G]=U[2*G+1]<<16|U[2*G];for(G=L;G<2*L;G++)U[G]=0;return new f(U,0)};function Ie(q,L){for(;(q[L]&65535)!=q[L];)q[L+1]+=q[L]>>>16,q[L]&=65535,L++}function Pe(q,L){this.g=q,this.h=L}function Ue(q,L){if(ne(L))throw Error("division by zero");if(ne(q))return new Pe(V,V);if(le(q))return L=Ue(fe(q),L),new Pe(fe(L.g),fe(L.h));if(le(L))return L=Ue(q,fe(L)),new Pe(fe(L.g),L.h);if(30<q.g.length){if(le(q)||le(L))throw Error("slowDivide_ only works with positive integers.");for(var U=Q,G=L;0>=G.l(q);)U=je(U),G=je(G);var K=Oe(U,1),Y=Oe(G,1);for(G=Oe(G,2),U=Oe(U,2);!ne(G);){var B=Y.add(G);0>=B.l(q)&&(K=K.add(U),Y=B),G=Oe(G,1),U=Oe(U,1)}return L=xe(q,K.j(L)),new Pe(K,L)}for(K=V;0<=q.l(L);){for(U=Math.max(1,Math.floor(q.m()/L.m())),G=Math.ceil(Math.log(U)/Math.LN2),G=48>=G?1:Math.pow(2,G-48),Y=T(U),B=Y.j(L);le(B)||0<B.l(q);)U-=G,Y=T(U),B=Y.j(L);ne(Y)&&(Y=Q),K=K.add(Y),q=xe(q,B)}return new Pe(K,q)}n.A=function(q){return Ue(this,q).h},n.and=function(q){for(var L=Math.max(this.g.length,q.g.length),U=[],G=0;G<L;G++)U[G]=this.i(G)&q.i(G);return new f(U,this.h&q.h)},n.or=function(q){for(var L=Math.max(this.g.length,q.g.length),U=[],G=0;G<L;G++)U[G]=this.i(G)|q.i(G);return new f(U,this.h|q.h)},n.xor=function(q){for(var L=Math.max(this.g.length,q.g.length),U=[],G=0;G<L;G++)U[G]=this.i(G)^q.i(G);return new f(U,this.h^q.h)};function je(q){for(var L=q.g.length+1,U=[],G=0;G<L;G++)U[G]=q.i(G)<<1|q.i(G-1)>>>31;return new f(U,q.h)}function Oe(q,L){var U=L>>5;L%=32;for(var G=q.g.length-U,K=[],Y=0;Y<G;Y++)K[Y]=0<L?q.i(Y+U)>>>L|q.i(Y+U+1)<<32-L:q.i(Y+U);return new f(K,q.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,p0=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=T,f.fromString=R,Ju=f}).apply(typeof Wy<"u"?Wy:typeof self<"u"?self:typeof window<"u"?window:{});var Of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var m0,Rh,g0,qf,om,y0,v0,b0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,v,S){return l==Array.prototype||l==Object.prototype||(l[v]=S.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Of=="object"&&Of];for(var v=0;v<l.length;++v){var S=l[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(l,v){if(v)e:{var S=r;l=l.split(".");for(var E=0;E<l.length-1;E++){var X=l[E];if(!(X in S))break e;S=S[X]}l=l[l.length-1],E=S[l],v=v(E),v!=E&&v!=null&&e(S,l,{configurable:!0,writable:!0,value:v})}}function a(l,v){l instanceof String&&(l+="");var S=0,E=!1,X={next:function(){if(!E&&S<l.length){var ie=S++;return{value:v(ie,l[ie]),done:!1}}return E=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}i("Array.prototype.values",function(l){return l||function(){return a(this,function(v,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},y=this||self;function w(l){var v=typeof l;return v=v!="object"?v:l?Array.isArray(l)?"array":v:"null",v=="array"||v=="object"&&typeof l.length=="number"}function T(l){var v=typeof l;return v=="object"&&l!=null||v=="function"}function R(l,v,S){return l.call.apply(l.bind,arguments)}function V(l,v,S){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,E),l.apply(v,X)}}return function(){return l.apply(v,arguments)}}function Q(l,v,S){return Q=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R:V,Q.apply(null,arguments)}function ee(l,v){var S=Array.prototype.slice.call(arguments,1);return function(){var E=S.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function ne(l,v){function S(){}S.prototype=v.prototype,l.aa=v.prototype,l.prototype=new S,l.prototype.constructor=l,l.Qb=function(E,X,ie){for(var Se=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)Se[bt-2]=arguments[bt];return v.prototype[X].apply(E,Se)}}function le(l){const v=l.length;if(0<v){const S=Array(v);for(let E=0;E<v;E++)S[E]=l[E];return S}return[]}function fe(l,v){for(let S=1;S<arguments.length;S++){const E=arguments[S];if(w(E)){const X=l.length||0,ie=E.length||0;l.length=X+ie;for(let Se=0;Se<ie;Se++)l[X+Se]=E[Se]}else l.push(E)}}class xe{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Ie(l){return/^[\s\xa0]*$/.test(l)}function Pe(){var l=y.navigator;return l&&(l=l.userAgent)?l:""}function Ue(l){return Ue[" "](l),l}Ue[" "]=function(){};var je=Pe().indexOf("Gecko")!=-1&&!(Pe().toLowerCase().indexOf("webkit")!=-1&&Pe().indexOf("Edge")==-1)&&!(Pe().indexOf("Trident")!=-1||Pe().indexOf("MSIE")!=-1)&&Pe().indexOf("Edge")==-1;function Oe(l,v,S){for(const E in l)v.call(S,l[E],E,l)}function q(l,v){for(const S in l)v.call(void 0,l[S],S,l)}function L(l){const v={};for(const S in l)v[S]=l[S];return v}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(l,v){let S,E;for(let X=1;X<arguments.length;X++){E=arguments[X];for(S in E)l[S]=E[S];for(let ie=0;ie<U.length;ie++)S=U[ie],Object.prototype.hasOwnProperty.call(E,S)&&(l[S]=E[S])}}function K(l){var v=1;l=l.split(":");const S=[];for(;0<v&&l.length;)S.push(l.shift()),v--;return l.length&&S.push(l.join(":")),S}function Y(l){y.setTimeout(()=>{throw l},0)}function B(){var l=vn;let v=null;return l.g&&(v=l.g,l.g=l.g.next,l.g||(l.h=null),v.next=null),v}class Rt{constructor(){this.h=this.g=null}add(v,S){const E=it.get();E.set(v,S),this.h?this.h.next=E:this.g=E,this.h=E}}var it=new xe(()=>new re,l=>l.reset());class re{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let be,ln=!1,vn=new Rt,ye=()=>{const l=y.Promise.resolve(void 0);be=()=>{l.then(se)}};var se=()=>{for(var l;l=B();){try{l.h.call(l.g)}catch(S){Y(S)}var v=it;v.j(l),100>v.h&&(v.h++,l.next=v.g,v.g=l)}ln=!1};function qt(){this.s=this.s,this.C=this.C}qt.prototype.s=!1,qt.prototype.ma=function(){this.s||(this.s=!0,this.N())},qt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(l,v){this.type=l,this.g=this.target=v,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var xt=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var l=!1,v=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const S=()=>{};y.addEventListener("test",S,v),y.removeEventListener("test",S,v)}catch{}return l}();function Ht(l,v){if(lt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var S=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=v,v=l.relatedTarget){if(je){e:{try{Ue(v.nodeName);var X=!0;break e}catch{}X=!1}X||(v=null)}}else S=="mouseover"?v=l.fromElement:S=="mouseout"&&(v=l.toElement);this.relatedTarget=v,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Gt[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ht.aa.h.call(this)}}ne(Ht,lt);var Gt={2:"touch",3:"pen",4:"mouse"};Ht.prototype.h=function(){Ht.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Rr="closure_listenable_"+(1e6*Math.random()|0),Zn=0;function or(l,v,S,E,X){this.listener=l,this.proxy=null,this.src=v,this.type=S,this.capture=!!E,this.ha=X,this.key=++Zn,this.da=this.fa=!1}function pr(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Dt(l){this.src=l,this.g={},this.h=0}Dt.prototype.add=function(l,v,S,E,X){var ie=l.toString();l=this.g[ie],l||(l=this.g[ie]=[],this.h++);var Se=Zi(l,v,E,X);return-1<Se?(v=l[Se],S||(v.fa=!1)):(v=new or(v,this.src,ie,!!E,X),v.fa=S,l.push(v)),v};function Me(l,v){var S=v.type;if(S in l.g){var E=l.g[S],X=Array.prototype.indexOf.call(E,v,void 0),ie;(ie=0<=X)&&Array.prototype.splice.call(E,X,1),ie&&(pr(v),l.g[S].length==0&&(delete l.g[S],l.h--))}}function Zi(l,v,S,E){for(var X=0;X<l.length;++X){var ie=l[X];if(!ie.da&&ie.listener==v&&ie.capture==!!S&&ie.ha==E)return X}return-1}var Xn="closure_lm_"+(1e6*Math.random()|0),os={};function Xt(l,v,S,E,X){if(Array.isArray(v)){for(var ie=0;ie<v.length;ie++)Xt(l,v[ie],S,E,X);return null}return S=ei(S),l&&l[Rr]?l.K(v,S,T(E)?!!E.capture:!1,X):Vn(l,v,S,!1,E,X)}function Vn(l,v,S,E,X,ie){if(!v)throw Error("Invalid event type");var Se=T(X)?!!X.capture:!!X,bt=cn(l);if(bt||(l[Xn]=bt=new Dt(l)),S=bt.add(v,S,E,Se,ie),S.proxy)return S;if(E=Xi(),S.proxy=E,E.src=l,E.listener=S,l.addEventListener)xt||(X=Se),X===void 0&&(X=!1),l.addEventListener(v.toString(),E,X);else if(l.attachEvent)l.attachEvent(Mt(v.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Xi(){function l(S){return v.call(l.src,l.listener,S)}const v=ct;return l}function Ea(l,v,S,E,X){if(Array.isArray(v))for(var ie=0;ie<v.length;ie++)Ea(l,v[ie],S,E,X);else E=T(E)?!!E.capture:!!E,S=ei(S),l&&l[Rr]?(l=l.i,v=String(v).toString(),v in l.g&&(ie=l.g[v],S=Zi(ie,S,E,X),-1<S&&(pr(ie[S]),Array.prototype.splice.call(ie,S,1),ie.length==0&&(delete l.g[v],l.h--)))):l&&(l=cn(l))&&(v=l.g[v.toString()],l=-1,v&&(l=Zi(v,S,E,X)),(S=-1<l?v[l]:null)&&En(S))}function En(l){if(typeof l!="number"&&l&&!l.da){var v=l.src;if(v&&v[Rr])Me(v.i,l);else{var S=l.type,E=l.proxy;v.removeEventListener?v.removeEventListener(S,E,l.capture):v.detachEvent?v.detachEvent(Mt(S),E):v.addListener&&v.removeListener&&v.removeListener(E),(S=cn(v))?(Me(S,l),S.h==0&&(S.src=null,v[Xn]=null)):pr(l)}}}function Mt(l){return l in os?os[l]:os[l]="on"+l}function ct(l,v){if(l.da)l=!0;else{v=new Ht(v,this);var S=l.listener,E=l.ha||l.src;l.fa&&En(l),l=S.call(E,v)}return l}function cn(l){return l=l[Xn],l instanceof Dt?l:null}var Aa="__closure_events_fn_"+(1e9*Math.random()>>>0);function ei(l){return typeof l=="function"?l:(l[Aa]||(l[Aa]=function(v){return l.handleEvent(v)}),l[Aa])}function mt(){qt.call(this),this.i=new Dt(this),this.M=this,this.F=null}ne(mt,qt),mt.prototype[Rr]=!0,mt.prototype.removeEventListener=function(l,v,S,E){Ea(this,l,v,S,E)};function Yt(l,v){var S,E=l.F;if(E)for(S=[];E;E=E.F)S.push(E);if(l=l.M,E=v.type||v,typeof v=="string")v=new lt(v,l);else if(v instanceof lt)v.target=v.target||l;else{var X=v;v=new lt(E,l),G(v,X)}if(X=!0,S)for(var ie=S.length-1;0<=ie;ie--){var Se=v.g=S[ie];X=Er(Se,E,!0,v)&&X}if(Se=v.g=l,X=Er(Se,E,!0,v)&&X,X=Er(Se,E,!1,v)&&X,S)for(ie=0;ie<S.length;ie++)Se=v.g=S[ie],X=Er(Se,E,!1,v)&&X}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var l=this.i,v;for(v in l.g){for(var S=l.g[v],E=0;E<S.length;E++)pr(S[E]);delete l.g[v],l.h--}}this.F=null},mt.prototype.K=function(l,v,S,E){return this.i.add(String(l),v,!1,S,E)},mt.prototype.L=function(l,v,S,E){return this.i.add(String(l),v,!0,S,E)};function Er(l,v,S,E){if(v=l.i.g[String(v)],!v)return!0;v=v.concat();for(var X=!0,ie=0;ie<v.length;++ie){var Se=v[ie];if(Se&&!Se.da&&Se.capture==S){var bt=Se.listener,_t=Se.ha||Se.src;Se.fa&&Me(l.i,Se),X=bt.call(_t,E)!==!1&&X}}return X&&!E.defaultPrevented}function jr(l,v,S){if(typeof l=="function")S&&(l=Q(l,S));else if(l&&typeof l.handleEvent=="function")l=Q(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:y.setTimeout(l,v||0)}function ti(l){l.g=jr(()=>{l.g=null,l.i&&(l.i=!1,ti(l))},l.l);const v=l.h;l.h=null,l.m.apply(null,v)}class Is extends qt{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ti(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(l){qt.call(this),this.h=l,this.g={}}ne(as,qt);var ni=[];function Yi(l){Oe(l.g,function(v,S){this.g.hasOwnProperty(S)&&En(v)},l),l.g={}}as.prototype.N=function(){as.aa.N.call(this),Yi(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=y.JSON.stringify,Ot=y.JSON.parse,An=class{stringify(l){return y.JSON.stringify(l,void 0)}parse(l){return y.JSON.parse(l,void 0)}};function Ji(){}Ji.prototype.h=null;function us(l){return l.h||(l.h=l.i())}function Ar(){}var xs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ii(){lt.call(this,"d")}ne(Ii,lt);function zo(){lt.call(this,"c")}ne(zo,lt);var Ts={},ku=null;function eo(){return ku=ku||new mt}Ts.La="serverreachability";function kn(l){lt.call(this,Ts.La,l)}ne(kn,lt);function Dn(l){const v=eo();Yt(v,new kn(v))}Ts.STAT_EVENT="statevent";function bn(l,v){lt.call(this,Ts.STAT_EVENT,l),this.stat=v}ne(bn,lt);function rn(l){const v=eo();Yt(v,new bn(v,l))}Ts.Ma="timingevent";function Ps(l,v){lt.call(this,Ts.Ma,l),this.size=v}ne(Ps,lt);function sn(l,v){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){l()},v)}function Rs(){this.g=!0}Rs.prototype.xa=function(){this.g=!1};function Da(l,v,S,E,X,ie){l.info(function(){if(l.g)if(ie)for(var Se="",bt=ie.split("&"),_t=0;_t<bt.length;_t++){var wt=bt[_t].split("=");if(1<wt.length){var yt=wt[0];wt=wt[1];var wn=yt.split("_");Se=2<=wn.length&&wn[1]=="type"?Se+(yt+"="+wt+"&"):Se+(yt+"=redacted&")}}else Se=null;else Se=ie;return"XMLHTTP REQ ("+E+") [attempt "+X+"]: "+v+`
`+S+`
`+Se})}function ar(l,v,S,E,X,ie,Se){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+X+"]: "+v+`
`+S+`
`+ie+" "+Se})}function Yn(l,v,S,E){l.info(function(){return"XMLHTTP TEXT ("+v+"): "+Cu(l,S)+(E?" "+E:"")})}function _u(l,v){l.info(function(){return"TIMEOUT: "+v})}Rs.prototype.info=function(){};function Cu(l,v){if(!l.g)return v;if(!v)return null;try{var S=JSON.parse(v);if(S){for(l=0;l<S.length;l++)if(Array.isArray(S[l])){var E=S[l];if(!(2>E.length)){var X=E[1];if(Array.isArray(X)&&!(1>X.length)){var ie=X[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var Se=1;Se<X.length;Se++)X[Se]=""}}}}return ri(S)}catch{return v}}var gt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_n={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},si;function Cn(){}ne(Cn,Ji),Cn.prototype.g=function(){return new XMLHttpRequest},Cn.prototype.i=function(){return{}},si=new Cn;function ls(l,v,S,E){this.j=l,this.i=v,this.l=S,this.R=E||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wo}function Wo(){this.i=null,this.g="",this.h=!1}var Iu={},Go={};function Oa(l,v,S){l.L=1,l.v=hs(Dr(v)),l.m=S,l.P=!0,xu(l,null)}function xu(l,v){l.F=Date.now(),mr(l),l.A=Dr(l.v);var S=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),ao(S.i,"t",E),l.C=0,S=l.j.J,l.h=new Wo,l.g=Ls(l.j,S?v:null,!l.m),0<l.O&&(l.M=new Is(Q(l.Y,l,l.g),l.O)),v=l.U,S=l.g,E=l.ca;var X="readystatechange";Array.isArray(X)||(X&&(ni[0]=X.toString()),X=ni);for(var ie=0;ie<X.length;ie++){var Se=Xt(S,X[ie],E||v.handleEvent,!1,v.h||v);if(!Se)break;v.g[Se.key]=Se}v=l.H?L(l.H):{},l.m?(l.u||(l.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,v)):(l.u="GET",l.g.ea(l.A,l.u,null,v)),Dn(),Da(l.i,l.u,l.A,l.l,l.R,l.m)}ls.prototype.ca=function(l){l=l.target;const v=this.M;v&&$n(l)==3?v.j():this.Y(l)},ls.prototype.Y=function(l){try{if(l==this.g)e:{const wn=$n(this.g);var v=this.g.Ba();const br=this.g.Z();if(!(3>wn)&&(wn!=3||this.g&&(this.h.h||this.g.oa()||ta(this.g)))){this.J||wn!=4||v==7||(v==8||0>=br?Dn(3):Dn(2)),xi(this);var S=this.g.Z();this.X=S;t:if(on(this)){var E=ta(this.g);l="";var X=E.length,ie=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gr(this),qr(this);var Se="";break t}this.h.i=new y.TextDecoder}for(v=0;v<X;v++)this.h.h=!0,l+=this.h.i.decode(E[v],{stream:!(ie&&v==X-1)});E.length=0,this.h.g+=l,this.C=0,Se=this.h.g}else Se=this.g.oa();if(this.o=S==200,ar(this.i,this.u,this.A,this.l,this.R,wn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,_t=this.g;if((bt=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ie(bt)){var wt=bt;break t}}wt=null}if(S=wt)Yn(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cs(this,S);else{this.o=!1,this.s=3,rn(12),gr(this),qr(this);break e}}if(this.P){S=!0;let Jn;for(;!this.J&&this.C<Se.length;)if(Jn=Tu(this,Se),Jn==Go){wn==4&&(this.s=4,rn(14),S=!1),Yn(this.i,this.l,null,"[Incomplete Response]");break}else if(Jn==Iu){this.s=4,rn(15),Yn(this.i,this.l,Se,"[Invalid Chunk]"),S=!1;break}else Yn(this.i,this.l,Jn,null),cs(this,Jn);if(on(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wn!=4||Se.length!=0||this.h.h||(this.s=1,rn(16),S=!1),this.o=this.o&&S,!S)Yn(this.i,this.l,Se,"[Invalid Chunked Response]"),gr(this),qr(this);else if(0<Se.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+Se.length),jn(yt),yt.M=!0,rn(11))}}else Yn(this.i,this.l,Se,null),cs(this,Se);wn==4&&gr(this),this.o&&!this.J&&(wn==4?ot(this.j,this):(this.o=!1,mr(this)))}else na(this.g),S==400&&0<Se.indexOf("Unknown SID")?(this.s=3,rn(12)):(this.s=0,rn(13)),gr(this),qr(this)}}}catch{}finally{}};function on(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Tu(l,v){var S=l.C,E=v.indexOf(`
`,S);return E==-1?Go:(S=Number(v.substring(S,E)),isNaN(S)?Iu:(E+=1,E+S>v.length?Go:(v=v.slice(E,E+S),l.C=E+S,v)))}ls.prototype.cancel=function(){this.J=!0,gr(this)};function mr(l){l.S=Date.now()+l.I,Br(l,l.I)}function Br(l,v){if(l.B!=null)throw Error("WatchDog timer not null");l.B=sn(Q(l.ba,l),v)}function xi(l){l.B&&(y.clearTimeout(l.B),l.B=null)}ls.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(_u(this.i,this.A),this.L!=2&&(Dn(),rn(17)),gr(this),this.s=2,qr(this)):Br(this,this.S-l)};function qr(l){l.j.G==0||l.J||ot(l.j,l)}function gr(l){xi(l);var v=l.M;v&&typeof v.ma=="function"&&v.ma(),l.M=null,Yi(l.U),l.g&&(v=l.g,l.g=null,v.abort(),v.ma())}function cs(l,v){try{var S=l.j;if(S.G!=0&&(S.g==l||no(S.h,l))){if(!l.K&&no(S.h,l)&&S.G==3){try{var E=S.Da.g.parse(v)}catch{E=null}if(Array.isArray(E)&&E.length==3){var X=E;if(X[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<l.F)Ai(S),Fs(S);else break e;Ms(S),rn(18)}}else S.za=X[1],0<S.za-S.T&&37500>X[2]&&S.F&&S.v==0&&!S.C&&(S.C=sn(Q(S.Za,S),6e3));if(1>=Jt(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Bn(S,11)}else if((l.K||S.g==l)&&Ai(S),!Ie(v))for(X=S.Da.g.parse(v),v=0;v<X.length;v++){let wt=X[v];if(S.T=wt[0],wt=wt[1],S.G==2)if(wt[0]=="c"){S.K=wt[1],S.ia=wt[2];const yt=wt[3];yt!=null&&(S.la=yt,S.j.info("VER="+S.la));const wn=wt[4];wn!=null&&(S.Aa=wn,S.j.info("SVER="+S.Aa));const br=wt[5];br!=null&&typeof br=="number"&&0<br&&(E=1.5*br,S.L=E,S.j.info("backChannelRequestTimeoutMs_="+E)),E=S;const Jn=l.g;if(Jn){const $s=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($s){var ie=E.h;ie.g||$s.indexOf("spdy")==-1&&$s.indexOf("quic")==-1&&$s.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Qo(ie,ie.h),ie.h=null))}if(E.D){const hi=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;hi&&(E.ya=hi,Tt(E.I,E.D,hi))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-l.F,S.j.info("Handshake RTT: "+S.R+"ms")),E=S;var Se=l;if(E.qa=mo(E,E.J?E.ia:null,E.W),Se.K){Ko(E.h,Se);var bt=Se,_t=E.L;_t&&(bt.I=_t),bt.B&&(xi(bt),mr(bt)),E.g=Se}else ja(E);0<S.i.length&&li(S)}else wt[0]!="stop"&&wt[0]!="close"||Bn(S,7);else S.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?Bn(S,7):fo(S):wt[0]!="noop"&&S.l&&S.l.ta(wt),S.v=0)}}Dn(4)}catch{}}var to=class{constructor(l,v){this.g=l,this.map=v}};function Na(l){this.l=l||10,y.PerformanceNavigationTiming?(l=y.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fa(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Jt(l){return l.h?1:l.g?l.g.size:0}function no(l,v){return l.h?l.h==v:l.g?l.g.has(v):!1}function Qo(l,v){l.g?l.g.add(v):l.h=v}function Ko(l,v){l.h&&l.h==v?l.h=null:l.g&&l.g.has(v)&&l.g.delete(v)}Na.prototype.cancel=function(){if(this.i=yr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function yr(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let v=l.i;for(const S of l.g.values())v=v.concat(S.D);return v}return le(l.i)}function ro(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(w(l)){for(var v=[],S=l.length,E=0;E<S;E++)v.push(l[E]);return v}v=[],S=0;for(E in l)v[S++]=l[E];return v}function Es(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(w(l)||typeof l=="string"){var v=[];l=l.length;for(var S=0;S<l;S++)v.push(S);return v}v=[],S=0;for(const E in l)v[S++]=E;return v}}}function Ti(l,v){if(l.forEach&&typeof l.forEach=="function")l.forEach(v,void 0);else if(w(l)||typeof l=="string")Array.prototype.forEach.call(l,v,void 0);else for(var S=Es(l),E=ro(l),X=E.length,ie=0;ie<X;ie++)v.call(void 0,E[ie],S&&S[ie],l)}var Pi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ma(l,v){if(l){l=l.split("&");for(var S=0;S<l.length;S++){var E=l[S].indexOf("="),X=null;if(0<=E){var ie=l[S].substring(0,E);X=l[S].substring(E+1)}else ie=l[S];v(ie,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function As(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof As){this.h=l.h,vr(this,l.j),this.o=l.o,this.g=l.g,Hr(this,l.s),this.l=l.l;var v=l.i,S=new Ri;S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),Pu(this,S),this.m=l.m}else l&&(v=String(l).match(Pi))?(this.h=!1,vr(this,v[1]||"",!0),this.o=ii(v[2]||""),this.g=ii(v[3]||"",!0),Hr(this,v[4]),this.l=ii(v[5]||"",!0),Pu(this,v[6]||"",!0),this.m=ii(v[7]||"")):(this.h=!1,this.i=new Ri(null,this.h))}As.prototype.toString=function(){var l=[],v=this.j;v&&l.push(Or(v,fs,!0),":");var S=this.g;return(S||v=="file")&&(l.push("//"),(v=this.o)&&l.push(Or(v,fs,!0),"@"),l.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&l.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&l.push("/"),l.push(Or(S,S.charAt(0)=="/"?Eu:so,!0))),(S=this.i.toString())&&l.push("?",S),(S=this.m)&&l.push("#",Or(S,oo)),l.join("")};function Dr(l){return new As(l)}function vr(l,v,S){l.j=S?ii(v,!0):v,l.j&&(l.j=l.j.replace(/:$/,""))}function Hr(l,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);l.s=v}else l.s=null}function Pu(l,v,S){v instanceof Ri?(l.i=v,Xo(l.i,l.h)):(S||(v=Or(v,io)),l.i=new Ri(v,l.h))}function Tt(l,v,S){l.i.set(v,S)}function hs(l){return Tt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ii(l,v){return l?v?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Or(l,v,S){return typeof l=="string"?(l=encodeURI(l).replace(v,Ru),S&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ru(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var fs=/[#\/\?@]/g,so=/[#\?:]/g,Eu=/[#\?]/g,io=/[#\?@]/g,oo=/#/g;function Ri(l,v){this.h=this.g=null,this.i=l||null,this.j=!!v}function Ds(l){l.g||(l.g=new Map,l.h=0,l.i&&Ma(l.i,function(v,S){l.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}n=Ri.prototype,n.add=function(l,v){Ds(this),this.i=null,l=Os(this,l);var S=this.g.get(l);return S||this.g.set(l,S=[]),S.push(v),this.h+=1,this};function zr(l,v){Ds(l),v=Os(l,v),l.g.has(v)&&(l.i=null,l.h-=l.g.get(v).length,l.g.delete(v))}function Zo(l,v){return Ds(l),v=Os(l,v),l.g.has(v)}n.forEach=function(l,v){Ds(this),this.g.forEach(function(S,E){S.forEach(function(X){l.call(v,X,E,this)},this)},this)},n.na=function(){Ds(this);const l=Array.from(this.g.values()),v=Array.from(this.g.keys()),S=[];for(let E=0;E<v.length;E++){const X=l[E];for(let ie=0;ie<X.length;ie++)S.push(v[E])}return S},n.V=function(l){Ds(this);let v=[];if(typeof l=="string")Zo(this,l)&&(v=v.concat(this.g.get(Os(this,l))));else{l=Array.from(this.g.values());for(let S=0;S<l.length;S++)v=v.concat(l[S])}return v},n.set=function(l,v){return Ds(this),this.i=null,l=Os(this,l),Zo(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[v]),this.h+=1,this},n.get=function(l,v){return l?(l=this.V(l),0<l.length?String(l[0]):v):v};function ao(l,v,S){zr(l,v),0<S.length&&(l.i=null,l.g.set(Os(l,v),le(S)),l.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],v=Array.from(this.g.keys());for(var S=0;S<v.length;S++){var E=v[S];const ie=encodeURIComponent(String(E)),Se=this.V(E);for(E=0;E<Se.length;E++){var X=ie;Se[E]!==""&&(X+="="+encodeURIComponent(String(Se[E]))),l.push(X)}}return this.i=l.join("&")};function Os(l,v){return v=String(v),l.j&&(v=v.toLowerCase()),v}function Xo(l,v){v&&!l.j&&(Ds(l),l.i=null,l.g.forEach(function(S,E){var X=E.toLowerCase();E!=X&&(zr(this,E),ao(this,X,S))},l)),l.j=v}function Et(l,v){const S=new Rs;if(y.Image){const E=new Image;E.onload=ee(ur,S,"TestLoadImage: loaded",!0,v,E),E.onerror=ee(ur,S,"TestLoadImage: error",!1,v,E),E.onabort=ee(ur,S,"TestLoadImage: abort",!1,v,E),E.ontimeout=ee(ur,S,"TestLoadImage: timeout",!1,v,E),y.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else v(!1)}function uo(l,v){const S=new Rs,E=new AbortController,X=setTimeout(()=>{E.abort(),ur(S,"TestPingServer: timeout",!1,v)},1e4);fetch(l,{signal:E.signal}).then(ie=>{clearTimeout(X),ie.ok?ur(S,"TestPingServer: ok",!0,v):ur(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(X),ur(S,"TestPingServer: error",!1,v)})}function ur(l,v,S,E,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),E(S)}catch{}}function lo(){this.g=new An}function co(l,v,S){const E=S||"";try{Ti(l,function(X,ie){let Se=X;T(X)&&(Se=ri(X)),v.push(E+ie+"="+encodeURIComponent(Se))})}catch(X){throw v.push(E+"type="+encodeURIComponent("_badmap")),X}}function Ns(l){this.l=l.Ub||null,this.j=l.eb||!1}ne(Ns,Ji),Ns.prototype.g=function(){return new oi(this.l,this.j)},Ns.prototype.i=function(l){return function(){return l}}({});function oi(l,v){mt.call(this),this.D=l,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}ne(oi,mt),n=oi.prototype,n.open=function(l,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=v,this.readyState=1,ht(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(v.body=l),(this.D||y).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,et(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ht(this)),this.g&&(this.readyState=3,ht(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ai(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ai(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var v=l.value?l.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!l.done}))&&(this.response=this.responseText+=v)}l.done?et(this):ht(this),this.readyState==3&&ai(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,et(this))},n.Qa=function(l){this.g&&(this.response=l,et(this))},n.ga=function(){this.g&&et(this)};function et(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ht(l)}n.setRequestHeader=function(l,v){this.u.append(l,v)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,l.push(S[0]+": "+S[1]),S=v.next();return l.join(`\r
`)};function ht(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Wr(l){let v="";return Oe(l,function(S,E){v+=E,v+=":",v+=S,v+=`\r
`}),v}function Yo(l,v,S){e:{for(E in S){var E=!1;break e}E=!0}E||(S=Wr(S),typeof l=="string"?S!=null&&encodeURIComponent(String(S)):Tt(l,v,S))}function Lt(l){mt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}ne(Lt,mt);var Ei=/^https?$/i,ho=["POST","PUT"];n=Lt.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,v,S,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);v=v?v.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():si.g(),this.v=this.o?us(this.o):us(si),this.g.onreadystatechange=Q(this.Ea,this);try{this.B=!0,this.g.open(v,String(l),!0),this.B=!1}catch(ie){La(this,ie);return}if(l=S||"",S=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var X in E)S.set(X,E[X]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const ie of E.keys())S.set(ie,E.get(ie));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(S.keys()).find(ie=>ie.toLowerCase()=="content-type"),X=y.FormData&&l instanceof y.FormData,!(0<=Array.prototype.indexOf.call(ho,v,void 0))||E||X||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,Se]of S)this.g.setRequestHeader(ie,Se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ea(this),this.u=!0,this.g.send(l),this.u=!1}catch(ie){La(this,ie)}};function La(l,v){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=v,l.m=5,Jo(l),an(l)}function Jo(l){l.A||(l.A=!0,Yt(l,"complete"),Yt(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Yt(this,"complete"),Yt(this,"abort"),an(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),an(this,!0)),Lt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ua(this):this.bb())},n.bb=function(){Ua(this)};function Ua(l){if(l.h&&typeof f<"u"&&(!l.v[1]||$n(l)!=4||l.Z()!=2)){if(l.u&&$n(l)==4)jr(l.Ea,0,l);else if(Yt(l,"readystatechange"),$n(l)==4){l.h=!1;try{const Se=l.Z();e:switch(Se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var E;if(E=Se===0){var X=String(l.D).match(Pi)[1]||null;!X&&y.self&&y.self.location&&(X=y.self.location.protocol.slice(0,-1)),E=!Ei.test(X?X.toLowerCase():"")}S=E}if(S)Yt(l,"complete"),Yt(l,"success");else{l.m=6;try{var ie=2<$n(l)?l.g.statusText:""}catch{ie=""}l.l=ie+" ["+l.Z()+"]",Jo(l)}}finally{an(l)}}}}function an(l,v){if(l.g){ea(l);const S=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,v||Yt(l,"ready");try{S.onreadystatechange=E}catch{}}}function ea(l){l.I&&(y.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function $n(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var v=this.g.responseText;return l&&v.indexOf(l)==0&&(v=v.substring(l.length)),Ot(v)}};function ta(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function na(l){const v={};l=(l.g&&2<=$n(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(Ie(l[E]))continue;var S=K(l[E]);const X=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ie=v[X]||[];v[X]=ie,ie.push(S)}q(v,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function On(l,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[l]||v}function ui(l){this.Aa=0,this.i=[],this.j=new Rs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=On("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=On("baseRetryDelayMs",5e3,l),this.cb=On("retryDelaySeedMs",1e4,l),this.Wa=On("forwardChannelMaxRetries",2,l),this.wa=On("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Na(l&&l.concurrentRequestLimit),this.Da=new lo,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ui.prototype,n.la=8,n.G=1,n.connect=function(l,v,S,E){rn(0),this.W=l,this.H=v||{},S&&E!==void 0&&(this.H.OSID=S,this.H.OAID=E),this.F=this.X,this.I=mo(this,null,this.W),li(this)};function fo(l){if(Va(l),l.G==3){var v=l.U++,S=Dr(l.I);if(Tt(S,"SID",l.K),Tt(S,"RID",v),Tt(S,"TYPE","terminate"),ci(l,S),v=new ls(l,l.j,v),v.L=2,v.v=hs(Dr(S)),S=!1,y.navigator&&y.navigator.sendBeacon)try{S=y.navigator.sendBeacon(v.v.toString(),"")}catch{}!S&&y.Image&&(new Image().src=v.v,S=!0),S||(v.g=Ls(v.j,null),v.g.ea(v.v)),v.F=Date.now(),mr(v)}Di(l)}function Fs(l){l.g&&(jn(l),l.g.cancel(),l.g=null)}function Va(l){Fs(l),l.u&&(y.clearTimeout(l.u),l.u=null),Ai(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&y.clearTimeout(l.s),l.s=null)}function li(l){if(!Fa(l.h)&&!l.s){l.s=!0;var v=l.Ga;be||ye(),ln||(be(),ln=!0),vn.add(v,l),l.B=0}}function $a(l,v){return Jt(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=v.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=sn(Q(l.Ga,l,v),lr(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const X=new ls(this,this.j,l);let ie=this.o;if(this.S&&(ie?(ie=L(ie),G(ie,this.S)):ie=this.S),this.m!==null||this.O||(X.H=ie,ie=null),this.P)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var E=this.i[S];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(v+=E,4096<v){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=Nn(this,X,v),S=Dr(this.I),Tt(S,"RID",l),Tt(S,"CVER",22),this.D&&Tt(S,"X-HTTP-Session-Id",this.D),ci(this,S),ie&&(this.O?v="headers="+encodeURIComponent(String(Wr(ie)))+"&"+v:this.m&&Yo(S,this.m,ie)),Qo(this.h,X),this.Ua&&Tt(S,"TYPE","init"),this.P?(Tt(S,"$req",v),Tt(S,"SID","null"),X.T=!0,Oa(X,S,null)):Oa(X,S,v),this.G=2}}else this.G==3&&(l?hn(this,l):this.i.length==0||Fa(this.h)||hn(this))};function hn(l,v){var S;v?S=v.l:S=l.U++;const E=Dr(l.I);Tt(E,"SID",l.K),Tt(E,"RID",S),Tt(E,"AID",l.T),ci(l,E),l.m&&l.o&&Yo(E,l.m,l.o),S=new ls(l,l.j,S,l.B+1),l.m===null&&(S.H=l.o),v&&(l.i=v.D.concat(l.i)),v=Nn(l,S,1e3),S.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Qo(l.h,S),Oa(S,E,v)}function ci(l,v){l.H&&Oe(l.H,function(S,E){Tt(v,E,S)}),l.l&&Ti({},function(S,E){Tt(v,E,S)})}function Nn(l,v,S){S=Math.min(l.i.length,S);var E=l.l?Q(l.l.Na,l.l,l):null;e:{var X=l.i;let ie=-1;for(;;){const Se=["count="+S];ie==-1?0<S?(ie=X[0].g,Se.push("ofs="+ie)):ie=0:Se.push("ofs="+ie);let bt=!0;for(let _t=0;_t<S;_t++){let wt=X[_t].g;const yt=X[_t].map;if(wt-=ie,0>wt)ie=Math.max(0,X[_t].g-100),bt=!1;else try{co(yt,Se,"req"+wt+"_")}catch{E&&E(yt)}}if(bt){E=Se.join("&");break e}}}return l=l.i.splice(0,S),v.D=l,E}function ja(l){if(!l.g&&!l.u){l.Y=1;var v=l.Fa;be||ye(),ln||(be(),ln=!0),vn.add(v,l),l.v=0}}function Ms(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=sn(Q(l.Fa,l),lr(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,po(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=sn(Q(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rn(10),Fs(this),po(this))};function jn(l){l.A!=null&&(y.clearTimeout(l.A),l.A=null)}function po(l){l.g=new ls(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var v=Dr(l.qa);Tt(v,"RID","rpc"),Tt(v,"SID",l.K),Tt(v,"AID",l.T),Tt(v,"CI",l.F?"0":"1"),!l.F&&l.ja&&Tt(v,"TO",l.ja),Tt(v,"TYPE","xmlhttp"),ci(l,v),l.m&&l.o&&Yo(v,l.m,l.o),l.L&&(l.g.I=l.L);var S=l.g;l=l.ia,S.L=1,S.v=hs(Dr(v)),S.m=null,S.P=!0,xu(S,l)}n.Za=function(){this.C!=null&&(this.C=null,Fs(this),Ms(this),rn(19))};function Ai(l){l.C!=null&&(y.clearTimeout(l.C),l.C=null)}function ot(l,v){var S=null;if(l.g==v){Ai(l),jn(l),l.g=null;var E=2}else if(no(l.h,v))S=v.D,Ko(l.h,v),E=1;else return;if(l.G!=0){if(v.o)if(E==1){S=v.m?v.m.length:0,v=Date.now()-v.F;var X=l.B;E=eo(),Yt(E,new Ps(E,S)),li(l)}else ja(l);else if(X=v.s,X==3||X==0&&0<v.X||!(E==1&&$a(l,v)||E==2&&Ms(l)))switch(S&&0<S.length&&(v=l.h,v.i=v.i.concat(S)),X){case 1:Bn(l,5);break;case 4:Bn(l,10);break;case 3:Bn(l,6);break;default:Bn(l,2)}}}function lr(l,v){let S=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(S*=2),S*v}function Bn(l,v){if(l.j.info("Error code "+v),v==2){var S=Q(l.fb,l),E=l.Xa;const X=!E;E=new As(E||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||vr(E,"https"),hs(E),X?Et(E.toString(),S):uo(E.toString(),S)}else rn(2);l.G=0,l.l&&l.l.sa(v),Di(l),Va(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function Di(l){if(l.G=0,l.ka=[],l.l){const v=yr(l.h);(v.length!=0||l.i.length!=0)&&(fe(l.ka,v),fe(l.ka,l.i),l.h.i.length=0,le(l.i),l.i.length=0),l.l.ra()}}function mo(l,v,S){var E=S instanceof As?Dr(S):new As(S);if(E.g!="")v&&(E.g=v+"."+E.g),Hr(E,E.s);else{var X=y.location;E=X.protocol,v=v?v+"."+X.hostname:X.hostname,X=+X.port;var ie=new As(null);E&&vr(ie,E),v&&(ie.g=v),X&&Hr(ie,X),S&&(ie.l=S),E=ie}return S=l.D,v=l.ya,S&&v&&Tt(E,S,v),Tt(E,"VER",l.la),ci(l,E),E}function Ls(l,v,S){if(v&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=l.Ca&&!l.pa?new Lt(new Ns({eb:S})):new Lt(l.pa),v.Ha(l.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function In(){}n=In.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xn(){}xn.prototype.g=function(l,v){return new At(l,v)};function At(l,v){mt.call(this),this.g=new ui(v),this.l=l,this.h=v&&v.messageUrlParams||null,l=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(l?l["X-WebChannel-Content-Type"]=v.messageContentType:l={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(l?l["X-WebChannel-Client-Profile"]=v.va:l={"X-WebChannel-Client-Profile":v.va}),this.g.S=l,(l=v&&v.Sb)&&!Ie(l)&&(this.g.m=l),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Ie(v)&&(this.g.D=v,l=this.h,l!==null&&v in l&&(l=this.h,v in l&&delete l[v])),this.j=new Vs(this)}ne(At,mt),At.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},At.prototype.close=function(){fo(this.g)},At.prototype.o=function(l){var v=this.g;if(typeof l=="string"){var S={};S.__data__=l,l=S}else this.u&&(S={},S.__data__=ri(l),l=S);v.i.push(new to(v.Ya++,l)),v.G==3&&li(v)},At.prototype.N=function(){this.g.l=null,delete this.j,fo(this.g),delete this.g,At.aa.N.call(this)};function ds(l){Ii.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var v=l.__sm__;if(v){e:{for(const S in v){l=S;break e}l=void 0}(this.i=l)&&(l=this.i,v=v!==null&&l in v?v[l]:void 0),this.data=v}else this.data=l}ne(ds,Ii);function Us(){zo.call(this),this.status=1}ne(Us,zo);function Vs(l){this.g=l}ne(Vs,In),Vs.prototype.ua=function(){Yt(this.g,"a")},Vs.prototype.ta=function(l){Yt(this.g,new ds(l))},Vs.prototype.sa=function(l){Yt(this.g,new Us)},Vs.prototype.ra=function(){Yt(this.g,"b")},xn.prototype.createWebChannel=xn.prototype.g,At.prototype.send=At.prototype.o,At.prototype.open=At.prototype.m,At.prototype.close=At.prototype.close,b0=function(){return new xn},v0=function(){return eo()},y0=Ts,om={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gt.NO_ERROR=0,gt.TIMEOUT=8,gt.HTTP_ERROR=6,qf=gt,_n.COMPLETE="complete",g0=_n,Ar.EventType=xs,xs.OPEN="a",xs.CLOSE="b",xs.ERROR="c",xs.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Rh=Ar,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,m0=Lt}).apply(typeof Of<"u"?Of:typeof self<"u"?self:typeof window<"u"?window:{});const Gy="@firebase/firestore",Qy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ns.UNAUTHENTICATED=new ns(null),ns.GOOGLE_CREDENTIALS=new ns("google-credentials-uid"),ns.FIRST_PARTY=new ns("first-party-uid"),ns.MOCK_USER=new ns("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=new Dd("@firebase/firestore");function Tc(){return Kl.logLevel}function Re(n,...e){if(Kl.logLevel<=St.DEBUG){const t=e.map(Um);Kl.debug(`Firestore (${Xc}): ${n}`,...t)}}function vu(n,...e){if(Kl.logLevel<=St.ERROR){const t=e.map(Um);Kl.error(`Firestore (${Xc}): ${n}`,...t)}}function Lc(n,...e){if(Kl.logLevel<=St.WARN){const t=e.map(Um);Kl.warn(`Firestore (${Xc}): ${n}`,...t)}}function Um(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(n="Unexpected state"){const e=`FIRESTORE (${Xc}) INTERNAL ASSERTION FAILED: `+n;throw vu(e),new Error(e)}function Bt(n,e){n||Ke()}function Xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends qo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $T{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ns.UNAUTHENTICATED))}shutdown(){}}class jT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class BT{constructor(e){this.t=e,this.currentUser=ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Bt(this.o===void 0);let r=this.i;const i=w=>this.i!==r?(r=this.i,t(w)):Promise.resolve();let a=new el;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new el,e.enqueueRetryable(()=>i(this.currentUser))};const f=()=>{const w=a;e.enqueueRetryable(async()=>{await w.promise,await i(this.currentUser)})},y=w=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new el)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt(typeof r.accessToken=="string"),new w0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string"),new ns(e)}}class qT{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ns.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class HT{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new qT(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ns.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ky{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zT{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Mo(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Bt(this.o===void 0);const r=a=>{a.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const f=a.token!==this.R;return this.R=a.token,Re("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ky(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Bt(typeof t.token=="string"),this.R=t.token,new Ky(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=WT(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function pt(n,e){return n<e?-1:n>e?1:0}function am(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return pt(r,i);{const a=S0(),f=GT(a.encode(Zy(n,t)),a.encode(Zy(e,t)));return f!==0?f:pt(r,i)}}t+=r>65535?2:1}return pt(n.length,e.length)}function Zy(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function GT(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return pt(n[t],e[t]);return pt(n.length,e.length)}function Uc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=-62135596800,Yy=1e6;class fr{static now(){return fr.fromMillis(Date.now())}static fromDate(e){return fr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Yy);return new fr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new De(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new De(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Xy)throw new De(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yy}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Xy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new fr(0,0))}static max(){return new Ze(new fr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="__name__";class ka{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ke(),r===void 0?r=e.length-t:r>e.length-t&&Ke(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ka.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ka?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=ka.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return pt(e.length,t.length)}static compareSegments(e,t){const r=ka.isNumericId(e),i=ka.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ka.extractNumericId(e).compare(ka.extractNumericId(t)):am(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ju.fromString(e.substring(4,e.length-2))}}class yn extends ka{construct(e,t,r){return new yn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new yn(t)}static emptyPath(){return new yn([])}}const QT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vr extends ka{construct(e,t,r){return new Vr(e,t,r)}static isValidIdentifier(e){return QT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jy}static keyField(){return new Vr([Jy])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new De(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;i<e.length;){const y=e[i];if(y==="\\"){if(i+1===e.length)throw new De(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[i+1];if(w!=="\\"&&w!=="."&&w!=="`")throw new De(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,i+=2}else y==="`"?(f=!f,i++):y!=="."||f?(r+=y,i++):(a(),i++)}if(a(),f)throw new De(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vr(t)}static emptyPath(){return new Vr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(yn.fromString(e))}static fromName(e){return new Ve(yn.fromString(e).popFirst(5))}static empty(){return new Ve(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new yn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=-1;function KT(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ze.fromTimestamp(r===1e9?new fr(t+1,0):new fr(t,r));return new sl(i,Ve.empty(),e)}function ZT(n){return new sl(n.readTime,n.key,Bh)}class sl{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new sl(Ze.min(),Ve.empty(),Bh)}static max(){return new sl(Ze.max(),Ve.empty(),Bh)}}function XT(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ve.comparator(n.documentKey,e.documentKey),t!==0?t:pt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==YT)throw n;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,r)=>{t(e)})}static reject(e){return new de((t,r)=>{r(e)})}static waitFor(e){return new de((t,r)=>{let i=0,a=0,f=!1;e.forEach(y=>{++i,y.next(()=>{++a,f&&a===i&&t()},w=>r(w))}),f=!0,a===i&&t()})}static or(e){let t=de.resolve(!1);for(const r of e)t=t.next(i=>i?de.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new de((r,i)=>{const a=e.length,f=new Array(a);let y=0;for(let w=0;w<a;w++){const T=w;t(e[T]).next(R=>{f[T]=R,++y,y===a&&r(f)},R=>i(R))}})}static doWhile(e,t){return new de((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function eP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Jc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Od.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=-1;function Nd(n){return n==null}function od(n){return n===0&&1/n==-1/0}function tP(n){return typeof n=="number"&&Number.isInteger(n)&&!od(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="";function nP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ev(e)),e=rP(n.get(t),e);return ev(e)}function rP(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case _0:t+="";break;default:t+=a}}return t}function ev(n){return n+_0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function nc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function C0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,t){this.comparator=e,this.root=t||Ur.EMPTY}insert(e,t){return new Rn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ur.BLACK,null,null))}remove(e){return new Rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ur.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nf(this.root,e,this.comparator,!0)}}class Nf{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ur{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Ur.RED,this.left=i??Ur.EMPTY,this.right=a??Ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Ur(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ur.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}}Ur.EMPTY=null,Ur.RED=!0,Ur.BLACK=!1;Ur.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ur(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.comparator=e,this.data=new Rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nv(this.data.getIterator())}getIteratorFrom(e){return new nv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof dr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new dr(this.comparator);return t.data=e,t}}class nv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.fields=e,e.sort(Vr.comparator)}static empty(){return new Lo([])}unionWith(e){let t=new dr(Vr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Lo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new I0("Invalid base64 string: "+i):i}}(e);return new $r(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new $r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const sP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function il(n){if(Bt(!!n),typeof n=="string"){let e=0;const t=sP.exec(n);if(Bt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kn(n.seconds),nanos:Kn(n.nanos)}}function Kn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ol(n){return typeof n=="string"?$r.fromBase64String(n):$r.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="server_timestamp",T0="__type__",P0="__previous_value__",R0="__local_write_time__";function $m(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[T0])===null||t===void 0?void 0:t.stringValue)===x0}function Fd(n){const e=n.mapValue.fields[P0];return $m(e)?Fd(e):e}function qh(n){const e=il(n.mapValue.fields[R0].timestampValue);return new fr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,t,r,i,a,f,y,w,T){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=f,this.autoDetectLongPolling=y,this.longPollingOptions=w,this.useFetchStreams=T}}const ad="(default)";class Hh{constructor(e,t){this.projectId=e,this.database=t||ad}static empty(){return new Hh("","")}get isDefaultDatabase(){return this.database===ad}isEqual(e){return e instanceof Hh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="__type__",oP="__max__",Ff={mapValue:{}},A0="__vector__",ud="value";function al(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$m(n)?4:uP(n)?9007199254740991:aP(n)?10:11:Ke()}function Pa(n,e){if(n===e)return!0;const t=al(n);if(t!==al(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qh(n).isEqual(qh(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=il(r.timestampValue),f=il(i.timestampValue);return a.seconds===f.seconds&&a.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,i){return ol(r.bytesValue).isEqual(ol(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Kn(r.geoPointValue.latitude)===Kn(i.geoPointValue.latitude)&&Kn(r.geoPointValue.longitude)===Kn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Kn(r.integerValue)===Kn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Kn(r.doubleValue),f=Kn(i.doubleValue);return a===f?od(a)===od(f):isNaN(a)&&isNaN(f)}return!1}(n,e);case 9:return Uc(n.arrayValue.values||[],e.arrayValue.values||[],Pa);case 10:case 11:return function(r,i){const a=r.mapValue.fields||{},f=i.mapValue.fields||{};if(tv(a)!==tv(f))return!1;for(const y in a)if(a.hasOwnProperty(y)&&(f[y]===void 0||!Pa(a[y],f[y])))return!1;return!0}(n,e);default:return Ke()}}function zh(n,e){return(n.values||[]).find(t=>Pa(t,e))!==void 0}function Vc(n,e){if(n===e)return 0;const t=al(n),r=al(e);if(t!==r)return pt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return pt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const f=Kn(i.integerValue||i.doubleValue),y=Kn(a.integerValue||a.doubleValue);return f<y?-1:f>y?1:f===y?0:isNaN(f)?isNaN(y)?0:-1:1}(n,e);case 3:return rv(n.timestampValue,e.timestampValue);case 4:return rv(qh(n),qh(e));case 5:return am(n.stringValue,e.stringValue);case 6:return function(i,a){const f=ol(i),y=ol(a);return f.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const f=i.split("/"),y=a.split("/");for(let w=0;w<f.length&&w<y.length;w++){const T=pt(f[w],y[w]);if(T!==0)return T}return pt(f.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const f=pt(Kn(i.latitude),Kn(a.latitude));return f!==0?f:pt(Kn(i.longitude),Kn(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return sv(n.arrayValue,e.arrayValue);case 10:return function(i,a){var f,y,w,T;const R=i.fields||{},V=a.fields||{},Q=(f=R[ud])===null||f===void 0?void 0:f.arrayValue,ee=(y=V[ud])===null||y===void 0?void 0:y.arrayValue,ne=pt(((w=Q==null?void 0:Q.values)===null||w===void 0?void 0:w.length)||0,((T=ee==null?void 0:ee.values)===null||T===void 0?void 0:T.length)||0);return ne!==0?ne:sv(Q,ee)}(n.mapValue,e.mapValue);case 11:return function(i,a){if(i===Ff.mapValue&&a===Ff.mapValue)return 0;if(i===Ff.mapValue)return 1;if(a===Ff.mapValue)return-1;const f=i.fields||{},y=Object.keys(f),w=a.fields||{},T=Object.keys(w);y.sort(),T.sort();for(let R=0;R<y.length&&R<T.length;++R){const V=am(y[R],T[R]);if(V!==0)return V;const Q=Vc(f[y[R]],w[T[R]]);if(Q!==0)return Q}return pt(y.length,T.length)}(n.mapValue,e.mapValue);default:throw Ke()}}function rv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return pt(n,e);const t=il(n),r=il(e),i=pt(t.seconds,r.seconds);return i!==0?i:pt(t.nanos,r.nanos)}function sv(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Vc(t[i],r[i]);if(a)return a}return pt(t.length,r.length)}function $c(n){return um(n)}function um(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const t=il(e);return`time(${t.seconds},${t.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return ol(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Ve.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let t="[",r=!0;for(const i of e.values||[])r?r=!1:t+=",",t+=um(i);return t+"]"}(n.arrayValue):"mapValue"in n?function(e){const t=Object.keys(e.fields||{}).sort();let r="{",i=!0;for(const a of t)i?i=!1:r+=",",r+=`${a}:${um(e.fields[a])}`;return r+"}"}(n.mapValue):Ke()}function Hf(n){switch(al(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fd(n);return e?16+Hf(e):16;case 5:return 2*n.stringValue.length;case 6:return ol(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(t){return(t.values||[]).reduce((r,i)=>r+Hf(i),0)}(n.arrayValue);case 10:case 11:return function(t){let r=0;return nc(t.fields,(i,a)=>{r+=i.length+Hf(a)}),r}(n.mapValue);default:throw Ke()}}function iv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function lm(n){return!!n&&"integerValue"in n}function jm(n){return!!n&&"arrayValue"in n}function ov(n){return!!n&&"nullValue"in n}function av(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zf(n){return!!n&&"mapValue"in n}function aP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[E0])===null||t===void 0?void 0:t.stringValue)===A0}function Oh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return nc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Oh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Oh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===oP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.value=e}static empty(){return new Wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oh(t)}setAll(e){let t=Vr.emptyPath(),r={},i=[];e.forEach((f,y)=>{if(!t.isImmediateParentOf(y)){const w=this.getFieldsMap(t);this.applyChanges(w,r,i),r={},i=[],t=y.popLast()}f?r[y.lastSegment()]=Oh(f):i.push(y.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());zf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];zf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){nc(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Wi(Oh(this.value))}}function D0(n){const e=[];return nc(n.fields,(t,r)=>{const i=new Vr([t]);if(zf(r)){const a=D0(r.mapValue).fields;if(a.length===0)e.push(i);else for(const f of a)e.push(i.child(f))}else e.push(i)}),new Lo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,t,r,i,a,f,y){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=f,this.documentState=y}static newInvalidDocument(e){return new rs(e,0,Ze.min(),Ze.min(),Ze.min(),Wi.empty(),0)}static newFoundDocument(e,t,r,i){return new rs(e,1,t,Ze.min(),r,i,0)}static newNoDocument(e,t){return new rs(e,2,t,Ze.min(),Ze.min(),Wi.empty(),0)}static newUnknownDocument(e,t){return new rs(e,3,t,Ze.min(),Ze.min(),Wi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t){this.position=e,this.inclusive=t}}function uv(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],f=n.position[i];if(a.field.isKeyField()?r=Ve.comparator(Ve.fromName(f.referenceValue),t.key):r=Vc(f,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function lv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pa(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t="asc"){this.field=e,this.dir=t}}function lP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{}class ir extends O0{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new hP(e,t,r):t==="array-contains"?new pP(e,r):t==="in"?new mP(e,r):t==="not-in"?new gP(e,r):t==="array-contains-any"?new yP(e,r):new ir(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new fP(e,r):new dP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Vc(t,this.value)):t!==null&&al(this.value)===al(t)&&this.matchesComparison(Vc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bo extends O0{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Bo(e,t)}matches(e){return N0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function N0(n){return n.op==="and"}function F0(n){return cP(n)&&N0(n)}function cP(n){for(const e of n.filters)if(e instanceof Bo)return!1;return!0}function cm(n){if(n instanceof ir)return n.field.canonicalString()+n.op.toString()+$c(n.value);if(F0(n))return n.filters.map(e=>cm(e)).join(",");{const e=n.filters.map(t=>cm(t)).join(",");return`${n.op}(${e})`}}function M0(n,e){return n instanceof ir?function(t,r){return r instanceof ir&&t.op===r.op&&t.field.isEqual(r.field)&&Pa(t.value,r.value)}(n,e):n instanceof Bo?function(t,r){return r instanceof Bo&&t.op===r.op&&t.filters.length===r.filters.length?t.filters.reduce((i,a,f)=>i&&M0(a,r.filters[f]),!0):!1}(n,e):void Ke()}function L0(n){return n instanceof ir?function(e){return`${e.field.canonicalString()} ${e.op} ${$c(e.value)}`}(n):n instanceof Bo?function(e){return e.op.toString()+" {"+e.getFilters().map(L0).join(" ,")+"}"}(n):"Filter"}class hP extends ir{constructor(e,t,r){super(e,t,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const t=Ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class fP extends ir{constructor(e,t){super(e,"in",t),this.keys=U0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class dP extends ir{constructor(e,t){super(e,"not-in",t),this.keys=U0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function U0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ve.fromName(r.referenceValue))}class pP extends ir{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jm(t)&&zh(t.arrayValue,this.value)}}class mP extends ir{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&zh(this.value.arrayValue,t)}}class gP extends ir{constructor(e,t){super(e,"not-in",t)}matches(e){if(zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!zh(this.value.arrayValue,t)}}class yP extends ir{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>zh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,t=null,r=[],i=[],a=null,f=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=f,this.endAt=y,this.le=null}}function cv(n,e=null,t=[],r=[],i=null,a=null,f=null){return new vP(n,e,t,r,i,a,f)}function Bm(n){const e=Xe(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>cm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Nd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$c(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$c(r)).join(",")),e.le=t}return e.le}function qm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!M0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lv(n.startAt,e.startAt)&&lv(n.endAt,e.endAt)}function hm(n){return Ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t=null,r=[],i=[],a=null,f="F",y=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=f,this.startAt=y,this.endAt=w,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function bP(n,e,t,r,i,a,f,y){return new eh(n,e,t,r,i,a,f,y)}function V0(n){return new eh(n)}function hv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $0(n){return n.collectionGroup!==null}function Nh(n){const e=Xe(n);if(e.he===null){e.he=[];const t=new Set;for(const i of e.explicitOrderBy)e.he.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let a=new dr(Vr.comparator);return i.filters.forEach(f=>{f.getFlattenedFilters().forEach(y=>{y.isInequality()&&(a=a.add(y.field))})}),a})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.he.push(new Wh(i,r))}),t.has(Vr.keyField().canonicalString())||e.he.push(new Wh(Vr.keyField(),r))}return e.he}function Ca(n){const e=Xe(n);return e.Pe||(e.Pe=wP(e,Nh(n))),e.Pe}function wP(n,e){if(n.limitType==="F")return cv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Wh(i.field,a)});const t=n.endAt?new ld(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ld(n.startAt.position,n.startAt.inclusive):null;return cv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function fm(n,e){const t=n.filters.concat([e]);return new eh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function dm(n,e,t){return new eh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Md(n,e){return qm(Ca(n),Ca(e))&&n.limitType===e.limitType}function j0(n){return`${Bm(Ca(n))}|lt:${n.limitType}`}function Pc(n){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>L0(r)).join(", ")}]`),Nd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$c(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$c(r)).join(",")),`Target(${t})`}(Ca(n))}; limitType=${n.limitType})`}function Ld(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return t.collectionGroup!==null?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ve.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Nh(t))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&function(t,r){return!(t.startAt&&!function(i,a,f){const y=uv(i,a,f);return i.inclusive?y<=0:y<0}(t.startAt,Nh(t),r)||t.endAt&&!function(i,a,f){const y=uv(i,a,f);return i.inclusive?y>=0:y>0}(t.endAt,Nh(t),r))}(n,e)}function SP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function B0(n){return(e,t)=>{let r=!1;for(const i of Nh(n)){const a=kP(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function kP(n,e,t){const r=n.field.isKeyField()?Ve.comparator(e.key,t.key):function(i,a,f){const y=a.data.field(i),w=f.data.field(i);return y!==null&&w!==null?Vc(y,w):Ke()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){nc(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return C0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new Rn(Ve.comparator);function bu(){return _P}const q0=new Rn(Ve.comparator);function Eh(...n){let e=q0;for(const t of n)e=e.insert(t.key,t);return e}function H0(n){let e=q0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Bl(){return Fh()}function z0(){return Fh()}function Fh(){return new rc(n=>n.toString(),(n,e)=>n.isEqual(e))}const CP=new Rn(Ve.comparator),IP=new dr(Ve.comparator);function kt(...n){let e=IP;for(const t of n)e=e.add(t);return e}const xP=new dr(pt);function TP(){return xP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function W0(n){return{integerValue:""+n}}function PP(n,e){return tP(e)?W0(e):Hm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(){this._=void 0}}function RP(n,e,t){return n instanceof cd?function(r,i){const a={fields:{[T0]:{stringValue:x0},[R0]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&$m(i)&&(i=Fd(i)),i&&(a.fields[P0]=i),{mapValue:a}}(t,e):n instanceof Gh?Q0(n,e):n instanceof Qh?K0(n,e):function(r,i){const a=G0(r,i),f=fv(a)+fv(r.Ie);return lm(a)&&lm(r.Ie)?W0(f):Hm(r.serializer,f)}(n,e)}function EP(n,e,t){return n instanceof Gh?Q0(n,e):n instanceof Qh?K0(n,e):t}function G0(n,e){return n instanceof hd?function(t){return lm(t)||function(r){return!!r&&"doubleValue"in r}(t)}(e)?e:{integerValue:0}:null}class cd extends Ud{}class Gh extends Ud{constructor(e){super(),this.elements=e}}function Q0(n,e){const t=Z0(e);for(const r of n.elements)t.some(i=>Pa(i,r))||t.push(r);return{arrayValue:{values:t}}}class Qh extends Ud{constructor(e){super(),this.elements=e}}function K0(n,e){let t=Z0(e);for(const r of n.elements)t=t.filter(i=>!Pa(i,r));return{arrayValue:{values:t}}}class hd extends Ud{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function fv(n){return Kn(n.integerValue||n.doubleValue)}function Z0(n){return jm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function AP(n,e){return n.field.isEqual(e.field)&&function(t,r){return t instanceof Gh&&r instanceof Gh||t instanceof Qh&&r instanceof Qh?Uc(t.elements,r.elements,Pa):t instanceof hd&&r instanceof hd?Pa(t.Ie,r.Ie):t instanceof cd&&r instanceof cd}(n.transform,e.transform)}class DP{constructor(e,t){this.version=e,this.transformResults=t}}class gu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gu}static exists(e){return new gu(void 0,e)}static updateTime(e){return new gu(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Vd{}function X0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new J0(n.key,gu.none()):new Jh(n.key,n.data,gu.none());{const t=n.data,r=Wi.empty();let i=new dr(Vr.comparator);for(let a of e.fields)if(!i.has(a)){let f=t.field(a);f===null&&a.length>1&&(a=a.popLast(),f=t.field(a)),f===null?r.delete(a):r.set(a,f),i=i.add(a)}return new sc(n.key,r,new Lo(i.toArray()),gu.none())}}function OP(n,e,t){n instanceof Jh?function(r,i,a){const f=r.value.clone(),y=pv(r.fieldTransforms,i,a.transformResults);f.setAll(y),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):n instanceof sc?function(r,i,a){if(!Wf(r.precondition,i))return void i.convertToUnknownDocument(a.version);const f=pv(r.fieldTransforms,i,a.transformResults),y=i.data;y.setAll(Y0(r)),y.setAll(f),i.convertToFoundDocument(a.version,y).setHasCommittedMutations()}(n,e,t):function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Mh(n,e,t,r){return n instanceof Jh?function(i,a,f,y){if(!Wf(i.precondition,a))return f;const w=i.value.clone(),T=mv(i.fieldTransforms,y,a);return w.setAll(T),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof sc?function(i,a,f,y){if(!Wf(i.precondition,a))return f;const w=mv(i.fieldTransforms,y,a),T=a.data;return T.setAll(Y0(i)),T.setAll(w),a.convertToFoundDocument(a.version,T).setHasLocalMutations(),f===null?null:f.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(R=>R.field))}(n,e,t,r):function(i,a,f){return Wf(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):f}(n,e,t)}function NP(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=G0(r.transform,i||null);a!=null&&(t===null&&(t=Wi.empty()),t.set(r.field,a))}return t||null}function dv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(t,r){return t===void 0&&r===void 0||!(!t||!r)&&Uc(t,r,(i,a)=>AP(i,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Jh extends Vd{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class sc extends Vd{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Y0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function pv(n,e,t){const r=new Map;Bt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],f=a.transform,y=e.data.field(a.field);r.set(a.field,EP(f,y,t[i]))}return r}function mv(n,e,t){const r=new Map;for(const i of n){const a=i.transform,f=t.data.field(i.field);r.set(i.field,RP(a,f,e))}return r}class J0 extends Vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FP extends Vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&OP(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Mh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Mh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=z0();return this.mutations.forEach(i=>{const a=e.get(i.key),f=a.overlayedDocument;let y=this.applyToLocalView(f,a.mutatedFields);y=t.has(i.key)?null:y;const w=X0(f,y);w!==null&&r.set(i.key,w),f.isValidDocument()||f.convertToNoDocument(Ze.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),kt())}isEqual(e){return this.batchId===e.batchId&&Uc(this.mutations,e.mutations,(t,r)=>dv(t,r))&&Uc(this.baseMutations,e.baseMutations,(t,r)=>dv(t,r))}}class zm{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Bt(e.mutations.length===r.length);let i=function(){return CP}();const a=e.mutations;for(let f=0;f<a.length;f++)i=i.insert(a[f].key,r[f].version);return new zm(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr,Pt;function VP(n){switch(n){case me.OK:return Ke();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Ke()}}function ew(n){if(n===void 0)return vu("GRPC error has no .code"),me.UNKNOWN;switch(n){case rr.OK:return me.OK;case rr.CANCELLED:return me.CANCELLED;case rr.UNKNOWN:return me.UNKNOWN;case rr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case rr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case rr.INTERNAL:return me.INTERNAL;case rr.UNAVAILABLE:return me.UNAVAILABLE;case rr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case rr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case rr.NOT_FOUND:return me.NOT_FOUND;case rr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case rr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case rr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case rr.ABORTED:return me.ABORTED;case rr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case rr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case rr.DATA_LOSS:return me.DATA_LOSS;default:return Ke()}}(Pt=rr||(rr={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=new Ju([4294967295,4294967295],0);function gv(n){const e=S0().encode(n),t=new p0;return t.update(e),new Uint8Array(t.digest())}function yv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ju([t,r],0),new Ju([i,a],0)]}class Wm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ah(`Invalid padding: ${t}`);if(r<0)throw new Ah(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ah(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ah(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ju.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Ju.fromNumber(r)));return i.compare($P)===1&&(i=new Ju([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=gv(e),[r,i]=yv(t);for(let a=0;a<this.hashCount;a++){const f=this.Ae(r,i,a);if(!this.Re(f))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),f=new Wm(a,i,t);return r.forEach(y=>f.insert(y)),f}insert(e){if(this.Ee===0)return;const t=gv(e),[r,i]=yv(t);for(let a=0;a<this.hashCount;a++){const f=this.Ae(r,i,a);this.Ve(f)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ah extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,ef.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new $d(Ze.min(),i,new Rn(pt),bu(),kt())}}class ef{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ef(r,t,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class tw{constructor(e,t){this.targetId=e,this.ge=t}}class nw{constructor(e,t,r=$r.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class vv{constructor(){this.pe=0,this.ye=bv(),this.we=$r.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=kt(),t=kt(),r=kt();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ke()}}),new ef(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=bv()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Bt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class jP{constructor(e){this.ke=e,this.qe=new Map,this.Qe=bu(),this.$e=Mf(),this.Ue=Mf(),this.Ke=new Rn(pt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const a=i.target;if(hm(a))if(r===0){const f=new Ve(a.path);this.ze(t,f,rs.newNoDocument(f,Ze.min()))}else Bt(r===1);else{const f=this.et(t);if(f!==r){const y=this.tt(e),w=y?this.nt(y,e,f):1;if(w!==0){this.Ye(t);const T=w===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,T)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let f,y;try{f=ol(r).toUint8Array()}catch(w){if(w instanceof I0)return Lc("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw w}try{y=new Wm(f,i,a)}catch(w){return Lc(w instanceof Ah?"BloomFilter error: ":"Applying bloom filter failed: ",w),null}return y.Ee===0?null:y}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const f=this.ke.it(),y=`projects/${f.projectId}/databases/${f.database}/documents/${a.path.canonicalString()}`;e.mightContain(y)||(this.ze(t,a,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((a,f)=>{const y=this.Xe(f);if(y){if(a.current&&hm(y.target)){const w=new Ve(y.target.path);this._t(w).has(f)||this.ut(f,w)||this.ze(f,w,rs.newNoDocument(w,e))}a.ve&&(t.set(f,a.Fe()),a.Me())}});let r=kt();this.Ue.forEach((a,f)=>{let y=!0;f.forEachWhile(w=>{const T=this.Xe(w);return!T||T.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)}),y&&(r=r.add(a))}),this.Qe.forEach((a,f)=>f.setReadTime(e));const i=new $d(e,t,this.Ke,this.Qe,r);return this.Qe=bu(),this.$e=Mf(),this.Ue=Mf(),this.Ke=new Rn(pt),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new vv,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new dr(pt),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new dr(pt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new vv),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Mf(){return new Rn(Ve.comparator)}function bv(){return new Rn(Ve.comparator)}const BP={asc:"ASCENDING",desc:"DESCENDING"},qP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HP={and:"AND",or:"OR"};class zP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pm(n,e){return n.useProto3Json||Nd(e)?e:{value:e}}function fd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function WP(n,e){return fd(n,e.toTimestamp())}function Ia(n){return Bt(!!n),Ze.fromTimestamp(function(e){const t=il(e);return new fr(t.seconds,t.nanos)}(n))}function Gm(n,e){return mm(n,e).canonicalString()}function mm(n,e){const t=function(r){return new yn(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function sw(n){const e=yn.fromString(n);return Bt(lw(e)),e}function gm(n,e){return Gm(n.databaseId,e.path)}function Mp(n,e){const t=sw(e);if(t.get(1)!==n.databaseId.projectId)throw new De(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new De(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ve(ow(t))}function iw(n,e){return Gm(n.databaseId,e)}function GP(n){const e=sw(n);return e.length===4?yn.emptyPath():ow(e)}function ym(n){return new yn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ow(n){return Bt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function wv(n,e,t){return{name:gm(n,e),fields:t.value.mapValue.fields}}function QP(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:Ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(w,T){return w.useProto3Json?(Bt(T===void 0||typeof T=="string"),$r.fromBase64String(T||"")):(Bt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),$r.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,y=f&&function(w){const T=w.code===void 0?me.UNKNOWN:ew(w.code);return new De(T,w.message||"")}(f);t=new nw(r,i,a,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mp(n,r.document.name),a=Ia(r.document.updateTime),f=r.document.createTime?Ia(r.document.createTime):Ze.min(),y=new Wi({mapValue:{fields:r.document.fields}}),w=rs.newFoundDocument(i,a,f,y),T=r.targetIds||[],R=r.removedTargetIds||[];t=new Gf(T,R,w.key,w)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mp(n,r.document),a=r.readTime?Ia(r.readTime):Ze.min(),f=rs.newNoDocument(i,a),y=r.removedTargetIds||[];t=new Gf([],y,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mp(n,r.document),a=r.removedTargetIds||[];t=new Gf([],a,i,null)}else{if(!("filter"in e))return Ke();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,f=new UP(i,a),y=r.targetId;t=new tw(y,f)}}return t}function KP(n,e){let t;if(e instanceof Jh)t={update:wv(n,e.key,e.value)};else if(e instanceof J0)t={delete:gm(n,e.key)};else if(e instanceof sc)t={update:wv(n,e.key,e.data),updateMask:sR(e.fieldMask)};else{if(!(e instanceof FP))return Ke();t={verify:gm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const f=a.transform;if(f instanceof cd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Gh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Qh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof hd)return{fieldPath:a.field.canonicalString(),increment:f.Ie};throw Ke()}(0,r))),e.precondition.isNone||(t.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:WP(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ke()}(n,e.precondition)),t}function ZP(n,e){return n&&n.length>0?(Bt(e!==void 0),n.map(t=>function(r,i){let a=r.updateTime?Ia(r.updateTime):Ia(i);return a.isEqual(Ze.min())&&(a=Ia(i)),new DP(a,r.transformResults||[])}(t,e))):[]}function XP(n,e){return{documents:[iw(n,e.path)]}}function YP(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=iw(n,i);const a=function(w){if(w.length!==0)return uw(Bo.create(w,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const f=function(w){if(w.length!==0)return w.map(T=>function(R){return{field:Rc(R.field),direction:tR(R.dir)}}(T))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const y=pm(n,e.limit);return y!==null&&(t.structuredQuery.limit=y),e.startAt&&(t.structuredQuery.startAt=function(w){return{before:w.inclusive,values:w.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(w){return{before:!w.inclusive,values:w.position}}(e.endAt)),{ht:t,parent:i}}function JP(n){let e=GP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Bt(r===1);const R=t.from[0];R.allDescendants?i=R.collectionId:e=e.child(R.collectionId)}let a=[];t.where&&(a=function(R){const V=aw(R);return V instanceof Bo&&F0(V)?V.getFilters():[V]}(t.where));let f=[];t.orderBy&&(f=function(R){return R.map(V=>function(Q){return new Wh(Ec(Q.field),function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Q.direction))}(V))}(t.orderBy));let y=null;t.limit&&(y=function(R){let V;return V=typeof R=="object"?R.value:R,Nd(V)?null:V}(t.limit));let w=null;t.startAt&&(w=function(R){const V=!!R.before,Q=R.values||[];return new ld(Q,V)}(t.startAt));let T=null;return t.endAt&&(T=function(R){const V=!R.before,Q=R.values||[];return new ld(Q,V)}(t.endAt)),bP(e,i,f,a,y,"F",w,T)}function eR(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function aw(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ec(e.unaryFilter.field);return ir.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Ec(e.unaryFilter.field);return ir.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ec(e.unaryFilter.field);return ir.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ec(e.unaryFilter.field);return ir.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}(n):n.fieldFilter!==void 0?function(e){return ir.create(Ec(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Bo.create(e.compositeFilter.filters.map(t=>aw(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ke()}}(e.compositeFilter.op))}(n):Ke()}function tR(n){return BP[n]}function nR(n){return qP[n]}function rR(n){return HP[n]}function Rc(n){return{fieldPath:n.canonicalString()}}function Ec(n){return Vr.fromServerFormat(n.fieldPath)}function uw(n){return n instanceof ir?function(e){if(e.op==="=="){if(av(e.value))return{unaryFilter:{field:Rc(e.field),op:"IS_NAN"}};if(ov(e.value))return{unaryFilter:{field:Rc(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(av(e.value))return{unaryFilter:{field:Rc(e.field),op:"IS_NOT_NAN"}};if(ov(e.value))return{unaryFilter:{field:Rc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rc(e.field),op:nR(e.op),value:e.value}}}(n):n instanceof Bo?function(e){const t=e.getFilters().map(r=>uw(r));return t.length===1?t[0]:{compositeFilter:{op:rR(e.op),filters:t}}}(n):Ke()}function sR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t,r,i,a=Ze.min(),f=Ze.min(),y=$r.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=y,this.expectedCount=w}withSequenceNumber(e){return new Zu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.Tt=e}}function oR(n){const e=JP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.Tn=new uR}addToCollectionParentIndex(e,t){return this.Tn.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(sl.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(sl.min())}updateCollectionGroup(e,t,r){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class uR{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new dr(yn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dr(yn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cw=41943040;class Xs{static withCacheSize(e){return new Xs(e,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs.DEFAULT_COLLECTION_PERCENTILE=10,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xs.DEFAULT=new Xs(cw,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xs.DISABLED=new Xs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new jc(0)}static Kn(){return new jc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="LruGarbageCollector",lR=1048576;function _v([n,e],[t,r]){const i=pt(n,t);return i===0?pt(e,r):i}class cR{constructor(e){this.Hn=e,this.buffer=new dr(_v),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_v(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hR{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Re(kv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Jc(t)?Re(kv,"Ignoring IndexedDB error during garbage collection: ",t):await Yc(t)}await this.er(3e5)})}}class fR{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return de.resolve(Od.ae);const r=new cR(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(Sv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sv):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,a,f,y,w,T;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),i=this.params.maximumSequenceNumbersToCollect):i=V,f=Date.now(),this.nthSequenceNumber(e,i))).next(V=>(r=V,y=Date.now(),this.removeTargets(e,r,t))).next(V=>(a=V,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(V=>(T=Date.now(),Tc()<=St.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-R}ms
	Determined least recently used ${i} in `+(y-f)+`ms
	Removed ${a} targets in `+(w-y)+`ms
	Removed ${V} documents in `+(T-w)+`ms
Total Duration: ${T-R}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:V})))}}function dR(n,e){return new fR(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.changes=new rc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?de.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Mh(r.mutation,i,Lo.empty(),fr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,kt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=kt()){const i=Bl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let f=Eh();return a.forEach((y,w)=>{f=f.insert(y,w.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const r=Bl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,kt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((f,y)=>{t.set(f,y)})})}computeViews(e,t,r,i){let a=bu();const f=Fh(),y=function(){return Fh()}();return t.forEach((w,T)=>{const R=r.get(T.key);i.has(T.key)&&(R===void 0||R.mutation instanceof sc)?a=a.insert(T.key,T):R!==void 0?(f.set(T.key,R.mutation.getFieldMask()),Mh(R.mutation,T,R.mutation.getFieldMask(),fr.now())):f.set(T.key,Lo.empty())}),this.recalculateAndSaveOverlays(e,a).next(w=>(w.forEach((T,R)=>f.set(T,R)),t.forEach((T,R)=>{var V;return y.set(T,new mR(R,(V=f.get(T))!==null&&V!==void 0?V:null))}),y))}recalculateAndSaveOverlays(e,t){const r=Fh();let i=new Rn((f,y)=>f-y),a=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const y of f)y.keys().forEach(w=>{const T=t.get(w);if(T===null)return;let R=r.get(w)||Lo.empty();R=y.applyToLocalView(T,R),r.set(w,R);const V=(i.get(y.batchId)||kt()).add(w);i=i.insert(y.batchId,V)})}).next(()=>{const f=[],y=i.getReverseIterator();for(;y.hasNext();){const w=y.getNext(),T=w.key,R=w.value,V=z0();R.forEach(Q=>{if(!a.has(Q)){const ee=X0(t.get(Q),r.get(Q));ee!==null&&V.set(Q,ee),a=a.add(Q)}}),f.push(this.documentOverlayCache.saveOverlays(e,T,V))}return de.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(a){return Ve.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const f=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):de.resolve(Bl());let y=Bh,w=a;return f.next(T=>de.forEach(T,(R,V)=>(y<V.largestBatchId&&(y=V.largestBatchId),a.get(R)?de.resolve():this.remoteDocumentCache.getEntry(e,R).next(Q=>{w=w.insert(R,Q)}))).next(()=>this.populateOverlays(e,T,a)).next(()=>this.computeViews(e,w,T,kt())).next(R=>({batchId:y,changes:H0(R)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ve(t)).next(r=>{let i=Eh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let f=Eh();return this.indexManager.getCollectionParents(e,a).next(y=>de.forEach(y,w=>{const T=function(R,V){return new eh(V,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(t,w.child(a));return this.getDocumentsMatchingCollectionQuery(e,T,r,i).next(R=>{R.forEach((V,Q)=>{f=f.insert(V,Q)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(f=>(a=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(f=>{a.forEach((w,T)=>{const R=T.getKey();f.get(R)===null&&(f=f.insert(R,rs.newInvalidDocument(R)))});let y=Eh();return f.forEach((w,T)=>{const R=a.get(w);R!==void 0&&Mh(R.mutation,T,Lo.empty(),fr.now()),Ld(t,T)&&(y=y.insert(w,T))}),y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return de.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Ia(r.createTime)}}(t)),de.resolve()}getNamedQuery(e,t){return de.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(r){return{name:r.name,query:oR(r.bundledQuery),readTime:Ia(r.readTime)}}(t)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.overlays=new Rn(Ve.comparator),this.Rr=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Bl();return de.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Et(e,t,a)}),de.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),de.resolve()}getOverlaysForCollection(e,t,r){const i=Bl(),a=t.length+1,f=new Ve(t.child("")),y=this.overlays.getIteratorFrom(f);for(;y.hasNext();){const w=y.getNext().value,T=w.getKey();if(!t.isPrefixOf(T.path))break;T.path.length===a&&w.largestBatchId>r&&i.set(w.getKey(),w)}return de.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Rn((T,R)=>T-R);const f=this.overlays.getIterator();for(;f.hasNext();){const T=f.getNext().value;if(T.getKey().getCollectionGroup()===t&&T.largestBatchId>r){let R=a.get(T.largestBatchId);R===null&&(R=Bl(),a=a.insert(T.largestBatchId,R)),R.set(T.getKey(),T)}}const y=Bl(),w=a.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((T,R)=>y.set(T,R)),!(y.size()>=i)););return de.resolve(y)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const f=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new LP(t,r));let a=this.Rr.get(t);a===void 0&&(a=kt(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.sessionToken=$r.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.Vr=new dr(Tr.mr),this.gr=new dr(Tr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Tr(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Tr(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new Ve(new yn([])),r=new Tr(t,e),i=new Tr(t,e+1),a=[];return this.gr.forEachInRange([r,i],f=>{this.wr(f),a.push(f.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ve(new yn([])),r=new Tr(t,e),i=new Tr(t,e+1);let a=kt();return this.gr.forEachInRange([r,i],f=>{a=a.add(f.key)}),a}containsKey(e){const t=new Tr(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Tr{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ve.comparator(e.key,t.key)||pt(e.Cr,t.Cr)}static pr(e,t){return pt(e.Cr,t.Cr)||Ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new dr(Tr.mr)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new MP(a,t,r,i);this.mutationQueue.push(f);for(const y of i)this.Mr=this.Mr.add(new Tr(y.key,a)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return de.resolve(f)}lookupMutationBatch(e,t){return de.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),a=i<0?0:i;return de.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?Vm:this.Fr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Tr(t,0),i=new Tr(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,i],f=>{const y=this.Or(f.Cr);a.push(y)}),de.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dr(pt);return t.forEach(i=>{const a=new Tr(i,0),f=new Tr(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,f],y=>{r=r.add(y.Cr)})}),de.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ve.isDocumentKey(a)||(a=a.child(""));const f=new Tr(new Ve(a),0);let y=new dr(pt);return this.Mr.forEachWhile(w=>{const T=w.key.path;return!!r.isPrefixOf(T)&&(T.length===i&&(y=y.add(w.Cr)),!0)},f),de.resolve(this.Br(y))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Bt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return de.forEach(t.mutations,i=>{const a=new Tr(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Tr(t,0),i=this.Mr.firstAfterOrEqual(r);return de.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.kr=e,this.docs=function(){return new Rn(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,f=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f}),this.size+=f-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return de.resolve(r?r.document.mutableCopy():rs.newInvalidDocument(t))}getEntries(e,t){let r=bu();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():rs.newInvalidDocument(i))}),de.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=bu();const f=t.path,y=new Ve(f.child("__id-9223372036854775808__")),w=this.docs.getIteratorFrom(y);for(;w.hasNext();){const{key:T,value:{document:R}}=w.getNext();if(!f.isPrefixOf(T.path))break;T.path.length>f.length+1||XT(ZT(R),r)<=0||(i.has(R.key)||Ld(t,R))&&(a=a.insert(R.key,R.mutableCopy()))}return de.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Ke()}qr(e,t){return de.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new kR(this)}getSize(e){return de.resolve(this.size)}}class kR extends pR{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),de.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.persistence=e,this.Qr=new rc(t=>Bm(t),qm),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Qm,this.targetCount=0,this.Kr=jc.Un()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),de.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new jc(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.zn(t),de.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Qr.forEach((f,y)=>{y.sequenceNumber<=t&&r.get(y.targetId)===null&&(this.Qr.delete(f),a.push(this.removeMatchingKeysForTargetId(e,y.targetId)),i++)}),de.waitFor(a).next(()=>i)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return de.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),de.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(f=>{a.push(i.markPotentiallyOrphaned(e,f))}),de.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),de.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return de.resolve(r)}containsKey(e,t){return de.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Od(0),this.zr=!1,this.zr=!0,this.jr=new bR,this.referenceDelegate=e(this),this.Hr=new _R(this),this.indexManager=new aR,this.remoteDocumentCache=function(r){return new SR(r)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new iR(t),this.Yr=new yR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new wR(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){Re("MemoryPersistence","Starting transaction:",e);const i=new CR(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,t){return de.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class CR extends JT{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.ti=new Qm,this.ni=null}static ri(e){return new Km(e)}get ii(){if(this.ni)return this.ni;throw Ke()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),de.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),de.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.ii,r=>{const i=Ve.fromPath(r);return this.si(e,i).next(a=>{a||t.removeEntry(i,Ze.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return de.or([()=>de.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class dd{constructor(e,t){this.persistence=e,this.oi=new rc(r=>nP(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=dR(this,t)}static ri(e,t){return new dd(e,t)}Zr(){}Xr(e){return de.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return de.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(a=>a?de.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,f=>this.ar(e,f,t).next(y=>{y||(r++,a.removeEntry(f,Ze.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),de.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),de.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hf(e.data.value)),t}ar(e,t,r){return de.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return de.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=kt(),i=kt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Zm(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return wx()?8:eP(ss())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.rs(e,t).next(f=>{a.result=f}).next(()=>{if(!a.result)return this.ss(e,t,i,r).next(f=>{a.result=f})}).next(()=>{if(a.result)return;const f=new IR;return this._s(e,t,f).next(y=>{if(a.result=y,this.Xi)return this.us(e,t,f,y.size)})}).next(()=>a.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Tc()<=St.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",Pc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),de.resolve()):(Tc()<=St.DEBUG&&Re("QueryEngine","Query:",Pc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Tc()<=St.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",Pc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ca(t))):de.resolve())}rs(e,t){if(hv(t))return de.resolve(null);let r=Ca(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=dm(t,null,"F"),r=Ca(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const f=kt(...a);return this.ns.getDocuments(e,f).next(y=>this.indexManager.getMinOffset(e,r).next(w=>{const T=this.cs(t,y);return this.ls(t,T,f,w.readTime)?this.rs(e,dm(t,null,"F")):this.hs(e,T,t,w)}))})))}ss(e,t,r,i){return hv(t)||i.isEqual(Ze.min())?de.resolve(null):this.ns.getDocuments(e,r).next(a=>{const f=this.cs(t,a);return this.ls(t,f,r,i)?de.resolve(null):(Tc()<=St.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pc(t)),this.hs(e,f,t,KT(i,Bh)).next(y=>y))})}cs(e,t){let r=new dr(B0(e));return t.forEach((i,a)=>{Ld(e,a)&&(r=r.add(a))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,t,r){return Tc()<=St.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",Pc(t)),this.ns.getDocumentsMatchingQuery(e,t,sl.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(f=>{a=a.insert(f.key,f)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="LocalStore",TR=3e8;class PR{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new Rn(pt),this.Is=new rc(a=>Bm(a),qm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function RR(n,e,t,r){return new PR(n,e,t,r)}async function fw(n,e){const t=Xe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const f=[],y=[];let w=kt();for(const T of i){f.push(T.batchId);for(const R of T.mutations)w=w.add(R.key)}for(const T of a){y.push(T.batchId);for(const R of T.mutations)w=w.add(R.key)}return t.localDocuments.getDocuments(r,w).next(T=>({Rs:T,removedBatchIds:f,addedBatchIds:y}))})})}function ER(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,y,w,T){const R=w.batch,V=R.keys();let Q=de.resolve();return V.forEach(ee=>{Q=Q.next(()=>T.getEntry(y,ee)).next(ne=>{const le=w.docVersions.get(ee);Bt(le!==null),ne.version.compareTo(le)<0&&(R.applyToRemoteDocument(ne,w),ne.isValidDocument()&&(ne.setReadTime(w.commitVersion),T.addEntry(ne)))})}),Q.next(()=>f.mutationQueue.removeMutationBatch(y,R))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let y=kt();for(let w=0;w<f.mutationResults.length;++w)f.mutationResults[w].transformResults.length>0&&(y=y.add(f.batch.mutations[w].key));return y}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function dw(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function AR(n,e){const t=Xe(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const f=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const y=[];e.targetChanges.forEach((R,V)=>{const Q=i.get(V);if(!Q)return;y.push(t.Hr.removeMatchingKeys(a,R.removedDocuments,V).next(()=>t.Hr.addMatchingKeys(a,R.addedDocuments,V)));let ee=Q.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(V)!==null?ee=ee.withResumeToken($r.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):R.resumeToken.approximateByteSize()>0&&(ee=ee.withResumeToken(R.resumeToken,r)),i=i.insert(V,ee),function(ne,le,fe){return ne.resumeToken.approximateByteSize()===0||le.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=TR?!0:fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0}(Q,ee,R)&&y.push(t.Hr.updateTargetData(a,ee))});let w=bu(),T=kt();if(e.documentUpdates.forEach(R=>{e.resolvedLimboDocuments.has(R)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(a,R))}),y.push(DR(a,f,e.documentUpdates).next(R=>{w=R.Vs,T=R.fs})),!r.isEqual(Ze.min())){const R=t.Hr.getLastRemoteSnapshotVersion(a).next(V=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));y.push(R)}return de.waitFor(y).next(()=>f.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,w,T)).next(()=>w)}).then(a=>(t.Ts=i,a))}function DR(n,e,t){let r=kt(),i=kt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let f=bu();return t.forEach((y,w)=>{const T=a.get(y);w.isFoundDocument()!==T.isFoundDocument()&&(i=i.add(y)),w.isNoDocument()&&w.version.isEqual(Ze.min())?(e.removeEntry(y,w.readTime),f=f.insert(y,w)):!T.isValidDocument()||w.version.compareTo(T.version)>0||w.version.compareTo(T.version)===0&&T.hasPendingWrites?(e.addEntry(w),f=f.insert(y,w)):Re(Xm,"Ignoring outdated watch update for ",y,". Current version:",T.version," Watch version:",w.version)}),{Vs:f,fs:i}})}function OR(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Vm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function NR(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(a=>a?(i=a,de.resolve(i)):t.Hr.allocateTargetId(r).next(f=>(i=new Zu(e,f,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function vm(n,e,t){const r=Xe(n),i=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,f=>r.persistence.referenceDelegate.removeTarget(f,i))}catch(f){if(!Jc(f))throw f;Re(Xm,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Cv(n,e,t){const r=Xe(n);let i=Ze.min(),a=kt();return r.persistence.runTransaction("Execute query","readwrite",f=>function(y,w,T){const R=Xe(y),V=R.Is.get(T);return V!==void 0?de.resolve(R.Ts.get(V)):R.Hr.getTargetData(w,T)}(r,f,Ca(e)).next(y=>{if(y)return i=y.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(f,y.targetId).next(w=>{a=w})}).next(()=>r.Ps.getDocumentsMatchingQuery(f,e,t?i:Ze.min(),t?a:kt())).next(y=>(FR(r,SP(e),y),{documents:y,gs:a})))}function FR(n,e,t){let r=n.Es.get(e)||Ze.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class Iv{constructor(){this.activeTargetIds=TP()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MR{constructor(){this.ho=new Iv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Iv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="ConnectivityMonitor";class Tv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Re(xv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Re(xv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf=null;function bm(){return Lf===null?Lf=function(){return 268435456+Math.round(2147483648*Math.random())}():Lf++,"0x"+Lf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="RestConnection",UR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===ad?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,a){const f=bm(),y=this.bo(e,t.toUriEncodedString());Re(Lp,`Sending RPC '${e}' ${f}:`,y,r);const w={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(w,i,a),this.vo(e,y,w,r).then(T=>(Re(Lp,`Received RPC '${e}' ${f}: `,T),T),T=>{throw Lc(Lp,`RPC '${e}' ${f} failed with error: `,T,"url: ",y,"request:",r),T})}Co(e,t,r,i,a,f){return this.So(e,t,r,i,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}bo(e,t){const r=UR[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="WebChannelConnection";class jR extends VR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const a=bm();return new Promise((f,y)=>{const w=new m0;w.setWithCredentials(!0),w.listenOnce(g0.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case qf.NO_ERROR:const R=w.getResponseJson();Re(ts,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(R)),f(R);break;case qf.TIMEOUT:Re(ts,`RPC '${e}' ${a} timed out`),y(new De(me.DEADLINE_EXCEEDED,"Request time out"));break;case qf.HTTP_ERROR:const V=w.getStatus();if(Re(ts,`RPC '${e}' ${a} failed with status:`,V,"response text:",w.getResponseText()),V>0){let Q=w.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const ee=Q==null?void 0:Q.error;if(ee&&ee.status&&ee.message){const ne=function(le){const fe=le.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(fe)>=0?fe:me.UNKNOWN}(ee.status);y(new De(ne,ee.message))}else y(new De(me.UNKNOWN,"Server responded with status "+w.getStatus()))}else y(new De(me.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Re(ts,`RPC '${e}' ${a} completed.`)}});const T=JSON.stringify(i);Re(ts,`RPC '${e}' ${a} sending request:`,i),w.send(t,"POST",T,r,15)})}Wo(e,t,r){const i=bm(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=b0(),y=v0(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;T!==void 0&&(w.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(w.useFetchStreams=!0),this.Do(w.initMessageHeaders,t,r),w.encodeInitMessageHeaders=!0;const R=a.join("");Re(ts,`Creating RPC '${e}' stream ${i}: ${R}`,w);const V=f.createWebChannel(R,w);let Q=!1,ee=!1;const ne=new $R({Fo:fe=>{ee?Re(ts,`Not sending because RPC '${e}' stream ${i} is closed:`,fe):(Q||(Re(ts,`Opening RPC '${e}' stream ${i} transport.`),V.open(),Q=!0),Re(ts,`RPC '${e}' stream ${i} sending:`,fe),V.send(fe))},Mo:()=>V.close()}),le=(fe,xe,Ie)=>{fe.listen(xe,Pe=>{try{Ie(Pe)}catch(Ue){setTimeout(()=>{throw Ue},0)}})};return le(V,Rh.EventType.OPEN,()=>{ee||(Re(ts,`RPC '${e}' stream ${i} transport opened.`),ne.Qo())}),le(V,Rh.EventType.CLOSE,()=>{ee||(ee=!0,Re(ts,`RPC '${e}' stream ${i} transport closed`),ne.Uo())}),le(V,Rh.EventType.ERROR,fe=>{ee||(ee=!0,Lc(ts,`RPC '${e}' stream ${i} transport errored:`,fe),ne.Uo(new De(me.UNAVAILABLE,"The operation could not be completed")))}),le(V,Rh.EventType.MESSAGE,fe=>{var xe;if(!ee){const Ie=fe.data[0];Bt(!!Ie);const Pe=Ie,Ue=(Pe==null?void 0:Pe.error)||((xe=Pe[0])===null||xe===void 0?void 0:xe.error);if(Ue){Re(ts,`RPC '${e}' stream ${i} received error:`,Ue);const je=Ue.status;let Oe=function(L){const U=rr[L];if(U!==void 0)return ew(U)}(je),q=Ue.message;Oe===void 0&&(Oe=me.INTERNAL,q="Unknown error status: "+je+" with message "+Ue.message),ee=!0,ne.Uo(new De(Oe,q)),V.close()}else Re(ts,`RPC '${e}' stream ${i} received:`,Ie),ne.Ko(Ie)}}),le(y,y0.STAT_EVENT,fe=>{fe.stat===om.PROXY?Re(ts,`RPC '${e}' stream ${i} detected buffering proxy`):fe.stat===om.NOPROXY&&Re(ts,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{ne.$o()},0),ne}}function Up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(n){return new zP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="PersistentStream";class mw{constructor(e,t,r,i,a,f,y,w){this.Ti=e,this.n_=r,this.r_=i,this.connection=a,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=y,this.listener=w,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new pw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(vu(t.toString()),vu("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new De(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Re(Pv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Re(Pv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BR extends mw{constructor(e,t,r,i,a,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,f),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=QP(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ze.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Ze.min():a.readTime?Ia(a.readTime):Ze.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=ym(this.serializer),t.addTarget=function(i,a){let f;const y=a.target;if(f=hm(y)?{documents:XP(i,y)}:{query:YP(i,y).ht},f.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){f.resumeToken=rw(i,a.resumeToken);const w=pm(i,a.expectedCount);w!==null&&(f.expectedCount=w)}else if(a.snapshotVersion.compareTo(Ze.min())>0){f.readTime=fd(i,a.snapshotVersion.toTimestamp());const w=pm(i,a.expectedCount);w!==null&&(f.expectedCount=w)}return f}(this.serializer,e);const r=eR(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=ym(this.serializer),t.removeTarget=e,this.I_(t)}}class qR extends mw{constructor(e,t,r,i,a,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,f),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=ZP(e.writeResults,e.commitTime),r=Ia(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=ym(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>KP(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{}class zR extends HR{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new De(me.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,f])=>this.connection.So(e,mm(t,r),i,a,f)).catch(a=>{throw a.name==="FirebaseError"?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new De(me.UNKNOWN,a.toString())})}Co(e,t,r,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,y])=>this.connection.Co(e,mm(t,r),i,f,y,a)).catch(f=>{throw f.name==="FirebaseError"?(f.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new De(me.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class WR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(vu(t),this.N_=!1):Re("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="RemoteStore";class GR{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(f=>{r.enqueueAndForget(async()=>{ic(this)&&(Re(Zl,"Restarting streams for network reachability change."),await async function(y){const w=Xe(y);w.W_.add(4),await tf(w),w.j_.set("Unknown"),w.W_.delete(4),await Bd(w)}(this))})}),this.j_=new WR(r,i)}}async function Bd(n){if(ic(n))for(const e of n.G_)await e(!0)}async function tf(n){for(const e of n.G_)await e(!1)}function gw(n,e){const t=Xe(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),tg(t)?eg(t):th(t).c_()&&Jm(t,e))}function Ym(n,e){const t=Xe(n),r=th(t);t.K_.delete(e),r.c_()&&yw(t,e),t.K_.size===0&&(r.c_()?r.P_():ic(t)&&t.j_.set("Unknown"))}function Jm(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}th(n).y_(e)}function yw(n,e){n.H_.Ne(e),th(n).w_(e)}function eg(n){n.H_=new jP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),th(n).start(),n.j_.B_()}function tg(n){return ic(n)&&!th(n).u_()&&n.K_.size>0}function ic(n){return Xe(n).W_.size===0}function vw(n){n.H_=void 0}async function QR(n){n.j_.set("Online")}async function KR(n){n.K_.forEach((e,t)=>{Jm(n,e)})}async function ZR(n,e){vw(n),tg(n)?(n.j_.q_(e),eg(n)):n.j_.set("Unknown")}async function XR(n,e,t){if(n.j_.set("Online"),e instanceof nw&&e.state===2&&e.cause)try{await async function(r,i){const a=i.cause;for(const f of i.targetIds)r.K_.has(f)&&(await r.remoteSyncer.rejectListen(f,a),r.K_.delete(f),r.H_.removeTarget(f))}(n,e)}catch(r){Re(Zl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pd(n,r)}else if(e instanceof Gf?n.H_.We(e):e instanceof tw?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ze.min()))try{const r=await dw(n.localStore);t.compareTo(r)>=0&&await function(i,a){const f=i.H_.ot(a);return f.targetChanges.forEach((y,w)=>{if(y.resumeToken.approximateByteSize()>0){const T=i.K_.get(w);T&&i.K_.set(w,T.withResumeToken(y.resumeToken,a))}}),f.targetMismatches.forEach((y,w)=>{const T=i.K_.get(y);if(!T)return;i.K_.set(y,T.withResumeToken($r.EMPTY_BYTE_STRING,T.snapshotVersion)),yw(i,y);const R=new Zu(T.target,y,w,T.sequenceNumber);Jm(i,R)}),i.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){Re(Zl,"Failed to raise snapshot:",r),await pd(n,r)}}async function pd(n,e,t){if(!Jc(e))throw e;n.W_.add(1),await tf(n),n.j_.set("Offline"),t||(t=()=>dw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Re(Zl,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Bd(n)})}function bw(n,e){return e().catch(t=>pd(n,t,e))}async function qd(n){const e=Xe(n),t=ul(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:Vm;for(;YR(e);)try{const i=await OR(e.localStore,r);if(i===null){e.U_.length===0&&t.P_();break}r=i.batchId,JR(e,i)}catch(i){await pd(e,i)}ww(e)&&Sw(e)}function YR(n){return ic(n)&&n.U_.length<10}function JR(n,e){n.U_.push(e);const t=ul(n);t.c_()&&t.S_&&t.b_(e.mutations)}function ww(n){return ic(n)&&!ul(n).u_()&&n.U_.length>0}function Sw(n){ul(n).start()}async function eE(n){ul(n).C_()}async function tE(n){const e=ul(n);for(const t of n.U_)e.b_(t.mutations)}async function nE(n,e,t){const r=n.U_.shift(),i=zm.from(r,e,t);await bw(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await qd(n)}async function rE(n,e){e&&ul(n).S_&&await async function(t,r){if(function(i){return VP(i)&&i!==me.ABORTED}(r.code)){const i=t.U_.shift();ul(t).h_(),await bw(t,()=>t.remoteSyncer.rejectFailedWrite(i.batchId,r)),await qd(t)}}(n,e),ww(n)&&Sw(n)}async function Rv(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Re(Zl,"RemoteStore received new credentials");const r=ic(t);t.W_.add(3),await tf(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Bd(t)}async function sE(n,e){const t=Xe(n);e?(t.W_.delete(2),await Bd(t)):e||(t.W_.add(2),await tf(t),t.j_.set("Unknown"))}function th(n){return n.J_||(n.J_=function(e,t,r){const i=Xe(e);return i.M_(),new BR(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{xo:QR.bind(null,n),No:KR.bind(null,n),Lo:ZR.bind(null,n),p_:XR.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),tg(n)?eg(n):n.j_.set("Unknown")):(await n.J_.stop(),vw(n))})),n.J_}function ul(n){return n.Y_||(n.Y_=function(e,t,r){const i=Xe(e);return i.M_(),new qR(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:eE.bind(null,n),Lo:rE.bind(null,n),D_:tE.bind(null,n),v_:nE.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await qd(n)):(await n.Y_.stop(),n.U_.length>0&&(Re(Zl,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new el,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const f=Date.now()+r,y=new ng(e,t,f,i,a);return y.start(r),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(n,e){if(vu("AsyncQueue",`${e}: ${n}`),Jc(n))return new De(me.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{static emptySet(e){return new Oc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ve.comparator(t.key,r.key):(t,r)=>Ve.comparator(t.key,r.key),this.keyedMap=Eh(),this.sortedSet=new Rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.Z_=new Rn(Ve.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ke():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Bc{constructor(e,t,r,i,a,f,y,w,T){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=f,this.syncStateChanged=y,this.excludesMetadataChanges=w,this.hasCachedResults=T}static fromInitialDocuments(e,t,r,i,a){const f=[];return t.forEach(y=>{f.push({type:0,doc:y})}),new Bc(e,t,Oc.emptySet(t),f,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class oE{constructor(){this.queries=Av(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,t){const r=Xe(e),i=r.queries;r.queries=Av(),i.forEach((a,f)=>{for(const y of f.ta)y.onError(t)})})(this,new De(me.ABORTED,"Firestore shutting down"))}}function Av(){return new rc(n=>j0(n),Md)}async function aE(n,e){const t=Xe(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.na()&&e.ra()&&(r=2):(a=new iE,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(i,!0);break;case 1:a.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(f){const y=rg(f,`Initialization of query '${Pc(e.query)}' failed`);return void e.onError(y)}t.queries.set(i,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&sg(t)}async function uE(n,e){const t=Xe(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const f=a.ta.indexOf(e);f>=0&&(a.ta.splice(f,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function lE(n,e){const t=Xe(n);let r=!1;for(const i of e){const a=i.query,f=t.queries.get(a);if(f){for(const y of f.ta)y.oa(i)&&(r=!0);f.ea=i}}r&&sg(t)}function cE(n,e,t){const r=Xe(n),i=r.queries.get(e);if(i)for(const a of i.ta)a.onError(t);r.queries.delete(e)}function sg(n){n.ia.forEach(e=>{e.next()})}var wm,Dv;(Dv=wm||(wm={}))._a="default",Dv.Cache="cache";class hE{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Bc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e){this.key=e}}class _w{constructor(e){this.key=e}}class fE{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=kt(),this.mutatedKeys=kt(),this.ya=B0(e),this.wa=new Oc(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new Ev,i=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,f=i,y=!1;const w=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,T=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((R,V)=>{const Q=i.get(R),ee=Ld(this.query,V)?V:null,ne=!!Q&&this.mutatedKeys.has(Q.key),le=!!ee&&(ee.hasLocalMutations||this.mutatedKeys.has(ee.key)&&ee.hasCommittedMutations);let fe=!1;Q&&ee?Q.data.isEqual(ee.data)?ne!==le&&(r.track({type:3,doc:ee}),fe=!0):this.va(Q,ee)||(r.track({type:2,doc:ee}),fe=!0,(w&&this.ya(ee,w)>0||T&&this.ya(ee,T)<0)&&(y=!0)):!Q&&ee?(r.track({type:0,doc:ee}),fe=!0):Q&&!ee&&(r.track({type:1,doc:Q}),fe=!0,(w||T)&&(y=!0)),fe&&(ee?(f=f.add(ee),a=le?a.add(R):a.delete(R)):(f=f.delete(R),a=a.delete(R)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const R=this.query.limitType==="F"?f.last():f.first();f=f.delete(R.key),a=a.delete(R.key),r.track({type:1,doc:R})}return{wa:f,Da:r,ls:y,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((R,V)=>function(Q,ee){const ne=le=>{switch(le){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return ne(Q)-ne(ee)}(R.type,V.type)||this.ya(R.doc,V.doc)),this.Ca(r),i=i!=null&&i;const y=t&&!i?this.Fa():[],w=this.pa.size===0&&this.current&&!i?1:0,T=w!==this.ga;return this.ga=w,f.length!==0||T?{snapshot:new Bc(this.query,e.wa,a,f,e.mutatedKeys,w===0,T,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:y}:{Ma:y}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ev,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=kt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new _w(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new kw(r))}),t}Oa(e){this.fa=e.gs,this.pa=kt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Bc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ig="SyncEngine";class dE{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class pE{constructor(e){this.key=e,this.Ba=!1}}class mE{constructor(e,t,r,i,a,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new rc(y=>j0(y),Md),this.qa=new Map,this.Qa=new Set,this.$a=new Rn(Ve.comparator),this.Ua=new Map,this.Ka=new Qm,this.Wa={},this.Ga=new Map,this.za=jc.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function gE(n,e,t=!0){const r=Rw(n);let i;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await Cw(r,e,t,!0),i}async function yE(n,e){const t=Rw(n);await Cw(t,e,!0,!1)}async function Cw(n,e,t,r){const i=await NR(n.localStore,Ca(e)),a=i.targetId,f=n.sharedClientState.addLocalQueryTarget(a,t);let y;return r&&(y=await vE(n,e,a,f==="current",i.resumeToken)),n.isPrimaryClient&&t&&gw(n.remoteStore,i),y}async function vE(n,e,t,r,i){n.Ha=(V,Q,ee)=>async function(ne,le,fe,xe){let Ie=le.view.ba(fe);Ie.ls&&(Ie=await Cv(ne.localStore,le.query,!1).then(({documents:Oe})=>le.view.ba(Oe,Ie)));const Pe=xe&&xe.targetChanges.get(le.targetId),Ue=xe&&xe.targetMismatches.get(le.targetId)!=null,je=le.view.applyChanges(Ie,ne.isPrimaryClient,Pe,Ue);return Nv(ne,le.targetId,je.Ma),je.snapshot}(n,V,Q,ee);const a=await Cv(n.localStore,e,!0),f=new fE(e,a.gs),y=f.ba(a.documents),w=ef.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),T=f.applyChanges(y,n.isPrimaryClient,w);Nv(n,t,T.Ma);const R=new dE(e,t,f);return n.ka.set(e,R),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),T.snapshot}async function bE(n,e,t){const r=Xe(n),i=r.ka.get(e),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter(f=>!Md(f,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await vm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Ym(r.remoteStore,i.targetId),Sm(r,i.targetId)}).catch(Yc)):(Sm(r,i.targetId),await vm(r.localStore,i.targetId,!0))}async function wE(n,e){const t=Xe(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ym(t.remoteStore,r.targetId))}async function SE(n,e,t){const r=PE(n);try{const i=await function(a,f){const y=Xe(a),w=fr.now(),T=f.reduce((Q,ee)=>Q.add(ee.key),kt());let R,V;return y.persistence.runTransaction("Locally write mutations","readwrite",Q=>{let ee=bu(),ne=kt();return y.ds.getEntries(Q,T).next(le=>{ee=le,ee.forEach((fe,xe)=>{xe.isValidDocument()||(ne=ne.add(fe))})}).next(()=>y.localDocuments.getOverlayedDocuments(Q,ee)).next(le=>{R=le;const fe=[];for(const xe of f){const Ie=NP(xe,R.get(xe.key).overlayedDocument);Ie!=null&&fe.push(new sc(xe.key,Ie,D0(Ie.value.mapValue),gu.exists(!0)))}return y.mutationQueue.addMutationBatch(Q,w,fe,f)}).next(le=>{V=le;const fe=le.applyToLocalDocumentSet(R,ne);return y.documentOverlayCache.saveOverlays(Q,le.batchId,fe)})}).then(()=>({batchId:V.batchId,changes:H0(R)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,f,y){let w=a.Wa[a.currentUser.toKey()];w||(w=new Rn(pt)),w=w.insert(f,y),a.Wa[a.currentUser.toKey()]=w}(r,i.batchId,t),await nf(r,i.changes),await qd(r.remoteStore)}catch(i){const a=rg(i,"Failed to persist write");t.reject(a)}}async function Iw(n,e){const t=Xe(n);try{const r=await AR(t.localStore,e);e.targetChanges.forEach((i,a)=>{const f=t.Ua.get(a);f&&(Bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?f.Ba=!0:i.modifiedDocuments.size>0?Bt(f.Ba):i.removedDocuments.size>0&&(Bt(f.Ba),f.Ba=!1))}),await nf(t,r,e)}catch(r){await Yc(r)}}function Ov(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((a,f)=>{const y=f.view.sa(e);y.snapshot&&i.push(y.snapshot)}),function(a,f){const y=Xe(a);y.onlineState=f;let w=!1;y.queries.forEach((T,R)=>{for(const V of R.ta)V.sa(f)&&(w=!0)}),w&&sg(y)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kE(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ua.get(e),a=i&&i.key;if(a){let f=new Rn(Ve.comparator);f=f.insert(a,rs.newNoDocument(a,Ze.min()));const y=kt().add(a),w=new $d(Ze.min(),new Map,new Rn(pt),f,y);await Iw(r,w),r.$a=r.$a.remove(a),r.Ua.delete(e),og(r)}else await vm(r.localStore,e,!1).then(()=>Sm(r,e,t)).catch(Yc)}async function _E(n,e){const t=Xe(n),r=e.batch.batchId;try{const i=await ER(t.localStore,e);Tw(t,r,null),xw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await nf(t,i)}catch(i){await Yc(i)}}async function CE(n,e,t){const r=Xe(n);try{const i=await function(a,f){const y=Xe(a);return y.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let T;return y.mutationQueue.lookupMutationBatch(w,f).next(R=>(Bt(R!==null),T=R.keys(),y.mutationQueue.removeMutationBatch(w,R))).next(()=>y.mutationQueue.performConsistencyCheck(w)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(w,T,f)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,T)).next(()=>y.localDocuments.getDocuments(w,T))})}(r.localStore,e);Tw(r,e,t),xw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await nf(r,i)}catch(i){await Yc(i)}}function xw(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function Tw(n,e,t){const r=Xe(n);let i=r.Wa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Sm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||Pw(n,r)})}function Pw(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Ym(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),og(n))}function Nv(n,e,t){for(const r of t)r instanceof kw?(n.Ka.addReference(r.key,e),IE(n,r)):r instanceof _w?(Re(ig,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||Pw(n,r.key)):Ke()}function IE(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(Re(ig,"New document in limbo: "+t),n.Qa.add(r),og(n))}function og(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ve(yn.fromString(e)),r=n.za.next();n.Ua.set(r,new pE(t)),n.$a=n.$a.insert(t,r),gw(n.remoteStore,new Zu(Ca(V0(t.path)),r,"TargetPurposeLimboResolution",Od.ae))}}async function nf(n,e,t){const r=Xe(n),i=[],a=[],f=[];r.ka.isEmpty()||(r.ka.forEach((y,w)=>{f.push(r.Ha(w,e,t).then(T=>{var R;if((T||t)&&r.isPrimaryClient){const V=T?!T.fromCache:(R=t==null?void 0:t.targetChanges.get(w.targetId))===null||R===void 0?void 0:R.current;r.sharedClientState.updateQueryState(w.targetId,V?"current":"not-current")}if(T){i.push(T);const V=Zm.Yi(w.targetId,T);a.push(V)}}))}),await Promise.all(f),r.La.p_(i),await async function(y,w){const T=Xe(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>de.forEach(w,V=>de.forEach(V.Hi,Q=>T.persistence.referenceDelegate.addReference(R,V.targetId,Q)).next(()=>de.forEach(V.Ji,Q=>T.persistence.referenceDelegate.removeReference(R,V.targetId,Q)))))}catch(R){if(!Jc(R))throw R;Re(Xm,"Failed to update sequence numbers: "+R)}for(const R of w){const V=R.targetId;if(!R.fromCache){const Q=T.Ts.get(V),ee=Q.snapshotVersion,ne=Q.withLastLimboFreeSnapshotVersion(ee);T.Ts=T.Ts.insert(V,ne)}}}(r.localStore,a))}async function xE(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Re(ig,"User change. New user:",e.toKey());const r=await fw(t.localStore,e);t.currentUser=e,function(i,a){i.Ga.forEach(f=>{f.forEach(y=>{y.reject(new De(me.CANCELLED,a))})}),i.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nf(t,r.Rs)}}function TE(n,e){const t=Xe(n),r=t.Ua.get(e);if(r&&r.Ba)return kt().add(r.key);{let i=kt();const a=t.qa.get(e);if(!a)return i;for(const f of a){const y=t.ka.get(f);i=i.unionWith(y.view.Sa)}return i}}function Rw(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Iw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kE.bind(null,e),e.La.p_=lE.bind(null,e.eventManager),e.La.Ja=cE.bind(null,e.eventManager),e}function PE(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_E.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CE.bind(null,e),e}class md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return RR(this.persistence,new xR,e.initialUser,this.serializer)}Xa(e){return new hw(Km.ri,this.serializer)}Za(e){return new MR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}md.provider={build:()=>new md};class RE extends md{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Bt(this.persistence.referenceDelegate instanceof dd);const r=this.persistence.referenceDelegate.garbageCollector;return new hR(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Xs.withCacheSize(this.cacheSizeBytes):Xs.DEFAULT;return new hw(r=>dd.ri(r,t),this.serializer)}}class km{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ov(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xE.bind(null,this.syncEngine),await sE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oE}()}createDatastore(e){const t=jd(e.databaseInfo.databaseId),r=function(i){return new jR(i)}(e.databaseInfo);return function(i,a,f,y){return new zR(i,a,f,y)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(t,r,i,a,f){return new GR(t,r,i,a,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Ov(this.syncEngine,t,0),function(){return Tv.D()?new Tv:new LR}())}createSyncEngine(e,t){return function(r,i,a,f,y,w,T){const R=new mE(r,i,a,f,y,w);return T&&(R.ja=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const i=Xe(r);Re(Zl,"RemoteStore shutting down."),i.W_.add(5),await tf(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}km.provider={build:()=>new km};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):vu("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="FirestoreClient";class AE{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ns.UNAUTHENTICATED,this.clientId=k0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async f=>{Re(ll,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(r,f=>(Re(ll,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new el;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=rg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Vp(n,e){n.asyncQueue.verifyOperationInProgress(),Re(ll,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fw(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Fv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await DE(n);Re(ll,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Rv(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Rv(e.remoteStore,i)),n._onlineComponents=e}async function DE(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Re(ll,"Using user provided OfflineComponentProvider");try{await Vp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===me.FAILED_PRECONDITION||r.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Lc("Error using user provided cache. Falling back to memory cache: "+t),await Vp(n,new md)}}else Re(ll,"Using default OfflineComponentProvider"),await Vp(n,new RE(void 0));return n._offlineComponents}async function Ew(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Re(ll,"Using user provided OnlineComponentProvider"),await Fv(n,n._uninitializedComponentsProvider._online)):(Re(ll,"Using default OnlineComponentProvider"),await Fv(n,new km))),n._onlineComponents}function OE(n){return Ew(n).then(e=>e.syncEngine)}async function NE(n){const e=await Ew(n),t=e.eventManager;return t.onListen=gE.bind(null,e.syncEngine),t.onUnlisten=bE.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yE.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=wE.bind(null,e.syncEngine),t}function FE(n,e,t={}){const r=new el;return n.asyncQueue.enqueueAndForget(async()=>function(i,a,f,y,w){const T=new EE({next:V=>{T.su(),a.enqueueAndForget(()=>uE(i,R)),V.fromCache&&y.source==="server"?w.reject(new De(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(V)},error:V=>w.reject(V)}),R=new hE(f,T,{includeMetadataChanges:!0,Ta:!0});return aE(i,R)}(await NE(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(n,e,t){if(!t)throw new De(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ME(n,e,t,r){if(e===!0&&r===!0)throw new De(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Lv(n){if(!Ve.isDocumentKey(n))throw new De(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Uv(n){if(Ve.isDocumentKey(n))throw new De(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Hd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ke()}function gd(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new De(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hd(n);throw new De(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="firestore.googleapis.com",Vv=!0;class $v{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new De(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ow,this.ssl=Vv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Vv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lR)throw new De(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ME("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Aw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new De(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new De(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new De(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(t,r){return t.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zd{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $v(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(t){if(!t)return new $T;switch(t.type){case"firstParty":return new HT(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new De(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Mv.get(e);t&&(Re("ComponentProvider","Removing Datastore"),Mv.delete(e),t.terminate())}(this),Promise.resolve()}}function LE(n,e,t,r={}){var i;const a=(n=gd(n,zd))._getSettings(),f=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),y=`${e}:${t}`;a.host!==Ow&&a.host!==y&&Lc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const w=Object.assign(Object.assign({},a),{host:y,ssl:!1,emulatorOptions:r});if(!rl(w,f)&&(n._setSettings(w),r.mockUserToken)){let T,R;if(typeof r.mockUserToken=="string")T=r.mockUserToken,R=ns.MOCK_USER;else{T=px(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const V=r.mockUserToken.sub||r.mockUserToken.user_id;if(!V)throw new De(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new ns(V)}n._authCredentials=new jT(new w0(T,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oc(this.firestore,e,this._query)}}class Qi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qi(this.firestore,e,this._key)}}class tl extends oc{constructor(e,t,r){super(e,t,V0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qi(this.firestore,null,new Ve(e))}withConverter(e){return new tl(this.firestore,e,this._path)}}function UE(n,e,...t){if(n=is(n),Dw("collection","path",e),n instanceof zd){const r=yn.fromString(e,...t);return Uv(r),new tl(n,null,r)}{if(!(n instanceof Qi||n instanceof tl))throw new De(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yn.fromString(e,...t));return Uv(r),new tl(n.firestore,null,r)}}function VE(n,e,...t){if(n=is(n),arguments.length===1&&(e=k0.newId()),Dw("doc","path",e),n instanceof zd){const r=yn.fromString(e,...t);return Lv(r),new Qi(n,null,new Ve(r))}{if(!(n instanceof Qi||n instanceof tl))throw new De(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yn.fromString(e,...t));return Lv(r),new Qi(n.firestore,n instanceof tl?n.converter:null,new Ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="AsyncQueue";class Bv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new pw(this,"async_queue_retry"),this.Su=()=>{const r=Up();r&&Re(jv,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Up();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Up();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new el;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Jc(e))throw e;Re(jv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(a){let f=a.message||"";return a.stack&&(f=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),f}(r);throw vu("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=ng.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&Ke()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class ag extends zd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Bv,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bv(e),this._firestoreClient=void 0,await e}}}function $E(n,e){const t=typeof n=="object"?n:Lm(),r=typeof n=="string"?n:ad,i=tc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=fx("firestore");a&&LE(i,...a)}return i}function Nw(n){if(n._terminated)throw new De(me.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||jE(n),n._firestoreClient}function jE(n){var e,t,r;const i=n._freezeSettings(),a=function(f,y,w,T){return new iP(f,y,w,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,Aw(T.experimentalLongPollingOptions),T.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new AE(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const y=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(y),_online:y}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qc($r.fromBase64String(e))}catch(t){throw new De(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qc($r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new De(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new De(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new De(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(t,r){if(t.length!==r.length)return!1;for(let i=0;i<t.length;++i)if(t[i]!==r[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=/^__.*__$/;class qE{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new sc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jh(e,this.data,t,this.fieldTransforms)}}function Mw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class hg{constructor(e,t,r,i,a,f){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return yd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Mw(this.Lu)&&BE.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class HE{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||jd(e)}ju(e,t,r,i=!1){return new hg({Lu:e,methodName:t,zu:r,path:Vr.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lw(n){const e=n._freezeSettings(),t=jd(n._databaseId);return new HE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zE(n,e,t,r,i,a={}){const f=n.ju(a.merge||a.mergeFields?2:0,e,t,i);$w("Data must be an object, but it was:",f,r);const y=Uw(r,f);let w,T;if(a.merge)w=new Lo(f.fieldMask),T=f.fieldTransforms;else if(a.mergeFields){const R=[];for(const V of a.mergeFields){const Q=GE(e,V,t);if(!f.contains(Q))throw new De(me.INVALID_ARGUMENT,`Field '${Q}' is specified in your field mask but missing from your input data.`);KE(R,Q)||R.push(Q)}w=new Lo(R),T=f.fieldTransforms.filter(V=>w.covers(V.field))}else w=null,T=f.fieldTransforms;return new qE(new Wi(y),w,T)}function WE(n,e,t,r=!1){return fg(t,n.ju(r?4:3,e))}function fg(n,e){if(Vw(n=is(n)))return $w("Unsupported field value:",e,n),Uw(n,e);if(n instanceof Fw)return function(t,r){if(!Mw(r.Lu))throw r.Wu(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Wu(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const f of t){let y=fg(f,r.Ku(a));y==null&&(y={nullValue:"NULL_VALUE"}),i.push(y),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if((t=is(t))===null)return{nullValue:"NULL_VALUE"};if(typeof t=="number")return PP(r.serializer,t);if(typeof t=="boolean")return{booleanValue:t};if(typeof t=="string")return{stringValue:t};if(t instanceof Date){const i=fr.fromDate(t);return{timestampValue:fd(r.serializer,i)}}if(t instanceof fr){const i=new fr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:fd(r.serializer,i)}}if(t instanceof lg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qc)return{bytesValue:rw(r.serializer,t._byteString)};if(t instanceof Qi){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.Wu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Gm(t.firestore._databaseId||r.databaseId,t._key.path)}}if(t instanceof cg)return function(i,a){return{mapValue:{fields:{[E0]:{stringValue:A0},[ud]:{arrayValue:{values:i.toArray().map(f=>{if(typeof f!="number")throw a.Wu("VectorValues must only contain numeric values.");return Hm(a.serializer,f)})}}}}}}(t,r);throw r.Wu(`Unsupported field value: ${Hd(t)}`)}(n,e)}function Uw(n,e){const t={};return C0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nc(n,(r,i)=>{const a=fg(i,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function Vw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof fr||n instanceof lg||n instanceof qc||n instanceof Qi||n instanceof Fw||n instanceof cg)}function $w(n,e,t){if(!Vw(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const r=Hd(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function GE(n,e,t){if((e=is(e))instanceof ug)return e._internalPath;if(typeof e=="string")return jw(n,e);throw yd("Field path arguments must be of type string or ",n,!1,void 0,t)}const QE=new RegExp("[~\\*/\\[\\]]");function jw(n,e,t){if(e.search(QE)>=0)throw yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ug(...e.split("."))._internalPath}catch{throw yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yd(n,e,t,r,i){const a=r&&!r.isEmpty(),f=i!==void 0;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let w="";return(a||f)&&(w+=" (found",a&&(w+=` in field ${r}`),f&&(w+=` in document ${i}`),w+=")"),new De(me.INVALID_ARGUMENT,y+n+w)}function KE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Qi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ZE extends Bw{data(){return super.data()}}function Wd(n,e){return typeof e=="string"?jw(n,e):e instanceof ug?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new De(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dg{}class qw extends dg{}function YE(n,e,...t){let r=[];e instanceof dg&&r.push(e),r=r.concat(t),function(i){const a=i.filter(y=>y instanceof pg).length,f=i.filter(y=>y instanceof Gd).length;if(a>1||a>0&&f>0)throw new De(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Gd extends qw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Gd(e,t,r)}_apply(e){const t=this._parse(e);return Hw(e._query,t),new oc(e.firestore,e.converter,fm(e._query,t))}_parse(e){const t=Lw(e.firestore);return function(r,i,a,f,y,w,T){let R;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new De(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Hv(T,w);const V=[];for(const Q of T)V.push(qv(f,r,Q));R={arrayValue:{values:V}}}else R=qv(f,r,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Hv(T,w),R=WE(a,i,T,w==="in"||w==="not-in");return ir.create(y,w,R)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function JE(n,e,t){const r=e,i=Wd("where",n);return Gd._create(i,r,t)}class pg extends dg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new pg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Bo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(r,i){let a=r;const f=i.getFlattenedFilters();for(const y of f)Hw(a,y),a=fm(a,y)}(e._query,t),new oc(e.firestore,e.converter,fm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mg extends qw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new mg(e,t)}_apply(e){const t=function(r,i,a){if(r.startAt!==null)throw new De(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new De(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wh(i,a)}(e._query,this._field,this._direction);return new oc(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new eh(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}function eA(n,e="asc"){const t=e,r=Wd("orderBy",n);return mg._create(r,t)}function qv(n,e,t){if(typeof(t=is(t))=="string"){if(t==="")throw new De(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$0(e)&&t.indexOf("/")!==-1)throw new De(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(yn.fromString(t));if(!Ve.isDocumentKey(r))throw new De(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iv(n,new Ve(r))}if(t instanceof Qi)return iv(n,t._key);throw new De(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hd(t)}.`)}function Hv(n,e){if(!Array.isArray(n)||n.length===0)throw new De(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hw(n,e){const t=function(r,i){for(const a of r)for(const f of a.getFlattenedFilters())if(i.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new De(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class tA{convertValue(e,t="none"){switch(al(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ol(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return nc(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ud].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(f=>Kn(f.doubleValue));return new cg(a)}convertGeoPoint(e){return new lg(Kn(e.latitude),Kn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Fd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(qh(e));default:return null}}convertTimestamp(e){const t=il(e);return new fr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=yn.fromString(e);Bt(lw(r));const i=new Hh(r.get(1),r.get(3)),a=new Ve(r.popFirst(5));return i.isEqual(t)||vu(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rA extends Bw{constructor(e,t,r,i,a,f){super(e,t,r,i,f),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Wd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Qf extends rA{data(e={}){return super.data(e)}}class sA{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Uf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Qf(this._firestore,this._userDataWriter,r.key,r,new Uf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new De(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(f=>{const y=new Qf(r._firestore,r._userDataWriter,f.doc.key,f.doc,new Uf(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);return f.doc,{type:"added",doc:y,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>i||f.type!==3).map(f=>{const y=new Qf(r._firestore,r._userDataWriter,f.doc.key,f.doc,new Uf(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,T=-1;return f.type!==0&&(w=a.indexOf(f.doc.key),a=a.delete(f.doc.key)),f.type!==1&&(a=a.add(f.doc),T=a.indexOf(f.doc.key)),{type:iA(f.type),doc:y,oldIndex:w,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function iA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}class oA extends tA{constructor(e){super(),this.firestore=e}convertBytes(e){return new qc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qi(this.firestore,null,t)}}function aA(n){n=gd(n,oc);const e=gd(n.firestore,ag),t=Nw(e),r=new oA(e);return XE(n._query),FE(t,n._query).then(i=>new sA(e,r,n,i))}function uA(n,e){const t=gd(n.firestore,ag),r=VE(n),i=nA(n.converter,e);return lA(t,[zE(Lw(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,gu.exists(!1))]).then(()=>r)}function lA(n,e){return function(t,r){const i=new el;return t.asyncQueue.enqueueAndForget(async()=>SE(await OE(t),r,i)),i.promise}(Nw(n),e)}(function(n,e=!0){(function(t){Xc=t})(Zc),Ta(new jo("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),f=new ag(new BT(t.getProvider("auth-internal")),new zT(a,t.getProvider("app-check-internal")),function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new De(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hh(y.options.projectId,w)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),f._setSettings(i),f},"PUBLIC").setMultipleInstances(!0)),Gi(Gy,Qy,n),Gi(Gy,Qy,"esm2017")})();var cA="firebase",hA="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(cA,hA,"app");const zw="@firebase/installations",gg="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=1e4,Gw=`w:${gg}`,Qw="FIS_v2",fA="https://firebaseinstallations.googleapis.com/v1",dA=60*60*1e3,pA="installations",mA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xl=new ec(pA,mA,gA);function Kw(n){return n instanceof qo&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw({projectId:n}){return`${fA}/projects/${n}/installations`}function Xw(n){return{token:n.token,requestStatus:2,expiresIn:vA(n.expiresIn),creationTime:Date.now()}}async function Yw(n,e){const t=(await e.json()).error;return Xl.create("request-failed",{requestName:n,serverCode:t.code,serverMessage:t.message,serverStatus:t.status})}function Jw({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function yA(n,{refreshToken:e}){const t=Jw(n);return t.append("Authorization",bA(e)),t}async function eS(n){const e=await n();return e.status>=500&&e.status<600?n():e}function vA(n){return Number(n.replace("s","000"))}function bA(n){return`${Qw} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Zw(n),i=Jw(n),a=e.getImmediate({optional:!0});if(a){const T=await a.getHeartbeatsHeader();T&&i.append("x-firebase-client",T)}const f={fid:t,authVersion:Qw,appId:n.appId,sdkVersion:Gw},y={method:"POST",headers:i,body:JSON.stringify(f)},w=await eS(()=>fetch(r,y));if(w.ok){const T=await w.json();return{fid:T.fid||t,registrationStatus:2,refreshToken:T.refreshToken,authToken:Xw(T.authToken)}}else throw await Yw("Create Installation",w)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=/^[cdef][\w-]{21}$/,_m="";function _A(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=CA(n);return kA.test(e)?e:_m}catch{return _m}}function CA(n){return SA(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new Map;function rS(n,e){const t=Qd(n);sS(t,e),IA(t,e)}function sS(n,e){const t=nS.get(n);if(t)for(const r of t)r(e)}function IA(n,e){const t=xA();t&&t.postMessage({key:n,fid:e}),TA()}let ql=null;function xA(){return!ql&&"BroadcastChannel"in self&&(ql=new BroadcastChannel("[Firebase] FID Change"),ql.onmessage=n=>{sS(n.data.key,n.data.fid)}),ql}function TA(){nS.size===0&&ql&&(ql.close(),ql=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="firebase-installations-database",RA=1,Yl="firebase-installations-store";let $p=null;function yg(){return $p||($p=c0(PA,RA,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Yl)}}})),$p}async function vd(n,e){const t=Qd(n),r=(await yg()).transaction(Yl,"readwrite"),i=r.objectStore(Yl),a=await i.get(t);return await i.put(e,t),await r.done,(!a||a.fid!==e.fid)&&rS(n,e.fid),e}async function iS(n){const e=Qd(n),t=(await yg()).transaction(Yl,"readwrite");await t.objectStore(Yl).delete(e),await t.done}async function Kd(n,e){const t=Qd(n),r=(await yg()).transaction(Yl,"readwrite"),i=r.objectStore(Yl),a=await i.get(t),f=e(a);return f===void 0?await i.delete(t):await i.put(f,t),await r.done,f&&(!a||a.fid!==f.fid)&&rS(n,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vg(n){let e;const t=await Kd(n.appConfig,r=>{const i=EA(r),a=AA(n,i);return e=a.registrationPromise,a.installationEntry});return t.fid===_m?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function EA(n){const e=n||{fid:_A(),registrationStatus:0};return oS(e)}function AA(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Xl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=DA(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:OA(n)}:{installationEntry:e}}async function DA(n,e){try{const t=await wA(n,e);return vd(n.appConfig,t)}catch(t){throw Kw(t)&&t.customData.serverCode===409?await iS(n.appConfig):await vd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function OA(n){let e=await zv(n.appConfig);for(;e.registrationStatus===1;)await tS(100),e=await zv(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await vg(n);return r||t}return e}function zv(n){return Kd(n,e=>{if(!e)throw Xl.create("installation-not-found");return oS(e)})}function oS(n){return NA(n)?{fid:n.fid,registrationStatus:0}:n}function NA(n){return n.registrationStatus===1&&n.registrationTime+Ww<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA({appConfig:n,heartbeatServiceProvider:e},t){const r=MA(n,t),i=yA(n,t),a=e.getImmediate({optional:!0});if(a){const T=await a.getHeartbeatsHeader();T&&i.append("x-firebase-client",T)}const f={installation:{sdkVersion:Gw,appId:n.appId}},y={method:"POST",headers:i,body:JSON.stringify(f)},w=await eS(()=>fetch(r,y));if(w.ok){const T=await w.json();return Xw(T)}else throw await Yw("Generate Auth Token",w)}function MA(n,{fid:e}){return`${Zw(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bg(n,e=!1){let t;const r=await Kd(n.appConfig,i=>{if(!aS(i))throw Xl.create("not-registered");const a=i.authToken;if(!e&&VA(a))return i;if(a.requestStatus===1)return t=LA(n,e),i;{if(!navigator.onLine)throw Xl.create("app-offline");const f=jA(i);return t=UA(n,f),f}});return t?await t:r.authToken}async function LA(n,e){let t=await Wv(n.appConfig);for(;t.authToken.requestStatus===1;)await tS(100),t=await Wv(n.appConfig);const r=t.authToken;return r.requestStatus===0?bg(n,e):r}function Wv(n){return Kd(n,e=>{if(!aS(e))throw Xl.create("not-registered");const t=e.authToken;return BA(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function UA(n,e){try{const t=await FA(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await vd(n.appConfig,r),t}catch(t){if(Kw(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await iS(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await vd(n.appConfig,r)}throw t}}function aS(n){return n!==void 0&&n.registrationStatus===2}function VA(n){return n.requestStatus===2&&!$A(n)}function $A(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+dA}function jA(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function BA(n){return n.requestStatus===1&&n.requestTime+Ww<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(n){const e=n,{installationEntry:t,registrationPromise:r}=await vg(e);return r?r.catch(console.error):bg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(n,e=!1){const t=n;return await zA(t),(await bg(t,e)).token}async function zA(n){const{registrationPromise:e}=await vg(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(n){if(!n||!n.options)throw jp("App Configuration");if(!n.name)throw jp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw jp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function jp(n){return Xl.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="installations",GA="installations-internal",QA=n=>{const e=n.getProvider("app").getImmediate(),t=WA(e),r=tc(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},KA=n=>{const e=n.getProvider("app").getImmediate(),t=tc(e,uS).getImmediate();return{getId:()=>qA(t),getToken:r=>HA(t,r)}};function ZA(){Ta(new jo(uS,QA,"PUBLIC")),Ta(new jo(GA,KA,"PRIVATE"))}ZA();Gi(zw,gg);Gi(zw,gg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="analytics",XA="firebase_id",YA="origin",JA=60*1e3,e2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new Dd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ci=new ec("analytics","Analytics",t2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(n){if(!n.startsWith(wg)){const e=Ci.create("invalid-gtag-resource",{gtagURL:n});return Js.warn(e.message),""}return n}function lS(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function r2(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function s2(n,e){const t=r2("firebase-js-sdk-policy",{createScriptURL:n2}),r=document.createElement("script"),i=`${wg}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function i2(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function o2(n,e,t,r,i,a){const f=r[i];try{if(f)await e[f];else{const y=(await lS(t)).find(w=>w.measurementId===i);y&&await e[y.appId]}}catch(y){Js.error(y)}n("config",i,a)}async function a2(n,e,t,r,i){try{let a=[];if(i&&i.send_to){let f=i.send_to;Array.isArray(f)||(f=[f]);const y=await lS(t);for(const w of f){const T=y.find(V=>V.measurementId===w),R=T&&e[T.appId];if(R)a.push(R);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,i||{})}catch(a){Js.error(a)}}function u2(n,e,t,r){async function i(a,...f){try{if(a==="event"){const[y,w]=f;await a2(n,e,t,y,w)}else if(a==="config"){const[y,w]=f;await o2(n,e,t,r,y,w)}else if(a==="consent"){const[y,w]=f;n("consent",y,w)}else if(a==="get"){const[y,w,T]=f;n("get",y,w,T)}else if(a==="set"){const[y]=f;n("set",y)}else n(a,...f)}catch(y){Js.error(y)}}return i}function l2(n,e,t,r,i){let a=function(...f){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=u2(a,n,e,t),{gtagCore:a,wrappedGtag:window[i]}}function c2(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(wg)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=30,f2=1e3;class d2{constructor(e={},t=f2){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const cS=new d2;function p2(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function m2(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:p2(r)},a=e2.replace("{app-id}",t),f=await fetch(a,i);if(f.status!==200&&f.status!==304){let y="";try{const w=await f.json();!((e=w.error)===null||e===void 0)&&e.message&&(y=w.error.message)}catch{}throw Ci.create("config-fetch-failed",{httpStatus:f.status,responseMessage:y})}return f.json()}async function g2(n,e=cS,t){const{appId:r,apiKey:i,measurementId:a}=n.options;if(!r)throw Ci.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Ci.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},y=new b2;return setTimeout(async()=>{y.abort()},JA),hS({appId:r,apiKey:i,measurementId:a},f,y,e)}async function hS(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=cS){var a;const{appId:f,measurementId:y}=n;try{await y2(r,e)}catch(w){if(y)return Js.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${y} provided in the "measurementId" field in the local Firebase config. [${w==null?void 0:w.message}]`),{appId:f,measurementId:y};throw w}try{const w=await m2(n);return i.deleteThrottleMetadata(f),w}catch(w){const T=w;if(!v2(T)){if(i.deleteThrottleMetadata(f),y)return Js.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${y} provided in the "measurementId" field in the local Firebase config. [${T==null?void 0:T.message}]`),{appId:f,measurementId:y};throw w}const R=Number((a=T==null?void 0:T.customData)===null||a===void 0?void 0:a.httpStatus)===503?Ly(t,i.intervalMillis,h2):Ly(t,i.intervalMillis),V={throttleEndTimeMillis:Date.now()+R,backoffCount:t+1};return i.setThrottleMetadata(f,V),Js.debug(`Calling attemptFetch again in ${R} millis`),hS(n,V,r,i)}}function y2(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(Ci.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function v2(n){if(!(n instanceof qo)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class b2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function w2(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const a=await e,f=Object.assign(Object.assign({},r),{send_to:a});n("event",t,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(){if(o0())try{await a0()}catch(n){return Js.warn(Ci.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Js.warn(Ci.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function k2(n,e,t,r,i,a,f){var y;const w=g2(n);w.then(ee=>{t[ee.measurementId]=ee.appId,n.options.measurementId&&ee.measurementId!==n.options.measurementId&&Js.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${ee.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ee=>Js.error(ee)),e.push(w);const T=S2().then(ee=>{if(ee)return r.getId()}),[R,V]=await Promise.all([w,T]);c2(a)||s2(a,R.measurementId),i("js",new Date);const Q=(y=f==null?void 0:f.config)!==null&&y!==void 0?y:{};return Q[YA]="firebase",Q.update=!0,V!=null&&(Q[XA]=V),i("config",R.measurementId,Q),R.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.app=e}_delete(){return delete Lh[this.app.options.appId],Promise.resolve()}}let Lh={},Gv=[];const Qv={};let Bp="dataLayer",C2="gtag",Kv,fS,Zv=!1;function I2(){const n=[];if(i0()&&n.push("This is a browser extension environment."),Sx()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Ci.create("invalid-analytics-context",{errorInfo:e});Js.warn(t.message)}}function x2(n,e,t){I2();const r=n.options.appId;if(!r)throw Ci.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Js.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ci.create("no-api-key");if(Lh[r]!=null)throw Ci.create("already-exists",{id:r});if(!Zv){i2(Bp);const{wrappedGtag:i,gtagCore:a}=l2(Lh,Gv,Qv,Bp,C2);fS=i,Kv=a,Zv=!0}return Lh[r]=k2(n,Gv,Qv,e,Kv,Bp,t),new _2(n)}function T2(n=Lm()){n=is(n);const e=tc(n,bd);return e.isInitialized()?e.getImmediate():P2(n)}function P2(n,e={}){const t=tc(n,bd);if(t.isInitialized()){const r=t.getImmediate();if(rl(e,t.getOptions()))return r;throw Ci.create("already-initialized")}return t.initialize({options:e})}function R2(n,e,t,r){n=is(n),w2(fS,Lh[n.app.options.appId],e,t,r).catch(i=>Js.error(i))}const Xv="@firebase/analytics",Yv="0.10.12";function E2(){Ta(new jo(bd,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return x2(r,i,t)},"PUBLIC")),Ta(new jo("analytics-internal",n,"PRIVATE")),Gi(Xv,Yv),Gi(Xv,Yv,"esm2017");function n(e){try{const t=e.getProvider(bd).getImmediate();return{logEvent:(r,i,a)=>R2(t,r,i,a)}}catch(t){throw Ci.create("interop-component-reg-failed",{reason:t})}}}E2();function Sg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function dS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A2=dS,pS=new ec("auth","Firebase",dS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new Dd("@firebase/auth");function D2(n,...e){wd.logLevel<=St.WARN&&wd.warn(`Auth (${Zc}): ${n}`,...e)}function Kf(n,...e){wd.logLevel<=St.ERROR&&wd.error(`Auth (${Zc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(n,...e){throw _g(n,...e)}function Vo(n,...e){return _g(n,...e)}function kg(n,e,t){const r=Object.assign(Object.assign({},A2()),{[e]:t});return new ec("auth","Firebase",r).create(e,{appName:n.name})}function Wl(n){return kg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function O2(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ra(n,"argument-error"),kg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _g(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return pS.create(n,...e)}function Qe(n,e,...t){if(!n)throw _g(e,...t)}function pu(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Kf(e),new Error(e)}function wu(n,e){n||pu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function N2(){return Jv()==="http:"||Jv()==="https:"}function Jv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(N2()||i0()||"connection"in navigator)?navigator.onLine:!0}function M2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t){this.shortDelay=e,this.longDelay=t,wu(t>e,"Short delay should be less than long delay!"),this.isMobile=mx()||vx()}get(){return F2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(n,e){wu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],V2=new rf(3e4,6e4);function Ig(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function nh(n,e,t,r,i={}){return gS(n,i,async()=>{let a={},f={};r&&(e==="GET"?f=r:a={body:JSON.stringify(r)});const y=Yh(Object.assign({key:n.config.apiKey},f)).slice(1),w=await n._getAdditionalHeaders();w["Content-Type"]="application/json",n.languageCode&&(w["X-Firebase-Locale"]=n.languageCode);const T=Object.assign({method:e,headers:w},a);return yx()||(T.referrerPolicy="no-referrer"),mS.fetch()(await yS(n,n.config.apiHost,t,y),T)})}async function gS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},L2),e);try{const i=new j2(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const f=await a.json();if("needConfirmation"in f)throw Vf(n,"account-exists-with-different-credential",f);if(a.ok&&!("errorMessage"in f))return f;{const y=a.ok?f.errorMessage:f.error.message,[w,T]=y.split(" : ");if(w==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vf(n,"credential-already-in-use",f);if(w==="EMAIL_EXISTS")throw Vf(n,"email-already-in-use",f);if(w==="USER_DISABLED")throw Vf(n,"user-disabled",f);const R=r[w]||w.toLowerCase().replace(/[_\s]+/g,"-");if(T)throw kg(n,R,T);Ra(n,R)}}catch(i){if(i instanceof qo)throw i;Ra(n,"network-request-failed",{message:String(i)})}}async function $2(n,e,t,r,i={}){const a=await nh(n,e,t,r,i);return"mfaPendingCredential"in a&&Ra(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function yS(n,e,t,r){const i=`${e}${t}?${r}`,a=n,f=a.config.emulator?Cg(n.config,i):`${n.config.apiScheme}://${i}`;return U2.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(f).toString():f}class j2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Vo(this.auth,"network-request-failed")),V2.get())})}}function Vf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Vo(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(n,e){return nh(n,"POST","/v1/accounts:delete",e)}async function Sd(n,e){return nh(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function q2(n,e=!1){const t=is(n),r=await t.getIdToken(e),i=xg(r);Qe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,f=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Uh(qp(i.auth_time)),issuedAtTime:Uh(qp(i.iat)),expirationTime:Uh(qp(i.exp)),signInProvider:f||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function qp(n){return Number(n)*1e3}function xg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Kf("JWT malformed, contained fewer than 3 sections"),null;try{const i=t0(t);return i?JSON.parse(i):(Kf("Failed to decode base64 JWT payload"),null)}catch(i){return Kf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function eb(n){const e=xg(n);return Qe(e,"internal-error"),Qe(typeof e.exp<"u","internal-error"),Qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof qo&&H2(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function H2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uh(this.lastLoginAt),this.creationTime=Uh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kd(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Kh(n,Sd(t,{idToken:r}));Qe(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const f=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?vS(a.providerUserInfo):[],y=G2(n.providerData,f),w=n.isAnonymous,T=!(n.email&&a.passwordHash)&&!(y!=null&&y.length),R=w?T:!1,V={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:y,metadata:new Im(a.createdAt,a.lastLoginAt),isAnonymous:R};Object.assign(n,V)}async function W2(n){const e=is(n);await kd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function G2(n,e){return[...n.filter(t=>!e.some(r=>r.providerId===t.providerId)),...e]}function vS(n){return n.map(e=>{var{providerId:t}=e,r=Sg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(n,e){const t=await gS(n,{},async()=>{const r=Yh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,f=await yS(n,i,"/v1/token",`key=${a}`),y=await n._getAdditionalHeaders();return y["Content-Type"]="application/x-www-form-urlencoded",mS.fetch()(f,{method:"POST",headers:y,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function K2(n,e){return nh(n,"POST","/v2/accounts:revokeToken",Ig(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qe(e.idToken,"internal-error"),Qe(typeof e.idToken<"u","internal-error"),Qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Qe(e.length!==0,"internal-error");const t=eb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await Q2(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,f=new Nc;return r&&(Qe(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),i&&(Qe(typeof i=="string","internal-error",{appName:e}),f.accessToken=i),a&&(Qe(typeof a=="number","internal-error",{appName:e}),f.expirationTime=a),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nc,this.toJSON())}_performRefresh(){return pu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(n,e){Qe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Uo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=Sg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new z2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Im(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Kh(this,this.stsTokenManager.getToken(this.auth,e));return Qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return q2(this,e)}reload(){return W2(this)}_assign(e){this!==e&&(Qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Uo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await kd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mo(this.auth.app))return Promise.reject(Wl(this.auth));const e=await this.getIdToken();return await Kh(this,B2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,f,y,w,T,R;const V=(r=t.displayName)!==null&&r!==void 0?r:void 0,Q=(i=t.email)!==null&&i!==void 0?i:void 0,ee=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,ne=(f=t.photoURL)!==null&&f!==void 0?f:void 0,le=(y=t.tenantId)!==null&&y!==void 0?y:void 0,fe=(w=t._redirectEventId)!==null&&w!==void 0?w:void 0,xe=(T=t.createdAt)!==null&&T!==void 0?T:void 0,Ie=(R=t.lastLoginAt)!==null&&R!==void 0?R:void 0,{uid:Pe,emailVerified:Ue,isAnonymous:je,providerData:Oe,stsTokenManager:q}=t;Qe(Pe&&q,e,"internal-error");const L=Nc.fromJSON(this.name,q);Qe(typeof Pe=="string",e,"internal-error"),Hu(V,e.name),Hu(Q,e.name),Qe(typeof Ue=="boolean",e,"internal-error"),Qe(typeof je=="boolean",e,"internal-error"),Hu(ee,e.name),Hu(ne,e.name),Hu(le,e.name),Hu(fe,e.name),Hu(xe,e.name),Hu(Ie,e.name);const U=new Uo({uid:Pe,auth:e,email:Q,emailVerified:Ue,displayName:V,isAnonymous:je,photoURL:ne,phoneNumber:ee,tenantId:le,stsTokenManager:L,createdAt:xe,lastLoginAt:Ie});return Oe&&Array.isArray(Oe)&&(U.providerData=Oe.map(G=>Object.assign({},G))),fe&&(U._redirectEventId=fe),U}static async _fromIdTokenResponse(e,t,r=!1){const i=new Nc;i.updateFromServerResponse(t);const a=new Uo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await kd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Qe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?vS(i.providerUserInfo):[],f=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),y=new Nc;y.updateFromIdToken(r);const w=new Uo({uid:i.localId,auth:e,stsTokenManager:y,isAnonymous:f}),T={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Im(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(w,T),w}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=new Map;function mu(n){wu(n instanceof Function,"Expected a class definition");let e=tb.get(n);return e?(wu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,tb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}bS.type="NONE";const nb=bS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(n,e,t){return`firebase:${n}:${e}:${t}`}class Fc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Zf(this.userKey,i.apiKey,a),this.fullPersistenceKey=Zf("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Sd(this.auth,{idToken:e}).catch(()=>{});return t?Uo._fromGetAccountInfoResponse(this.auth,t,e):null}return Uo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Fc(mu(nb),e,r);const i=(await Promise.all(t.map(async T=>{if(await T._isAvailable())return T}))).filter(T=>T);let a=i[0]||mu(nb);const f=Zf(r,e.config.apiKey,e.name);let y=null;for(const T of t)try{const R=await T._get(f);if(R){let V;if(typeof R=="string"){const Q=await Sd(e,{idToken:R}).catch(()=>{});if(!Q)break;V=await Uo._fromGetAccountInfoResponse(e,Q,R)}else V=Uo._fromJSON(e,R);T!==a&&(y=V),a=T;break}}catch{}const w=i.filter(T=>T._shouldAllowMigration);return!a._shouldAllowMigration||!w.length?new Fc(a,e,r):(a=w[0],y&&await a._set(f,y.toJSON()),await Promise.all(t.map(async T=>{if(T!==a)try{await T._remove(f)}catch{}})),new Fc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_S(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IS(e))return"Blackberry";if(xS(e))return"Webos";if(SS(e))return"Safari";if((e.includes("chrome/")||kS(e))&&!e.includes("edge/"))return"Chrome";if(CS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wS(n=ss()){return/firefox\//i.test(n)}function SS(n=ss()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kS(n=ss()){return/crios\//i.test(n)}function _S(n=ss()){return/iemobile/i.test(n)}function CS(n=ss()){return/android/i.test(n)}function IS(n=ss()){return/blackberry/i.test(n)}function xS(n=ss()){return/webos/i.test(n)}function Tg(n=ss()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Z2(n=ss()){var e;return Tg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X2(){return bx()&&document.documentMode===10}function TS(n=ss()){return Tg(n)||CS(n)||xS(n)||IS(n)||/windows phone/i.test(n)||_S(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(n,e=[]){let t;switch(n){case"Browser":t=rb(ss());break;case"Worker":t=`${rb(ss())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((f,y)=>{try{const w=e(a);f(w)}catch(w){y(w)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(n,e={}){return nh(n,"GET","/v2/passwordPolicy",Ig(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=6;class tD{constructor(e){var t,r,i,a;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:eD,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,f,y;const w={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,w),this.validatePasswordCharacterOptions(e,w),w.isValid&&(w.isValid=(t=w.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),w.isValid&&(w.isValid=(r=w.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),w.isValid&&(w.isValid=(i=w.containsLowercaseLetter)!==null&&i!==void 0?i:!0),w.isValid&&(w.isValid=(a=w.containsUppercaseLetter)!==null&&a!==void 0?a:!0),w.isValid&&(w.isValid=(f=w.containsNumericCharacter)!==null&&f!==void 0?f:!0),w.isValid&&(w.isValid=(y=w.containsNonAlphanumericCharacter)!==null&&y!==void 0?y:!0),w}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sb(this),this.idTokenSubscription=new sb(this),this.beforeStateQueue=new Y2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mu(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Fc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Sd(this,{idToken:e}),r=await Uo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Mo(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(y=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(y,y))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,y=i==null?void 0:i._redirectEventId,w=await this.tryRedirectSignIn(e);(!f||f===y)&&w!=null&&w.user&&(i=w.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(f){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await kd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=M2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mo(this.app))return Promise.reject(Wl(this));const t=e?is(e):null;return t&&Qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mo(this.app)?Promise.reject(Wl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mo(this.app)?Promise.reject(Wl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J2(this),t=new tD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ec("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await K2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mu(e)||this._popupRedirectResolver;Qe(t,this,"argument-error"),this.redirectPersistenceManager=await Fc.create(this,[mu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let f=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qe(y,this,"internal-error"),y.then(()=>{f||a(this.currentUser)}),typeof t=="function"){const w=e.addObserver(t,r,i);return()=>{f=!0,w()}}else{const w=e.addObserver(t);return()=>{f=!0,w()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Mo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&D2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Zd(n){return is(n)}class sb{constructor(e){this.auth=e,this.observer=null,this.addObserver=xx(t=>this.observer=t)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rD(n){Pg=n}function sD(n){return Pg.loadJS(n)}function iD(){return Pg.gapiScript}function oD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(n,e){const t=tc(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),i=t.getOptions();if(rl(i,e??{}))return r;Ra(r,"already-initialized")}return t.initialize({options:e})}function uD(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(mu);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lD(n,e,t){const r=Zd(n);Qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=RS(e),{host:f,port:y}=cD(e),w=y===null?"":`:${y}`,T={url:`${a}//${f}${w}/`},R=Object.freeze({host:f,port:y,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Qe(rl(T,r.config.emulator)&&rl(R,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=T,r.emulatorConfig=R,r.settings.appVerificationDisabledForTesting=!0,hD()}function RS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cD(n){const e=RS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:ib(r.substr(a.length+1))}}else{const[a,f]=r.split(":");return{host:a,port:ib(f)}}}function ib(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pu("not implemented")}_getIdTokenResponse(e){return pu("not implemented")}_linkToIdToken(e,t){return pu("not implemented")}_getReauthenticationResolver(e){return pu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(n,e){return $2(n,"POST","/v1/accounts:signInWithIdp",Ig(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="http://localhost";class Jl extends ES{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Jl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ra("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=Sg(t,["providerId","signInMethod"]);if(!r||!i)return null;const f=new Jl(r,i);return f.idToken=a.idToken||void 0,f.accessToken=a.accessToken||void 0,f.secret=a.secret,f.nonce=a.nonce,f.pendingToken=a.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return Mc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Mc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Mc(e,t)}buildRequest(){const e={requestUri:fD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends Rg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends sf{constructor(){super("facebook.com")}static credential(e){return Jl._fromParams({providerId:Gu.PROVIDER_ID,signInMethod:Gu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gu.credentialFromTaggedObject(e)}static credentialFromError(e){return Gu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gu.credential(e.oauthAccessToken)}catch{return null}}}Gu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends sf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Jl._fromParams({providerId:du.PROVIDER_ID,signInMethod:du.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return du.credentialFromTaggedObject(e)}static credentialFromError(e){return du.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return du.credential(t,r)}catch{return null}}}du.GOOGLE_SIGN_IN_METHOD="google.com";du.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends sf{constructor(){super("github.com")}static credential(e){return Jl._fromParams({providerId:Qu.PROVIDER_ID,signInMethod:Qu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qu.credentialFromTaggedObject(e)}static credentialFromError(e){return Qu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qu.credential(e.oauthAccessToken)}catch{return null}}}Qu.GITHUB_SIGN_IN_METHOD="github.com";Qu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends sf{constructor(){super("twitter.com")}static credential(e,t){return Jl._fromParams({providerId:Ku.PROVIDER_ID,signInMethod:Ku.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ku.credentialFromTaggedObject(e)}static credentialFromError(e){return Ku.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ku.credential(t,r)}catch{return null}}}Ku.TWITTER_SIGN_IN_METHOD="twitter.com";Ku.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await Uo._fromIdTokenResponse(e,r,i),f=ob(r);return new Hc({user:a,providerId:f,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=ob(r);return new Hc({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function ob(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends qo{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_d.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new _d(e,t,r,i)}}function AS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?_d._fromErrorAndOperation(n,i,e,r):i})}async function dD(n,e,t=!1){const r=await Kh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Hc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(n,e,t=!1){const{auth:r}=n;if(Mo(r.app))return Promise.reject(Wl(r));const i="reauthenticate";try{const a=await Kh(n,AS(r,i,e,n),t);Qe(a.idToken,r,"internal-error");const f=xg(a.idToken);Qe(f,r,"internal-error");const{sub:y}=f;return Qe(n.uid===y,r,"user-mismatch"),Hc._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ra(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(n,e,t=!1){if(Mo(n.app))return Promise.reject(Wl(n));const r="signIn",i=await AS(n,r,e),a=await Hc._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}function gD(n,e,t,r){return is(n).onIdTokenChanged(e,t,r)}function yD(n,e,t){return is(n).beforeAuthStateChanged(e,t)}function vD(n,e,t,r){return is(n).onAuthStateChanged(e,t,r)}function bD(n){return is(n).signOut()}const Cd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Cd,"1"),this.storage.removeItem(Cd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=1e3,SD=10;class OS extends DS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,y,w)=>{this.notifyListeners(f,w)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const f=this.storage.getItem(r);!t&&this.localCache[r]===f||this.notifyListeners(r,f)},a=this.storage.getItem(r);X2()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,SD):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},wD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}OS.type="LOCAL";const kD=OS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS extends DS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}NS.type="SESSION";const FS=NS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Xd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,f=this.handlersMap[i];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const y=Array.from(f).map(async T=>T(t.origin,a)),w=await _D(y);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:w})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,f;return new Promise((y,w)=>{const T=Eg("",20);i.port1.start();const R=setTimeout(()=>{w(new Error("unsupported_event"))},r);f={messageChannel:i,onMessage(V){const Q=V;if(Q.data.eventId===T)switch(Q.data.status){case"ack":clearTimeout(R),a=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),y(Q.data.response);break;default:clearTimeout(R),clearTimeout(a),w(new Error("invalid_response"));break}}},this.handlers.add(f),i.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:T,data:t},[i.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(){return window}function ID(n){xa().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(){return typeof xa().WorkerGlobalScope<"u"&&typeof xa().importScripts=="function"}async function xD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function PD(){return MS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="firebaseLocalStorageDb",RD=1,Id="firebaseLocalStorage",US="fbase_key";class of{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yd(n,e){return n.transaction([Id],e?"readwrite":"readonly").objectStore(Id)}function ED(){const n=indexedDB.deleteDatabase(LS);return new of(n).toPromise()}function xm(){const n=indexedDB.open(LS,RD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Id,{keyPath:US})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Id)?e(r):(r.close(),await ED(),e(await xm()))})})}async function ab(n,e,t){const r=Yd(n,!0).put({[US]:e,value:t});return new of(r).toPromise()}async function AD(n,e){const t=Yd(n,!1).get(e),r=await new of(t).toPromise();return r===void 0?null:r.value}function ub(n,e){const t=Yd(n,!0).delete(e);return new of(t).toPromise()}const DD=800,OD=3;class VS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>OD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xd._getInstance(PD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await xD(),!this.activeServiceWorker)return;this.sender=new CD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xm();return await ab(e,Cd,"1"),await ub(e,Cd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>ab(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>AD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ub(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Yd(i,!1).getAll();return new of(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VS.type="LOCAL";const ND=VS;new rf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(n,e){return e?mu(e):(Qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends ES{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Mc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Mc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function FD(n){return mD(n.auth,new Ag(n),n.bypassAuthState)}function MD(n){const{auth:e,user:t}=n;return Qe(t,e,"internal-error"),pD(t,new Ag(n),n.bypassAuthState)}async function LD(n){const{auth:e,user:t}=n;return Qe(t,e,"internal-error"),dD(t,new Ag(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:f,type:y}=e;if(f){this.reject(f);return}const w={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(w))}catch(T){this.reject(T)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FD;case"linkViaPopup":case"linkViaRedirect":return LD;case"reauthViaPopup":case"reauthViaRedirect":return MD;default:Ra(this.auth,"internal-error")}}resolve(e){wu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=new rf(2e3,1e4);async function VD(n,e,t){if(Mo(n.app))return Promise.reject(Vo(n,"operation-not-supported-in-this-environment"));const r=Zd(n);O2(n,e,Rg);const i=$S(r,t);return new Hl(r,"signInViaPopup",e,i).executeNotNull()}class Hl extends jS{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Hl.currentPopupAction&&Hl.currentPopupAction.cancel(),Hl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qe(e,this.auth,"internal-error"),e}async onExecution(){wu(this.filter.length===1,"Popup operations only handle one event");const e=Eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UD.get())};e()}}Hl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="pendingRedirect",Xf=new Map;class jD extends jS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Xf.get(this.auth._key());if(!e){try{const t=await BD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Xf.set(this.auth._key(),e)}return this.bypassAuthState||Xf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BD(n,e){const t=zD(e),r=HD(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function qD(n,e){Xf.set(n._key(),e)}function HD(n){return mu(n._redirectPersistence)}function zD(n){return Zf($D,n.config.apiKey,n.name)}async function WD(n,e,t=!1){if(Mo(n.app))return Promise.reject(Wl(n));const r=Zd(n),i=$S(r,e),a=await new jD(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=10*60*1e3;class QD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!BS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Vo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GD&&this.cachedEventUids.clear(),this.cachedEventUids.has(lb(e))}saveEventToCache(e){this.cachedEventUids.add(lb(e)),this.lastProcessedEventTime=Date.now()}}function lb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function BS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(n,e={}){return nh(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YD=/^https?/;async function JD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ZD(n);for(const t of e)try{if(eO(t))return}catch{}Ra(n,"unauthorized-domain")}function eO(n){const e=Cm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!YD.test(t))return!1;if(XD.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=new rf(3e4,6e4);function cb(){const n=xa().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function nO(n){return new Promise((e,t)=>{var r,i,a;function f(){cb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cb(),t(Vo(n,"network-request-failed"))},timeout:tO.get()})}if(!((i=(r=xa().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=xa().gapi)===null||a===void 0)&&a.load)f();else{const y=oD("iframefcb");return xa()[y]=()=>{gapi.load?f():t(Vo(n,"network-request-failed"))},sD(`${iD()}?onload=${y}`).catch(w=>t(w))}}).catch(e=>{throw Yf=null,e})}let Yf=null;function rO(n){return Yf=Yf||nO(n),Yf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=new rf(5e3,15e3),iO="__/auth/iframe",oO="emulator/auth/iframe",aO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lO(n){const e=n.config;Qe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Cg(e,oO):`https://${n.config.authDomain}/${iO}`,r={apiKey:e.apiKey,appName:n.name,v:Zc},i=uO.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Yh(r).slice(1)}`}async function cO(n){const e=await rO(n),t=xa().gapi;return Qe(t,n,"internal-error"),e.open({where:document.body,url:lO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aO,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const f=Vo(n,"network-request-failed"),y=xa().setTimeout(()=>{a(f)},sO.get());function w(){xa().clearTimeout(y),i(r)}r.ping(w).then(w,()=>{a(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fO=500,dO=600,pO="_blank",mO="http://localhost";class hb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gO(n,e,t,r=fO,i=dO){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let y="";const w=Object.assign(Object.assign({},hO),{width:r.toString(),height:i.toString(),top:a,left:f}),T=ss().toLowerCase();t&&(y=kS(T)?pO:t),wS(T)&&(e=e||mO,w.scrollbars="yes");const R=Object.entries(w).reduce((Q,[ee,ne])=>`${Q}${ee}=${ne},`,"");if(Z2(T)&&y!=="_self")return yO(e||"",y),new hb(null);const V=window.open(e||"",y,R);Qe(V,n,"popup-blocked");try{V.focus()}catch{}return new hb(V)}function yO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="__/auth/handler",bO="emulator/auth/handler",wO=encodeURIComponent("fac");async function fb(n,e,t,r,i,a){Qe(n.config.authDomain,n,"auth-domain-config-required"),Qe(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Zc,eventId:i};if(e instanceof Rg){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",Ix(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[R,V]of Object.entries({}))f[R]=V}if(e instanceof sf){const R=e.getScopes().filter(V=>V!=="");R.length>0&&(f.scopes=R.join(","))}n.tenantId&&(f.tid=n.tenantId);const y=f;for(const R of Object.keys(y))y[R]===void 0&&delete y[R];const w=await n._getAppCheckToken(),T=w?`#${wO}=${encodeURIComponent(w)}`:"";return`${SO(n)}?${Yh(y).slice(1)}${T}`}function SO({config:n}){return n.emulator?Cg(n,bO):`https://${n.authDomain}/${vO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="webStorageSupport";class kO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FS,this._completeRedirectFn=WD,this._overrideRedirectResult=qD}async _openPopup(e,t,r,i){var a;wu((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const f=await fb(e,t,r,Cm(),i);return gO(e,f,Eg())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await fb(e,t,r,Cm(),i);return ID(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(wu(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await cO(e),r=new QD(e);return t.register("authEvent",i=>(Qe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hp,{type:Hp},r=>{var i;const a=(i=r==null?void 0:r[0])===null||i===void 0?void 0:i[Hp];a!==void 0&&t(!!a),Ra(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=JD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return TS()||SS()||Tg()}}const _O=kO;var db="@firebase/auth",pb="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xO(n){Ta(new jo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:f,authDomain:y}=r.options;Qe(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const w={apiKey:f,authDomain:y,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PS(n)},T=new nD(r,i,a,w);return uD(T,t),T},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ta(new jo("auth-internal",e=>{const t=Zd(e.getProvider("auth").getImmediate());return(r=>new CO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(db,pb,IO(n)),Gi(db,pb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=5*60,PO=s0("authIdTokenMaxAge")||TO;let mb=null;const RO=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>PO)return;const i=t==null?void 0:t.token;mb!==i&&(mb=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function EO(n=Lm()){const e=tc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=aD(n,{popupRedirectResolver:_O,persistence:[ND,kD,FS]}),r=s0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const f=RO(a.toString());yD(t,f,()=>f(t.currentUser)),gD(t,y=>f(y))}}const i=n0("auth");return i&&lD(t,`http://${i}`),t}function AO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}rD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Vo("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",AO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xO("Browser");const DO={apiKey:"AIzaSyD0w-ASNSNQ8tTFRcD-GoW-VFDPB0uUhCI",authDomain:"flex-cms-8b47e.firebaseapp.com",projectId:"flex-cms-8b47e",storageBucket:"flex-cms-8b47e.firebasestorage.app",messagingSenderId:"23024347980",appId:"1:23024347980:web:24824a5692a079c25cfde9",measurementId:"G-44G581YZFW"},Dg=h0(DO);T2(Dg);const Vh=EO(Dg),OO=$E(Dg),NO="CMS",FO=[window.location.hostname,"contents"],gb=UE(OO,NO,...FO),MO=()=>{const n=t=>t?typeof t=="object"&&"toDate"in t&&typeof t.toDate=="function"?t.toDate():t instanceof Date?t:null:null,e=dt.useCallback(async t=>{console.log("useCMS > getContent");const r=YE(gb,JE("contentId","==",t),eA("createdOn","desc")),i=await aA(r);return i.empty?(console.warn("No documents found for contentId: ",t),null):{items:i.docs.map(a=>{const f=a.data();return{...f,documentId:a.id,createdOn:n(f.createdOn),updatedOn:n(f.updatedOn)}})}},[]);return{addContent:dt.useCallback(async(t,r)=>{var i;if(console.log("useCMS > addContent"),!Vh.currentUser)throw new Error("You need to login inorder to perform this operation");const a={...r,contentId:t,authUserId:((i=Vh.currentUser)==null?void 0:i.uid)??"",createdOn:new Date,updatedOn:new Date,pageUrl:window.location.href};return await uA(gb,a),await e(t)||(console.error("Error loading data"),null)},[e]),getContentHistory:e}};var Ys=function(){return Ys=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ys.apply(this,arguments)};function xd(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var gn="-ms-",$h="-moz-",$t="-webkit-",qS="comm",Jd="rule",Og="decl",LO="@import",HS="@keyframes",UO="@layer",zS=Math.abs,Ng=String.fromCharCode,Tm=Object.assign;function VO(n,e){return Pr(n,0)^45?(((e<<2^Pr(n,0))<<2^Pr(n,1))<<2^Pr(n,2))<<2^Pr(n,3):0}function WS(n){return n.trim()}function fu(n,e){return(n=e.exec(n))?n[0]:n}function ut(n,e,t){return n.replace(e,t)}function Jf(n,e,t){return n.indexOf(e,t)}function Pr(n,e){return n.charCodeAt(e)|0}function zc(n,e,t){return n.slice(e,t)}function _a(n){return n.length}function GS(n){return n.length}function Dh(n,e){return e.push(n),n}function $O(n,e){return n.map(e).join("")}function yb(n,e){return n.filter(function(t){return!fu(t,e)})}var ep=1,Wc=1,QS=0,Ki=0,sr=0,rh="";function tp(n,e,t,r,i,a,f,y){return{value:n,root:e,parent:t,type:r,props:i,children:a,line:ep,column:Wc,length:f,return:"",siblings:y}}function Wu(n,e){return Tm(tp("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function Ic(n){for(;n.root;)n=Wu(n.root,{children:[n]});Dh(n,n.siblings)}function jO(){return sr}function BO(){return sr=Ki>0?Pr(rh,--Ki):0,Wc--,sr===10&&(Wc=1,ep--),sr}function $o(){return sr=Ki<QS?Pr(rh,Ki++):0,Wc++,sr===10&&(Wc=1,ep++),sr}function Gl(){return Pr(rh,Ki)}function ed(){return Ki}function np(n,e){return zc(rh,n,e)}function Pm(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qO(n){return ep=Wc=1,QS=_a(rh=n),Ki=0,[]}function HO(n){return rh="",n}function zp(n){return WS(np(Ki-1,Rm(n===91?n+2:n===40?n+1:n)))}function zO(n){for(;(sr=Gl())&&sr<33;)$o();return Pm(n)>2||Pm(sr)>3?"":" "}function WO(n,e){for(;--e&&$o()&&!(sr<48||sr>102||sr>57&&sr<65||sr>70&&sr<97););return np(n,ed()+(e<6&&Gl()==32&&$o()==32))}function Rm(n){for(;$o();)switch(sr){case n:return Ki;case 34:case 39:n!==34&&n!==39&&Rm(sr);break;case 40:n===41&&Rm(n);break;case 92:$o();break}return Ki}function GO(n,e){for(;$o()&&n+sr!==57&&!(n+sr===84&&Gl()===47););return"/*"+np(e,Ki-1)+"*"+Ng(n===47?n:$o())}function QO(n){for(;!Pm(Gl());)$o();return np(n,Ki)}function KO(n){return HO(td("",null,null,null,[""],n=qO(n),0,[0],n))}function td(n,e,t,r,i,a,f,y,w){for(var T=0,R=0,V=f,Q=0,ee=0,ne=0,le=1,fe=1,xe=1,Ie=0,Pe="",Ue=i,je=a,Oe=r,q=Pe;fe;)switch(ne=Ie,Ie=$o()){case 40:if(ne!=108&&Pr(q,V-1)==58){Jf(q+=ut(zp(Ie),"&","&\f"),"&\f",zS(T?y[T-1]:0))!=-1&&(xe=-1);break}case 34:case 39:case 91:q+=zp(Ie);break;case 9:case 10:case 13:case 32:q+=zO(ne);break;case 92:q+=WO(ed()-1,7);continue;case 47:switch(Gl()){case 42:case 47:Dh(ZO(GO($o(),ed()),e,t,w),w);break;default:q+="/"}break;case 123*le:y[T++]=_a(q)*xe;case 125*le:case 59:case 0:switch(Ie){case 0:case 125:fe=0;case 59+R:xe==-1&&(q=ut(q,/\f/g,"")),ee>0&&_a(q)-V&&Dh(ee>32?bb(q+";",r,t,V-1,w):bb(ut(q," ","")+";",r,t,V-2,w),w);break;case 59:q+=";";default:if(Dh(Oe=vb(q,e,t,T,R,i,y,Pe,Ue=[],je=[],V,a),a),Ie===123)if(R===0)td(q,e,Oe,Oe,Ue,a,V,y,je);else switch(Q===99&&Pr(q,3)===110?100:Q){case 100:case 108:case 109:case 115:td(n,Oe,Oe,r&&Dh(vb(n,Oe,Oe,0,0,i,y,Pe,i,Ue=[],V,je),je),i,je,V,y,r?Ue:je);break;default:td(q,Oe,Oe,Oe,[""],je,0,y,je)}}T=R=ee=0,le=xe=1,Pe=q="",V=f;break;case 58:V=1+_a(q),ee=ne;default:if(le<1){if(Ie==123)--le;else if(Ie==125&&le++==0&&BO()==125)continue}switch(q+=Ng(Ie),Ie*le){case 38:xe=R>0?1:(q+="\f",-1);break;case 44:y[T++]=(_a(q)-1)*xe,xe=1;break;case 64:Gl()===45&&(q+=zp($o())),Q=Gl(),R=V=_a(Pe=q+=QO(ed())),Ie++;break;case 45:ne===45&&_a(q)==2&&(le=0)}}return a}function vb(n,e,t,r,i,a,f,y,w,T,R,V){for(var Q=i-1,ee=i===0?a:[""],ne=GS(ee),le=0,fe=0,xe=0;le<r;++le)for(var Ie=0,Pe=zc(n,Q+1,Q=zS(fe=f[le])),Ue=n;Ie<ne;++Ie)(Ue=WS(fe>0?ee[Ie]+" "+Pe:ut(Pe,/&\f/g,ee[Ie])))&&(w[xe++]=Ue);return tp(n,e,t,i===0?Jd:y,w,T,R,V)}function ZO(n,e,t,r){return tp(n,e,t,qS,Ng(jO()),zc(n,2,-2),0,r)}function bb(n,e,t,r,i){return tp(n,e,t,Og,zc(n,0,r),zc(n,r+1,-1),r,i)}function KS(n,e,t){switch(VO(n,e)){case 5103:return $t+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $t+n+n;case 4789:return $h+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return $t+n+$h+n+gn+n+n;case 5936:switch(Pr(n,e+11)){case 114:return $t+n+gn+ut(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return $t+n+gn+ut(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return $t+n+gn+ut(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return $t+n+gn+n+n;case 6165:return $t+n+gn+"flex-"+n+n;case 5187:return $t+n+ut(n,/(\w+).+(:[^]+)/,$t+"box-$1$2"+gn+"flex-$1$2")+n;case 5443:return $t+n+gn+"flex-item-"+ut(n,/flex-|-self/g,"")+(fu(n,/flex-|baseline/)?"":gn+"grid-row-"+ut(n,/flex-|-self/g,""))+n;case 4675:return $t+n+gn+"flex-line-pack"+ut(n,/align-content|flex-|-self/g,"")+n;case 5548:return $t+n+gn+ut(n,"shrink","negative")+n;case 5292:return $t+n+gn+ut(n,"basis","preferred-size")+n;case 6060:return $t+"box-"+ut(n,"-grow","")+$t+n+gn+ut(n,"grow","positive")+n;case 4554:return $t+ut(n,/([^-])(transform)/g,"$1"+$t+"$2")+n;case 6187:return ut(ut(ut(n,/(zoom-|grab)/,$t+"$1"),/(image-set)/,$t+"$1"),n,"")+n;case 5495:case 3959:return ut(n,/(image-set\([^]*)/,$t+"$1$`$1");case 4968:return ut(ut(n,/(.+:)(flex-)?(.*)/,$t+"box-pack:$3"+gn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$t+n+n;case 4200:if(!fu(n,/flex-|baseline/))return gn+"grid-column-align"+zc(n,e)+n;break;case 2592:case 3360:return gn+ut(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(r,i){return e=i,fu(r.props,/grid-\w+-end/)})?~Jf(n+(t=t[e].value),"span",0)?n:gn+ut(n,"-start","")+n+gn+"grid-row-span:"+(~Jf(t,"span",0)?fu(t,/\d+/):+fu(t,/\d+/)-+fu(n,/\d+/))+";":gn+ut(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(r){return fu(r.props,/grid-\w+-start/)})?n:gn+ut(ut(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return ut(n,/(.+)-inline(.+)/,$t+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_a(n)-1-e>6)switch(Pr(n,e+1)){case 109:if(Pr(n,e+4)!==45)break;case 102:return ut(n,/(.+:)(.+)-([^]+)/,"$1"+$t+"$2-$3$1"+$h+(Pr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Jf(n,"stretch",0)?KS(ut(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return ut(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,a,f,y,w,T){return gn+i+":"+a+T+(f?gn+i+"-span:"+(y?w:+w-+a)+T:"")+n});case 4949:if(Pr(n,e+6)===121)return ut(n,":",":"+$t)+n;break;case 6444:switch(Pr(n,Pr(n,14)===45?18:11)){case 120:return ut(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+$t+(Pr(n,14)===45?"inline-":"")+"box$3$1"+$t+"$2$3$1"+gn+"$2box$3")+n;case 100:return ut(n,":",":"+gn)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ut(n,"scroll-","scroll-snap-")+n}return n}function Td(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function XO(n,e,t,r){switch(n.type){case UO:if(n.children.length)break;case LO:case Og:return n.return=n.return||n.value;case qS:return"";case HS:return n.return=n.value+"{"+Td(n.children,r)+"}";case Jd:if(!_a(n.value=n.props.join(",")))return""}return _a(t=Td(n.children,r))?n.return=n.value+"{"+t+"}":""}function YO(n){var e=GS(n);return function(t,r,i,a){for(var f="",y=0;y<e;y++)f+=n[y](t,r,i,a)||"";return f}}function JO(n){return function(e){e.root||(e=e.return)&&n(e)}}function eN(n,e,t,r){if(n.length>-1&&!n.return)switch(n.type){case Og:n.return=KS(n.value,n.length,t);return;case HS:return Td([Wu(n,{value:ut(n.value,"@","@"+$t)})],r);case Jd:if(n.length)return $O(t=n.props,function(i){switch(fu(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ic(Wu(n,{props:[ut(i,/:(read-\w+)/,":"+$h+"$1")]})),Ic(Wu(n,{props:[i]})),Tm(n,{props:yb(t,r)});break;case"::placeholder":Ic(Wu(n,{props:[ut(i,/:(plac\w+)/,":"+$t+"input-$1")]})),Ic(Wu(n,{props:[ut(i,/:(plac\w+)/,":"+$h+"$1")]})),Ic(Wu(n,{props:[ut(i,/:(plac\w+)/,gn+"input-$1")]})),Ic(Wu(n,{props:[i]})),Tm(n,{props:yb(t,r)});break}return""})}}var tN={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Gc=typeof process<"u"&&Cs!==void 0&&(Cs.REACT_APP_SC_ATTR||Cs.SC_ATTR)||"data-styled",ZS="active",XS="data-styled-version",rp="6.1.17",Fg=`/*!sc*/
`,Pd=typeof window<"u"&&"HTMLElement"in window,nN=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Cs!==void 0&&Cs.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Cs.REACT_APP_SC_DISABLE_SPEEDY!==""?Cs.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Cs.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Cs!==void 0&&Cs.SC_DISABLE_SPEEDY!==void 0&&Cs.SC_DISABLE_SPEEDY!==""&&Cs.SC_DISABLE_SPEEDY!=="false"&&Cs.SC_DISABLE_SPEEDY),sp=Object.freeze([]),Qc=Object.freeze({});function rN(n,e,t){return t===void 0&&(t=Qc),n.theme!==t.theme&&n.theme||e||t.theme}var YS=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),sN=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,iN=/(^-|-$)/g;function wb(n){return n.replace(sN,"-").replace(iN,"")}var oN=/(a)(d)/gi,$f=52,Sb=function(n){return String.fromCharCode(n+(n>25?39:97))};function Em(n){var e,t="";for(e=Math.abs(n);e>$f;e=e/$f|0)t=Sb(e%$f)+t;return(Sb(e%$f)+t).replace(oN,"$1-$2")}var Wp,JS=5381,Ac=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},ek=function(n){return Ac(JS,n)};function aN(n){return Em(ek(n)>>>0)}function uN(n){return n.displayName||n.name||"Component"}function Gp(n){return typeof n=="string"&&!0}var tk=typeof Symbol=="function"&&Symbol.for,nk=tk?Symbol.for("react.memo"):60115,lN=tk?Symbol.for("react.forward_ref"):60112,cN={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},hN={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},rk={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},fN=((Wp={})[lN]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Wp[nk]=rk,Wp);function kb(n){return("type"in(e=n)&&e.type.$$typeof)===nk?rk:"$$typeof"in n?fN[n.$$typeof]:cN;var e}var dN=Object.defineProperty,pN=Object.getOwnPropertyNames,_b=Object.getOwnPropertySymbols,mN=Object.getOwnPropertyDescriptor,gN=Object.getPrototypeOf,Cb=Object.prototype;function sk(n,e,t){if(typeof e!="string"){if(Cb){var r=gN(e);r&&r!==Cb&&sk(n,r,t)}var i=pN(e);_b&&(i=i.concat(_b(e)));for(var a=kb(n),f=kb(e),y=0;y<i.length;++y){var w=i[y];if(!(w in hN||t&&t[w]||f&&w in f||a&&w in a)){var T=mN(e,w);try{dN(n,w,T)}catch{}}}}return n}function Kc(n){return typeof n=="function"}function Mg(n){return typeof n=="object"&&"styledComponentId"in n}function zl(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function Ib(n,e){if(n.length===0)return"";for(var t=n[0],r=1;r<n.length;r++)t+=n[r];return t}function Zh(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function Am(n,e,t){if(t===void 0&&(t=!1),!t&&!Zh(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)n[r]=Am(n[r],e[r]);else if(Zh(e))for(var r in e)n[r]=Am(n[r],e[r]);return n}function Lg(n,e){Object.defineProperty(n,"toString",{value:e})}function af(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var yN=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,a=i;e>=a;)if((a<<=1)<0)throw af(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(r),this.length=a;for(var f=i;f<a;f++)this.groupSizes[f]=0}for(var y=this.indexOfGroup(e+1),w=(f=0,t.length);f<w;f++)this.tag.insertRule(y,t[f])&&(this.groupSizes[e]++,y++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),i=r+t;this.groupSizes[e]=0;for(var a=r;a<i;a++)this.tag.deleteRule(r)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),a=i+r,f=i;f<a;f++)t+="".concat(this.tag.getRule(f)).concat(Fg);return t},n}(),nd=new Map,Rd=new Map,rd=1,jf=function(n){if(nd.has(n))return nd.get(n);for(;Rd.has(rd);)rd++;var e=rd++;return nd.set(n,e),Rd.set(e,n),e},vN=function(n,e){rd=e+1,nd.set(n,e),Rd.set(e,n)},bN="style[".concat(Gc,"][").concat(XS,'="').concat(rp,'"]'),wN=new RegExp("^".concat(Gc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),SN=function(n,e,t){for(var r,i=t.split(","),a=0,f=i.length;a<f;a++)(r=i[a])&&n.registerName(e,r)},kN=function(n,e){for(var t,r=((t=e.textContent)!==null&&t!==void 0?t:"").split(Fg),i=[],a=0,f=r.length;a<f;a++){var y=r[a].trim();if(y){var w=y.match(wN);if(w){var T=0|parseInt(w[1],10),R=w[2];T!==0&&(vN(R,T),SN(n,R,w[3]),n.getTag().insertRules(T,i)),i.length=0}else i.push(y)}}},xb=function(n){for(var e=document.querySelectorAll(bN),t=0,r=e.length;t<r;t++){var i=e[t];i&&i.getAttribute(Gc)!==ZS&&(kN(n,i),i.parentNode&&i.parentNode.removeChild(i))}};function _N(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var ik=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(y){var w=Array.from(y.querySelectorAll("style[".concat(Gc,"]")));return w[w.length-1]}(t),a=i!==void 0?i.nextSibling:null;r.setAttribute(Gc,ZS),r.setAttribute(XS,rp);var f=_N();return f&&r.setAttribute("nonce",f),t.insertBefore(r,a),r},CN=function(){function n(e){this.element=ik(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var r=document.styleSheets,i=0,a=r.length;i<a;i++){var f=r[i];if(f.ownerNode===t)return f}throw af(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),IN=function(){function n(e){this.element=ik(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),xN=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),Tb=Pd,TN={isServer:!Pd,useCSSOMInjection:!nN},ok=function(){function n(e,t,r){e===void 0&&(e=Qc),t===void 0&&(t={});var i=this;this.options=Ys(Ys({},TN),e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Pd&&Tb&&(Tb=!1,xb(this)),Lg(this,function(){return function(a){for(var f=a.getTag(),y=f.length,w="",T=function(V){var Q=function(xe){return Rd.get(xe)}(V);if(Q===void 0)return"continue";var ee=a.names.get(Q),ne=f.getGroup(V);if(ee===void 0||!ee.size||ne.length===0)return"continue";var le="".concat(Gc,".g").concat(V,'[id="').concat(Q,'"]'),fe="";ee!==void 0&&ee.forEach(function(xe){xe.length>0&&(fe+="".concat(xe,","))}),w+="".concat(ne).concat(le,'{content:"').concat(fe,'"}').concat(Fg)},R=0;R<y;R++)T(R);return w}(i)})}return n.registerId=function(e){return jf(e)},n.prototype.rehydrate=function(){!this.server&&Pd&&xb(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(Ys(Ys({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var r=t.useCSSOMInjection,i=t.target;return t.isServer?new xN(i):r?new CN(i):new IN(i)}(this.options),new yN(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(jf(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},n.prototype.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(jf(e),r)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(jf(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),PN=/&/g,RN=/^\s*\/\/.*$/gm;function ak(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=ak(t.children,e)),t})}function EN(n){var e,t,r,i=Qc,a=i.options,f=a===void 0?Qc:a,y=i.plugins,w=y===void 0?sp:y,T=function(Q,ee,ne){return ne.startsWith(t)&&ne.endsWith(t)&&ne.replaceAll(t,"").length>0?".".concat(e):Q},R=w.slice();R.push(function(Q){Q.type===Jd&&Q.value.includes("&")&&(Q.props[0]=Q.props[0].replace(PN,t).replace(r,T))}),f.prefix&&R.push(eN),R.push(XO);var V=function(Q,ee,ne,le){ee===void 0&&(ee=""),ne===void 0&&(ne=""),le===void 0&&(le="&"),e=le,t=ee,r=new RegExp("\\".concat(t,"\\b"),"g");var fe=Q.replace(RN,""),xe=KO(ne||ee?"".concat(ne," ").concat(ee," { ").concat(fe," }"):fe);f.namespace&&(xe=ak(xe,f.namespace));var Ie=[];return Td(xe,YO(R.concat(JO(function(Pe){return Ie.push(Pe)})))),Ie};return V.hash=w.length?w.reduce(function(Q,ee){return ee.name||af(15),Ac(Q,ee.name)},JS).toString():"",V}var AN=new ok,Dm=EN(),uk=nl.createContext({shouldForwardProp:void 0,styleSheet:AN,stylis:Dm});uk.Consumer;nl.createContext(void 0);function Pb(){return dt.useContext(uk)}var DN=function(){function n(e,t){var r=this;this.inject=function(i,a){a===void 0&&(a=Dm);var f=r.name+a.hash;i.hasNameForId(r.id,f)||i.insertRules(r.id,f,a(r.rules,f,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Lg(this,function(){throw af(12,String(r.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=Dm),this.name+e.hash},n}(),ON=function(n){return n>="A"&&n<="Z"};function Rb(n){for(var e="",t=0;t<n.length;t++){var r=n[t];if(t===1&&r==="-"&&n[0]==="-")return n;ON(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var lk=function(n){return n==null||n===!1||n===""},ck=function(n){var e,t,r=[];for(var i in n){var a=n[i];n.hasOwnProperty(i)&&!lk(a)&&(Array.isArray(a)&&a.isCss||Kc(a)?r.push("".concat(Rb(i),":"),a,";"):Zh(a)?r.push.apply(r,xd(xd(["".concat(i," {")],ck(a),!1),["}"],!1)):r.push("".concat(Rb(i),": ").concat((e=i,(t=a)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in tN||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return r};function Ql(n,e,t,r){if(lk(n))return[];if(Mg(n))return[".".concat(n.styledComponentId)];if(Kc(n)){if(!Kc(a=n)||a.prototype&&a.prototype.isReactComponent||!e)return[n];var i=n(e);return Ql(i,e,t,r)}var a;return n instanceof DN?t?(n.inject(t,r),[n.getName(r)]):[n]:Zh(n)?ck(n):Array.isArray(n)?Array.prototype.concat.apply(sp,n.map(function(f){return Ql(f,e,t,r)})):[n.toString()]}function NN(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(Kc(t)&&!Mg(t))return!1}return!0}var FN=ek(rp),MN=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&NN(e),this.componentId=t,this.baseHash=Ac(FN,t),this.baseStyle=r,ok.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))i=zl(i,this.staticRulesId);else{var a=Ib(Ql(this.rules,e,t,r)),f=Em(Ac(this.baseHash,a)>>>0);if(!t.hasNameForId(this.componentId,f)){var y=r(a,".".concat(f),void 0,this.componentId);t.insertRules(this.componentId,f,y)}i=zl(i,f),this.staticRulesId=f}else{for(var w=Ac(this.baseHash,r.hash),T="",R=0;R<this.rules.length;R++){var V=this.rules[R];if(typeof V=="string")T+=V;else if(V){var Q=Ib(Ql(V,e,t,r));w=Ac(w,Q+R),T+=Q}}if(T){var ee=Em(w>>>0);t.hasNameForId(this.componentId,ee)||t.insertRules(this.componentId,ee,r(T,".".concat(ee),void 0,this.componentId)),i=zl(i,ee)}}return i},n}(),hk=nl.createContext(void 0);hk.Consumer;var Qp={};function LN(n,e,t){var r=Mg(n),i=n,a=!Gp(n),f=e.attrs,y=f===void 0?sp:f,w=e.componentId,T=w===void 0?function(Ue,je){var Oe=typeof Ue!="string"?"sc":wb(Ue);Qp[Oe]=(Qp[Oe]||0)+1;var q="".concat(Oe,"-").concat(aN(rp+Oe+Qp[Oe]));return je?"".concat(je,"-").concat(q):q}(e.displayName,e.parentComponentId):w,R=e.displayName,V=R===void 0?function(Ue){return Gp(Ue)?"styled.".concat(Ue):"Styled(".concat(uN(Ue),")")}(n):R,Q=e.displayName&&e.componentId?"".concat(wb(e.displayName),"-").concat(e.componentId):e.componentId||T,ee=r&&i.attrs?i.attrs.concat(y).filter(Boolean):y,ne=e.shouldForwardProp;if(r&&i.shouldForwardProp){var le=i.shouldForwardProp;if(e.shouldForwardProp){var fe=e.shouldForwardProp;ne=function(Ue,je){return le(Ue,je)&&fe(Ue,je)}}else ne=le}var xe=new MN(t,Q,r?i.componentStyle:void 0);function Ie(Ue,je){return function(Oe,q,L){var U=Oe.attrs,G=Oe.componentStyle,K=Oe.defaultProps,Y=Oe.foldedComponentIds,B=Oe.styledComponentId,Rt=Oe.target,it=nl.useContext(hk),re=Pb(),be=Oe.shouldForwardProp||re.shouldForwardProp,ln=rN(q,it,K)||Qc,vn=function(Ht,Gt,Rr){for(var Zn,or=Ys(Ys({},Gt),{className:void 0,theme:Rr}),pr=0;pr<Ht.length;pr+=1){var Dt=Kc(Zn=Ht[pr])?Zn(or):Zn;for(var Me in Dt)or[Me]=Me==="className"?zl(or[Me],Dt[Me]):Me==="style"?Ys(Ys({},or[Me]),Dt[Me]):Dt[Me]}return Gt.className&&(or.className=zl(or.className,Gt.className)),or}(U,q,ln),ye=vn.as||Rt,se={};for(var qt in vn)vn[qt]===void 0||qt[0]==="$"||qt==="as"||qt==="theme"&&vn.theme===ln||(qt==="forwardedAs"?se.as=vn.forwardedAs:be&&!be(qt,ye)||(se[qt]=vn[qt]));var lt=function(Ht,Gt){var Rr=Pb(),Zn=Ht.generateAndInjectStyles(Gt,Rr.styleSheet,Rr.stylis);return Zn}(G,vn),xt=zl(Y,B);return lt&&(xt+=" "+lt),vn.className&&(xt+=" "+vn.className),se[Gp(ye)&&!YS.has(ye)?"class":"className"]=xt,L&&(se.ref=L),dt.createElement(ye,se)}(Pe,Ue,je)}Ie.displayName=V;var Pe=nl.forwardRef(Ie);return Pe.attrs=ee,Pe.componentStyle=xe,Pe.displayName=V,Pe.shouldForwardProp=ne,Pe.foldedComponentIds=r?zl(i.foldedComponentIds,i.styledComponentId):"",Pe.styledComponentId=Q,Pe.target=r?i.target:n,Object.defineProperty(Pe,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Ue){this._foldedDefaultProps=r?function(je){for(var Oe=[],q=1;q<arguments.length;q++)Oe[q-1]=arguments[q];for(var L=0,U=Oe;L<U.length;L++)Am(je,U[L],!0);return je}({},i.defaultProps,Ue):Ue}}),Lg(Pe,function(){return".".concat(Pe.styledComponentId)}),a&&sk(Pe,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),Pe}function Eb(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t}var Ab=function(n){return Object.assign(n,{isCss:!0})};function UN(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Kc(n)||Zh(n))return Ab(Ql(Eb(sp,xd([n],e,!0))));var r=n;return e.length===0&&r.length===1&&typeof r[0]=="string"?Ql(r):Ab(Ql(Eb(r,e)))}function Om(n,e,t){if(t===void 0&&(t=Qc),!e)throw af(1,e);var r=function(i){for(var a=[],f=1;f<arguments.length;f++)a[f-1]=arguments[f];return n(e,t,UN.apply(void 0,xd([i],a,!1)))};return r.attrs=function(i){return Om(n,e,Ys(Ys({},t),{attrs:Array.prototype.concat(t.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Om(n,e,Ys(Ys({},t),i))},r}var fk=function(n){return Om(LN,n)},Su=fk;YS.forEach(function(n){Su[n]=fk(n)});const VN=Su.div`
    display: none;

    &.show {
        display: flex;
        flex-direction: row;
        gap: 5px;
    }

    & button {
        cursor: pointer;
    }
`,$N=Su.div`
    padding: 5px;
    background-color: lightblue;
    color: black;
`,jN=Su.div`
    display: none;

    &.show {
        display: flex;
        flex-direction: column;
        gap: 10px;
        padding: 10px;
    }
`,BN=Su.div`
    & .ProseMirror {
        padding: 0 !important;
        margin: 0 !important;
        min-height: auto !important;

        & h1,
        h2,
        h3 {
            margin-top: 1rem;
        }

        & ul {
            margin-top: 1rem;
            margin-bottom: 1rem;
        }
    }

    &.canEdit {
        &:hover {
            &:not(.IsShowingEditor) {
                cursor: pointer;
                outline: 1px solid;
            }
        }

        &.IsShowingEditor {
            & .ProseMirror {
                padding: 10px !important;
                margin: 10px !important;
                margin-left: 70px !important;
                min-height: inherit !important;
            }

            cursor: auto;
            margin-top: 10px;
            background-color: lightgray;
            border: 1px solid black;

            &:hover {
            }
        }
    }
`,qN=Su.div`
    display: flex;
    flex-direction: row;
    gap: 5px;
    justify-content: stretch;
    & > div {
        outline: 1px solid;
    }
    & > div:first-child {
        background-color: white;
        width: 100%;
        padding: 10px;
    }
`,HN=Su.div`
    display: flex;
    flex-direction: column;
    min-width: 200px;
    background-color: darkgray;
    padding: 5px;
`,zN=Su.select`
    height: 100%;
    padding: 5px;
    & option {
        padding: 5px;
        cursor: pointer;

        &:hover {
            background-color: lightgray;
        }
    }
`,WN=Su.div`
    & span {
        font-weight: bold;
    }
`;var Vl={},Ih={};/**
 * @license React
 * react-dom-server-legacy.browser.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function GN(){if(Db)return Ih;Db=1;var n=nl,e=Yb;function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),R=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),fe=Symbol.for("react.scope"),xe=Symbol.for("react.activity"),Ie=Symbol.for("react.legacy_hidden"),Pe=Symbol.for("react.memo_cache_sentinel"),Ue=Symbol.for("react.view_transition"),je=Symbol.iterator,Oe=Array.isArray;function q(c,d){var g=c.length&3,k=c.length-g,x=d;for(d=0;d<k;){var N=c.charCodeAt(d)&255|(c.charCodeAt(++d)&255)<<8|(c.charCodeAt(++d)&255)<<16|(c.charCodeAt(++d)&255)<<24;++d,N=3432918353*(N&65535)+((3432918353*(N>>>16)&65535)<<16)&4294967295,N=N<<15|N>>>17,N=461845907*(N&65535)+((461845907*(N>>>16)&65535)<<16)&4294967295,x^=N,x=x<<13|x>>>19,x=5*(x&65535)+((5*(x>>>16)&65535)<<16)&4294967295,x=(x&65535)+27492+(((x>>>16)+58964&65535)<<16)}switch(N=0,g){case 3:N^=(c.charCodeAt(d+2)&255)<<16;case 2:N^=(c.charCodeAt(d+1)&255)<<8;case 1:N^=c.charCodeAt(d)&255,N=3432918353*(N&65535)+((3432918353*(N>>>16)&65535)<<16)&4294967295,N=N<<15|N>>>17,x^=461845907*(N&65535)+((461845907*(N>>>16)&65535)<<16)&4294967295}return x^=c.length,x^=x>>>16,x=2246822507*(x&65535)+((2246822507*(x>>>16)&65535)<<16)&4294967295,x^=x>>>13,x=3266489909*(x&65535)+((3266489909*(x>>>16)&65535)<<16)&4294967295,(x^x>>>16)>>>0}var L=Object.assign,U=Object.prototype.hasOwnProperty,G=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),K={},Y={};function B(c){return U.call(Y,c)?!0:U.call(K,c)?!1:G.test(c)?Y[c]=!0:(K[c]=!0,!1)}var Rt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),it=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),re=/["'&<>]/;function be(c){if(typeof c=="boolean"||typeof c=="number"||typeof c=="bigint")return""+c;c=""+c;var d=re.exec(c);if(d){var g="",k,x=0;for(k=d.index;k<c.length;k++){switch(c.charCodeAt(k)){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&#x27;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;default:continue}x!==k&&(g+=c.slice(x,k)),x=k+1,g+=d}c=x!==k?g+c.slice(x,k):g}return c}var ln=/([A-Z])/g,vn=/^ms-/,ye=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function se(c){return ye.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var qt=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xt={pending:!1,data:null,method:null,action:null},Ht=lt.d;lt.d={f:Ht.f,r:Ht.r,D:Wo,C:Iu,L:Go,m:Oa,X:on,S:xu,M:Tu};var Gt=[],Rr=/(<\/|<)(s)(cript)/gi;function Zn(c,d,g,k){return""+d+(g==="s"?"\\u0073":"\\u0053")+k}function or(c,d,g,k,x){return{idPrefix:c===void 0?"":c,nextFormID:0,streamingFormat:0,bootstrapScriptContent:g,bootstrapScripts:k,bootstrapModules:x,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function pr(){return{htmlChunks:null,headChunks:null,bodyChunks:null,contribution:0}}function Dt(c,d,g){return{insertionMode:c,selectedValue:d,tagScope:g}}function Me(c,d,g){switch(d){case"noscript":return Dt(2,null,c.tagScope|1);case"select":return Dt(2,g.value!=null?g.value:g.defaultValue,c.tagScope);case"svg":return Dt(4,null,c.tagScope);case"picture":return Dt(2,null,c.tagScope|2);case"math":return Dt(5,null,c.tagScope);case"foreignObject":return Dt(2,null,c.tagScope);case"table":return Dt(6,null,c.tagScope);case"thead":case"tbody":case"tfoot":return Dt(7,null,c.tagScope);case"colgroup":return Dt(9,null,c.tagScope);case"tr":return Dt(8,null,c.tagScope);case"head":if(2>c.insertionMode)return Dt(3,null,c.tagScope);break;case"html":if(c.insertionMode===0)return Dt(1,null,c.tagScope)}return 6<=c.insertionMode||2>c.insertionMode?Dt(2,null,c.tagScope):c}var Zi=new Map;function Xn(c,d){if(typeof d!="object")throw Error(t(62));var g=!0,k;for(k in d)if(U.call(d,k)){var x=d[k];if(x!=null&&typeof x!="boolean"&&x!==""){if(k.indexOf("--")===0){var N=be(k);x=be((""+x).trim())}else N=Zi.get(k),N===void 0&&(N=be(k.replace(ln,"-$1").toLowerCase().replace(vn,"-ms-")),Zi.set(k,N)),x=typeof x=="number"?x===0||Rt.has(k)?""+x:x+"px":be((""+x).trim());g?(g=!1,c.push(' style="',N,":",x)):c.push(";",N,":",x)}}g||c.push('"')}function os(c,d,g){g&&typeof g!="function"&&typeof g!="symbol"&&c.push(" ",d,'=""')}function Xt(c,d,g){typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&c.push(" ",d,'="',be(g),'"')}var Vn=be("javascript:throw new Error('React form unexpectedly submitted.')");function Xi(c,d){this.push('<input type="hidden"'),Ea(c),Xt(this,"name",d),Xt(this,"value",c),this.push("/>")}function Ea(c){if(typeof c!="string")throw Error(t(480))}function En(c,d){if(typeof d.$$FORM_ACTION=="function"){var g=c.nextFormID++;c=c.idPrefix+g;try{var k=d.$$FORM_ACTION(c);if(k){var x=k.data;x!=null&&x.forEach(Ea)}return k}catch(N){if(typeof N=="object"&&N!==null&&typeof N.then=="function")throw N}}return null}function Mt(c,d,g,k,x,N,H,D){var F=null;if(typeof k=="function"){var M=En(d,k);M!==null?(D=M.name,k=M.action||"",x=M.encType,N=M.method,H=M.target,F=M.data):(c.push(" ","formAction",'="',Vn,'"'),H=N=x=k=D=null,ei(d,g))}return D!=null&&ct(c,"name",D),k!=null&&ct(c,"formAction",k),x!=null&&ct(c,"formEncType",x),N!=null&&ct(c,"formMethod",N),H!=null&&ct(c,"formTarget",H),F}function ct(c,d,g){switch(d){case"className":Xt(c,"class",g);break;case"tabIndex":Xt(c,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Xt(c,d,g);break;case"style":Xn(c,g);break;case"src":case"href":if(g==="")break;case"action":case"formAction":if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean")break;g=se(""+g),c.push(" ",d,'="',be(g),'"');break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":os(c,d.toLowerCase(),g);break;case"xlinkHref":if(typeof g=="function"||typeof g=="symbol"||typeof g=="boolean")break;g=se(""+g),c.push(" ","xlink:href",'="',be(g),'"');break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":typeof g!="function"&&typeof g!="symbol"&&c.push(" ",d,'="',be(g),'"');break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"&&c.push(" ",d,'=""');break;case"capture":case"download":g===!0?c.push(" ",d,'=""'):g!==!1&&typeof g!="function"&&typeof g!="symbol"&&c.push(" ",d,'="',be(g),'"');break;case"cols":case"rows":case"size":case"span":typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g&&c.push(" ",d,'="',be(g),'"');break;case"rowSpan":case"start":typeof g=="function"||typeof g=="symbol"||isNaN(g)||c.push(" ",d,'="',be(g),'"');break;case"xlinkActuate":Xt(c,"xlink:actuate",g);break;case"xlinkArcrole":Xt(c,"xlink:arcrole",g);break;case"xlinkRole":Xt(c,"xlink:role",g);break;case"xlinkShow":Xt(c,"xlink:show",g);break;case"xlinkTitle":Xt(c,"xlink:title",g);break;case"xlinkType":Xt(c,"xlink:type",g);break;case"xmlBase":Xt(c,"xml:base",g);break;case"xmlLang":Xt(c,"xml:lang",g);break;case"xmlSpace":Xt(c,"xml:space",g);break;default:if((!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=it.get(d)||d,B(d))){switch(typeof g){case"function":case"symbol":return;case"boolean":var k=d.toLowerCase().slice(0,5);if(k!=="data-"&&k!=="aria-")return}c.push(" ",d,'="',be(g),'"')}}}function cn(c,d,g){if(d!=null){if(g!=null)throw Error(t(60));if(typeof d!="object"||!("__html"in d))throw Error(t(61));d=d.__html,d!=null&&c.push(""+d)}}function Aa(c){var d="";return n.Children.forEach(c,function(g){g!=null&&(d+=g)}),d}function ei(c,d){(c.instructions&16)===0&&(c.instructions|=16,d.bootstrapChunks.unshift(d.startInlineScript,`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`,"<\/script>"))}function mt(c,d){c.push(Ot("link"));for(var g in d)if(U.call(d,g)){var k=d[g];if(k!=null)switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"link"));default:ct(c,g,k)}}return c.push("/>"),null}var Yt=/(<\/|<)(s)(tyle)/gi;function Er(c,d,g,k){return""+d+(g==="s"?"\\73 ":"\\53 ")+k}function jr(c,d,g){c.push(Ot(g));for(var k in d)if(U.call(d,k)){var x=d[k];if(x!=null)switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,g));default:ct(c,k,x)}}return c.push("/>"),null}function ti(c,d){c.push(Ot("title"));var g=null,k=null,x;for(x in d)if(U.call(d,x)){var N=d[x];if(N!=null)switch(x){case"children":g=N;break;case"dangerouslySetInnerHTML":k=N;break;default:ct(c,x,N)}}return c.push(">"),d=Array.isArray(g)?2>g.length?g[0]:null:g,typeof d!="function"&&typeof d!="symbol"&&d!==null&&d!==void 0&&c.push(be(""+d)),cn(c,k,g),c.push(us("title")),null}function Is(c,d){c.push(Ot("script"));var g=null,k=null,x;for(x in d)if(U.call(d,x)){var N=d[x];if(N!=null)switch(x){case"children":g=N;break;case"dangerouslySetInnerHTML":k=N;break;default:ct(c,x,N)}}return c.push(">"),cn(c,k,g),typeof g=="string"&&c.push((""+g).replace(Rr,Zn)),c.push(us("script")),null}function as(c,d,g){c.push(Ot(g));var k=g=null,x;for(x in d)if(U.call(d,x)){var N=d[x];if(N!=null)switch(x){case"children":g=N;break;case"dangerouslySetInnerHTML":k=N;break;default:ct(c,x,N)}}return c.push(">"),cn(c,k,g),g}function ni(c,d,g){c.push(Ot(g));var k=g=null,x;for(x in d)if(U.call(d,x)){var N=d[x];if(N!=null)switch(x){case"children":g=N;break;case"dangerouslySetInnerHTML":k=N;break;default:ct(c,x,N)}}return c.push(">"),cn(c,k,g),typeof g=="string"?(c.push(be(g)),null):g}var Yi=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ri=new Map;function Ot(c){var d=ri.get(c);if(d===void 0){if(!Yi.test(c))throw Error(t(65,c));d="<"+c,ri.set(c,d)}return d}function An(c,d,g,k,x,N,H,D,F,M){switch(d){case"div":case"span":case"svg":case"path":break;case"a":c.push(Ot("a"));var oe=null,ae=null,we;for(we in g)if(U.call(g,we)){var Ce=g[we];if(Ce!=null)switch(we){case"children":oe=Ce;break;case"dangerouslySetInnerHTML":ae=Ce;break;case"href":Ce===""?Xt(c,"href",""):ct(c,we,Ce);break;default:ct(c,we,Ce)}}if(c.push(">"),cn(c,ae,oe),typeof oe=="string"){c.push(be(oe));var ke=null}else ke=oe;return ke;case"g":case"p":case"li":break;case"select":c.push(Ot("select"));var Be=null,Nt=null,tt;for(tt in g)if(U.call(g,tt)){var Ct=g[tt];if(Ct!=null)switch(tt){case"children":Be=Ct;break;case"dangerouslySetInnerHTML":Nt=Ct;break;case"defaultValue":case"value":break;default:ct(c,tt,Ct)}}return c.push(">"),cn(c,Nt,Be),Be;case"option":var Qt=D.selectedValue;c.push(Ot("option"));var Ne=null,Kt=null,Ye=null,qe=null,er;for(er in g)if(U.call(g,er)){var We=g[er];if(We!=null)switch(er){case"children":Ne=We;break;case"selected":Ye=We;break;case"dangerouslySetInnerHTML":qe=We;break;case"value":Kt=We;default:ct(c,er,We)}}if(Qt!=null){var fn=Kt!==null?""+Kt:Aa(Ne);if(Oe(Qt)){for(var Ni=0;Ni<Qt.length;Ni++)if(""+Qt[Ni]===fn){c.push(' selected=""');break}}else""+Qt===fn&&c.push(' selected=""')}else Ye&&c.push(' selected=""');return c.push(">"),cn(c,qe,Ne),Ne;case"textarea":c.push(Ot("textarea"));var qn=null,fi=null,cr=null,Zt;for(Zt in g)if(U.call(g,Zt)){var Mn=g[Zt];if(Mn!=null)switch(Zt){case"children":cr=Mn;break;case"value":qn=Mn;break;case"defaultValue":fi=Mn;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:ct(c,Zt,Mn)}}if(qn===null&&fi!==null&&(qn=fi),c.push(">"),cr!=null){if(qn!=null)throw Error(t(92));if(Oe(cr)){if(1<cr.length)throw Error(t(93));qn=""+cr[0]}qn=""+cr}return typeof qn=="string"&&qn[0]===`
`&&c.push(`
`),qn!==null&&c.push(be(""+qn)),null;case"input":c.push(Ot("input"));var Hn=null,Gr=null,tr=null,wo=null,Qr=null,di=null,ps=null,Bs=null,So=null,ia;for(ia in g)if(U.call(g,ia)){var ms=g[ia];if(ms!=null)switch(ia){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"name":Hn=ms;break;case"formAction":Gr=ms;break;case"formEncType":tr=ms;break;case"formMethod":wo=ms;break;case"formTarget":Qr=ms;break;case"defaultChecked":So=ms;break;case"defaultValue":ps=ms;break;case"checked":Bs=ms;break;case"value":di=ms;break;default:ct(c,ia,ms)}}var uc=Mt(c,k,x,Gr,tr,wo,Qr,Hn);return Bs!==null?os(c,"checked",Bs):So!==null&&os(c,"checked",So),di!==null?ct(c,"value",di):ps!==null&&ct(c,"value",ps),c.push("/>"),uc!=null&&uc.forEach(Xi,c),null;case"button":c.push(Ot("button"));var Fi=null,oa=null,qa=null,lc=null,ko=null,dl=null,Ha=null,en;for(en in g)if(U.call(g,en)){var Ut=g[en];if(Ut!=null)switch(en){case"children":Fi=Ut;break;case"dangerouslySetInnerHTML":oa=Ut;break;case"name":qa=Ut;break;case"formAction":lc=Ut;break;case"formEncType":ko=Ut;break;case"formMethod":dl=Ut;break;case"formTarget":Ha=Ut;break;default:ct(c,en,Ut)}}var pl=Mt(c,k,x,lc,ko,dl,Ha,qa);if(c.push(">"),pl!=null&&pl.forEach(Xi,c),cn(c,oa,Fi),typeof Fi=="string"){c.push(be(Fi));var _o=null}else _o=Fi;return _o;case"form":c.push(Ot("form"));var Mi=null,za=null,qs=null,pi=null,Kr=null,Hs=null,zs;for(zs in g)if(U.call(g,zs)){var Zr=g[zs];if(Zr!=null)switch(zs){case"children":Mi=Zr;break;case"dangerouslySetInnerHTML":za=Zr;break;case"action":qs=Zr;break;case"encType":pi=Zr;break;case"method":Kr=Zr;break;case"target":Hs=Zr;break;default:ct(c,zs,Zr)}}var hr=null,mi=null;if(typeof qs=="function"){var gs=En(k,qs);gs!==null?(qs=gs.action||"",pi=gs.encType,Kr=gs.method,Hs=gs.target,hr=gs.data,mi=gs.name):(c.push(" ","action",'="',Vn,'"'),Hs=Kr=pi=qs=null,ei(k,x))}if(qs!=null&&ct(c,"action",qs),pi!=null&&ct(c,"encType",pi),Kr!=null&&ct(c,"method",Kr),Hs!=null&&ct(c,"target",Hs),c.push(">"),mi!==null&&(c.push('<input type="hidden"'),Xt(c,"name",mi),c.push("/>"),hr!=null&&hr.forEach(Xi,c)),cn(c,za,Mi),typeof Mi=="string"){c.push(be(Mi));var aa=null}else aa=Mi;return aa;case"menuitem":c.push(Ot("menuitem"));for(var Wa in g)if(U.call(g,Wa)){var Co=g[Wa];if(Co!=null)switch(Wa){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:ct(c,Wa,Co)}}return c.push(">"),null;case"object":c.push(Ot("object"));var Ws=null,ys=null,dn;for(dn in g)if(U.call(g,dn)){var Gs=g[dn];if(Gs!=null)switch(dn){case"children":Ws=Gs;break;case"dangerouslySetInnerHTML":ys=Gs;break;case"data":var P=se(""+Gs);if(P==="")break;c.push(" ","data",'="',be(P),'"');break;default:ct(c,dn,Gs)}}if(c.push(">"),cn(c,ys,Ws),typeof Ws=="string"){c.push(be(Ws));var Li=null}else Li=Ws;return Li;case"title":if(D.insertionMode===4||D.tagScope&1||g.itemProp!=null)var gi=ti(c,g);else M?gi=null:(ti(x.hoistableChunks,g),gi=void 0);return gi;case"link":var wr=g.rel,Le=g.href,ua=g.precedence;if(D.insertionMode===4||D.tagScope&1||g.itemProp!=null||typeof wr!="string"||typeof Le!="string"||Le===""){mt(c,g);var Io=null}else if(g.rel==="stylesheet")if(typeof ua!="string"||g.disabled!=null||g.onLoad||g.onError)Io=mt(c,g);else{var Ui=x.styles.get(ua),vs=k.styleResources.hasOwnProperty(Le)?k.styleResources[Le]:void 0;if(vs!==null){k.styleResources[Le]=null,Ui||(Ui={precedence:be(ua),rules:[],hrefs:[],sheets:new Map},x.styles.set(ua,Ui));var Ga={state:0,props:L({},g,{"data-precedence":g.precedence,precedence:null})};if(vs){vs.length===2&&mr(Ga.props,vs);var Fr=x.preloads.stylesheets.get(Le);Fr&&0<Fr.length?Fr.length=0:Ga.state=1}Ui.sheets.set(Le,Ga),H&&H.stylesheets.add(Ga)}else if(Ui){var cc=Ui.sheets.get(Le);cc&&H&&H.stylesheets.add(cc)}F&&c.push("<!-- -->"),Io=null}else g.onLoad||g.onError?Io=mt(c,g):(F&&c.push("<!-- -->"),Io=M?null:mt(x.hoistableChunks,g));return Io;case"script":var xo=g.async;if(typeof g.src!="string"||!g.src||!xo||typeof xo=="function"||typeof xo=="symbol"||g.onLoad||g.onError||D.insertionMode===4||D.tagScope&1||g.itemProp!=null)var ml=Is(c,g);else{var Sr=g.src;if(g.type==="module")var la=k.moduleScriptResources,Qa=x.preloads.moduleScripts;else la=k.scriptResources,Qa=x.preloads.scripts;var Vi=la.hasOwnProperty(Sr)?la[Sr]:void 0;if(Vi!==null){la[Sr]=null;var Ka=g;if(Vi){Vi.length===2&&(Ka=L({},g),mr(Ka,Vi));var Du=Qa.get(Sr);Du&&(Du.length=0)}var Xr=[];x.scripts.add(Xr),Is(Xr,Ka)}F&&c.push("<!-- -->"),ml=null}return ml;case"style":var Za=g.precedence,bs=g.href;if(D.insertionMode===4||D.tagScope&1||g.itemProp!=null||typeof Za!="string"||typeof bs!="string"||bs===""){c.push(Ot("style"));var yi=null,ca=null,To;for(To in g)if(U.call(g,To)){var ws=g[To];if(ws!=null)switch(To){case"children":yi=ws;break;case"dangerouslySetInnerHTML":ca=ws;break;default:ct(c,To,ws)}}c.push(">");var ha=Array.isArray(yi)?2>yi.length?yi[0]:null:yi;typeof ha!="function"&&typeof ha!="symbol"&&ha!==null&&ha!==void 0&&c.push((""+ha).replace(Yt,Er)),cn(c,ca,yi),c.push(us("style"));var Xa=null}else{var Ln=x.styles.get(Za);if((k.styleResources.hasOwnProperty(bs)?k.styleResources[bs]:void 0)!==null){k.styleResources[bs]=null,Ln?Ln.hrefs.push(be(bs)):(Ln={precedence:be(Za),rules:[],hrefs:[be(bs)],sheets:new Map},x.styles.set(Za,Ln));var $i=Ln.rules,Po=null,Ro=null,Ya;for(Ya in g)if(U.call(g,Ya)){var u=g[Ya];if(u!=null)switch(Ya){case"children":Po=u;break;case"dangerouslySetInnerHTML":Ro=u}}var h=Array.isArray(Po)?2>Po.length?Po[0]:null:Po;typeof h!="function"&&typeof h!="symbol"&&h!==null&&h!==void 0&&$i.push((""+h).replace(Yt,Er)),cn($i,Ro,Po)}Ln&&H&&H.styles.add(Ln),F&&c.push("<!-- -->"),Xa=void 0}return Xa;case"meta":if(D.insertionMode===4||D.tagScope&1||g.itemProp!=null)var m=jr(c,g,"meta");else F&&c.push("<!-- -->"),m=M?null:typeof g.charSet=="string"?jr(x.charsetChunks,g,"meta"):g.name==="viewport"?jr(x.viewportChunks,g,"meta"):jr(x.hoistableChunks,g,"meta");return m;case"listing":case"pre":c.push(Ot(d));var _=null,C=null,O;for(O in g)if(U.call(g,O)){var j=g[O];if(j!=null)switch(O){case"children":_=j;break;case"dangerouslySetInnerHTML":C=j;break;default:ct(c,O,j)}}if(c.push(">"),C!=null){if(_!=null)throw Error(t(60));if(typeof C!="object"||!("__html"in C))throw Error(t(61));var te=C.__html;te!=null&&(typeof te=="string"&&0<te.length&&te[0]===`
`?c.push(`
`,te):c.push(""+te))}return typeof _=="string"&&_[0]===`
`&&c.push(`
`),_;case"img":var z=g.src,J=g.srcSet;if(!(g.loading==="lazy"||!z&&!J||typeof z!="string"&&z!=null||typeof J!="string"&&J!=null)&&g.fetchPriority!=="low"&&!(D.tagScope&3)&&(typeof z!="string"||z[4]!==":"||z[0]!=="d"&&z[0]!=="D"||z[1]!=="a"&&z[1]!=="A"||z[2]!=="t"&&z[2]!=="T"||z[3]!=="a"&&z[3]!=="A")&&(typeof J!="string"||J[4]!==":"||J[0]!=="d"&&J[0]!=="D"||J[1]!=="a"&&J[1]!=="A"||J[2]!=="t"&&J[2]!=="T"||J[3]!=="a"&&J[3]!=="A")){var ve=typeof g.sizes=="string"?g.sizes:void 0,ue=J?J+`
`+(ve||""):z,Te=x.preloads.images,Ee=Te.get(ue);if(Ee)(g.fetchPriority==="high"||10>x.highImagePreloads.size)&&(Te.delete(ue),x.highImagePreloads.add(Ee));else if(!k.imageResources.hasOwnProperty(ue)){k.imageResources[ue]=Gt;var Ae=g.crossOrigin,Ge=typeof Ae=="string"?Ae==="use-credentials"?Ae:"":void 0,Ft=x.headers,pn;Ft&&0<Ft.remainingCapacity&&typeof g.srcSet!="string"&&(g.fetchPriority==="high"||500>Ft.highImagePreloads.length)&&(pn=Br(z,"image",{imageSrcSet:g.srcSet,imageSizes:g.sizes,crossOrigin:Ge,integrity:g.integrity,nonce:g.nonce,type:g.type,fetchPriority:g.fetchPriority,referrerPolicy:g.refererPolicy}),0<=(Ft.remainingCapacity-=pn.length+2))?(x.resets.image[ue]=Gt,Ft.highImagePreloads&&(Ft.highImagePreloads+=", "),Ft.highImagePreloads+=pn):(Ee=[],mt(Ee,{rel:"preload",as:"image",href:J?void 0:z,imageSrcSet:J,imageSizes:ve,crossOrigin:Ge,integrity:g.integrity,type:g.type,fetchPriority:g.fetchPriority,referrerPolicy:g.referrerPolicy}),g.fetchPriority==="high"||10>x.highImagePreloads.size?x.highImagePreloads.add(Ee):(x.bulkPreloads.add(Ee),Te.set(ue,Ee)))}}return jr(c,g,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return jr(c,g,d);case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"head":if(2>D.insertionMode){var nt=N||x.preamble;if(nt.headChunks)throw Error(t(545,"`<head>`"));nt.headChunks=[];var tn=as(nt.headChunks,g,"head")}else tn=ni(c,g,"head");return tn;case"body":if(2>D.insertionMode){var un=N||x.preamble;if(un.bodyChunks)throw Error(t(545,"`<body>`"));un.bodyChunks=[];var kr=as(un.bodyChunks,g,"body")}else kr=ni(c,g,"body");return kr;case"html":if(D.insertionMode===0){var Sn=N||x.preamble;if(Sn.htmlChunks)throw Error(t(545,"`<html>`"));Sn.htmlChunks=[""];var vi=as(Sn.htmlChunks,g,"html")}else vi=ni(c,g,"html");return vi;default:if(d.indexOf("-")!==-1){c.push(Ot(d));var Mr=null,ft=null,mn;for(mn in g)if(U.call(g,mn)){var nn=g[mn];if(nn!=null){var zt=mn;switch(mn){case"children":Mr=nn;break;case"dangerouslySetInnerHTML":ft=nn;break;case"style":Xn(c,nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":zt="class";default:if(B(mn)&&typeof nn!="function"&&typeof nn!="symbol"&&nn!==!1){if(nn===!0)nn="";else if(typeof nn=="object")continue;c.push(" ",zt,'="',be(nn),'"')}}}}return c.push(">"),cn(c,ft,Mr),Mr}}return ni(c,g,d)}var Ji=new Map;function us(c){var d=Ji.get(c);return d===void 0&&(d="</"+c+">",Ji.set(c,d)),d}function Ar(c,d){c=c.preamble,c.htmlChunks===null&&d.htmlChunks&&(c.htmlChunks=d.htmlChunks,d.contribution|=1),c.headChunks===null&&d.headChunks&&(c.headChunks=d.headChunks,d.contribution|=4),c.bodyChunks===null&&d.bodyChunks&&(c.bodyChunks=d.bodyChunks,d.contribution|=2)}function xs(c,d){d=d.bootstrapChunks;for(var g=0;g<d.length-1;g++)c.push(d[g]);return g<d.length?(g=d[g],d.length=0,c.push(g)):!0}function Ii(c,d,g){if(c.push('<!--$?--><template id="'),g===null)throw Error(t(395));return c.push(d.boundaryPrefix),d=g.toString(16),c.push(d),c.push('"></template>')}function zo(c,d){d=d.contribution,d!==0&&(c.push("<!--"),c.push(""+d),c.push("-->"))}function Ts(c,d,g,k){switch(g.insertionMode){case 0:case 1:case 3:case 2:return c.push('<div hidden id="'),c.push(d.segmentPrefix),d=k.toString(16),c.push(d),c.push('">');case 4:return c.push('<svg aria-hidden="true" style="display:none" id="'),c.push(d.segmentPrefix),d=k.toString(16),c.push(d),c.push('">');case 5:return c.push('<math aria-hidden="true" style="display:none" id="'),c.push(d.segmentPrefix),d=k.toString(16),c.push(d),c.push('">');case 6:return c.push('<table hidden id="'),c.push(d.segmentPrefix),d=k.toString(16),c.push(d),c.push('">');case 7:return c.push('<table hidden><tbody id="'),c.push(d.segmentPrefix),d=k.toString(16),c.push(d),c.push('">');case 8:return c.push('<table hidden><tr id="'),c.push(d.segmentPrefix),d=k.toString(16),c.push(d),c.push('">');case 9:return c.push('<table hidden><colgroup id="'),c.push(d.segmentPrefix),d=k.toString(16),c.push(d),c.push('">');default:throw Error(t(397))}}function ku(c,d){switch(d.insertionMode){case 0:case 1:case 3:case 2:return c.push("</div>");case 4:return c.push("</svg>");case 5:return c.push("</math>");case 6:return c.push("</table>");case 7:return c.push("</tbody></table>");case 8:return c.push("</tr></table>");case 9:return c.push("</colgroup></table>");default:throw Error(t(397))}}var eo=/[<\u2028\u2029]/g;function kn(c){return JSON.stringify(c).replace(eo,function(d){switch(d){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Dn=/[&><\u2028\u2029]/g;function bn(c){return JSON.stringify(c).replace(Dn,function(d){switch(d){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var rn=!1,Ps=!0;function sn(c){var d=c.rules,g=c.hrefs,k=0;if(g.length){for(this.push('<style media="not all" data-precedence="'),this.push(c.precedence),this.push('" data-href="');k<g.length-1;k++)this.push(g[k]),this.push(" ");for(this.push(g[k]),this.push('">'),k=0;k<d.length;k++)this.push(d[k]);Ps=this.push("</style>"),rn=!0,d.length=0,g.length=0}}function Rs(c){return c.state!==2?rn=!0:!1}function Da(c,d,g){return rn=!1,Ps=!0,d.styles.forEach(sn,c),d.stylesheets.forEach(Rs),rn&&(g.stylesToHoist=!0),Ps}function ar(c){for(var d=0;d<c.length;d++)this.push(c[d]);c.length=0}var Yn=[];function _u(c){mt(Yn,c.props);for(var d=0;d<Yn.length;d++)this.push(Yn[d]);Yn.length=0,c.state=2}function Cu(c){var d=0<c.sheets.size;c.sheets.forEach(_u,this),c.sheets.clear();var g=c.rules,k=c.hrefs;if(!d||k.length){if(this.push('<style data-precedence="'),this.push(c.precedence),c=0,k.length){for(this.push('" data-href="');c<k.length-1;c++)this.push(k[c]),this.push(" ");this.push(k[c])}for(this.push('">'),c=0;c<g.length;c++)this.push(g[c]);this.push("</style>"),g.length=0,k.length=0}}function gt(c){if(c.state===0){c.state=1;var d=c.props;for(mt(Yn,{rel:"preload",as:"style",href:c.props.href,crossOrigin:d.crossOrigin,fetchPriority:d.fetchPriority,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy}),c=0;c<Yn.length;c++)this.push(Yn[c]);Yn.length=0}}function _n(c){c.sheets.forEach(gt,this),c.sheets.clear()}function si(c,d){c.push("[");var g="[";d.stylesheets.forEach(function(k){if(k.state!==2)if(k.state===3)c.push(g),k=bn(""+k.props.href),c.push(k),c.push("]"),g=",[";else{c.push(g);var x=k.props["data-precedence"],N=k.props,H=se(""+k.props.href);H=bn(H),c.push(H),x=""+x,c.push(","),x=bn(x),c.push(x);for(var D in N)if(U.call(N,D)&&(x=N[D],x!=null))switch(D){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"link"));default:Cn(c,D,x)}c.push("]"),g=",[",k.state=3}}),c.push("]")}function Cn(c,d,g){var k=d.toLowerCase();switch(typeof g){case"function":case"symbol":return}switch(d){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":k="class",d=""+g;break;case"hidden":if(g===!1)return;d="";break;case"src":case"href":g=se(g),d=""+g;break;default:if(2<d.length&&(d[0]==="o"||d[0]==="O")&&(d[1]==="n"||d[1]==="N")||!B(d))return;d=""+g}c.push(","),k=bn(k),c.push(k),c.push(","),k=bn(d),c.push(k)}function ls(){return{styles:new Set,stylesheets:new Set}}function Wo(c){var d=ot||null;if(d){var g=d.resumableState,k=d.renderState;if(typeof c=="string"&&c){if(!g.dnsResources.hasOwnProperty(c)){g.dnsResources[c]=null,g=k.headers;var x,N;(N=g&&0<g.remainingCapacity)&&(N=(x="<"+(""+c).replace(xi,qr)+">; rel=dns-prefetch",0<=(g.remainingCapacity-=x.length+2))),N?(k.resets.dns[c]=null,g.preconnects&&(g.preconnects+=", "),g.preconnects+=x):(x=[],mt(x,{href:c,rel:"dns-prefetch"}),k.preconnects.add(x))}vo(d)}}else Ht.D(c)}function Iu(c,d){var g=ot||null;if(g){var k=g.resumableState,x=g.renderState;if(typeof c=="string"&&c){var N=d==="use-credentials"?"credentials":typeof d=="string"?"anonymous":"default";if(!k.connectResources[N].hasOwnProperty(c)){k.connectResources[N][c]=null,k=x.headers;var H,D;if(D=k&&0<k.remainingCapacity){if(D="<"+(""+c).replace(xi,qr)+">; rel=preconnect",typeof d=="string"){var F=(""+d).replace(gr,cs);D+='; crossorigin="'+F+'"'}D=(H=D,0<=(k.remainingCapacity-=H.length+2))}D?(x.resets.connect[N][c]=null,k.preconnects&&(k.preconnects+=", "),k.preconnects+=H):(N=[],mt(N,{rel:"preconnect",href:c,crossOrigin:d}),x.preconnects.add(N))}vo(g)}}else Ht.C(c,d)}function Go(c,d,g){var k=ot||null;if(k){var x=k.resumableState,N=k.renderState;if(d&&c){switch(d){case"image":if(g)var H=g.imageSrcSet,D=g.imageSizes,F=g.fetchPriority;var M=H?H+`
`+(D||""):c;if(x.imageResources.hasOwnProperty(M))return;x.imageResources[M]=Gt,x=N.headers;var oe;x&&0<x.remainingCapacity&&typeof H!="string"&&F==="high"&&(oe=Br(c,d,g),0<=(x.remainingCapacity-=oe.length+2))?(N.resets.image[M]=Gt,x.highImagePreloads&&(x.highImagePreloads+=", "),x.highImagePreloads+=oe):(x=[],mt(x,L({rel:"preload",href:H?void 0:c,as:d},g)),F==="high"?N.highImagePreloads.add(x):(N.bulkPreloads.add(x),N.preloads.images.set(M,x)));break;case"style":if(x.styleResources.hasOwnProperty(c))return;H=[],mt(H,L({rel:"preload",href:c,as:d},g)),x.styleResources[c]=!g||typeof g.crossOrigin!="string"&&typeof g.integrity!="string"?Gt:[g.crossOrigin,g.integrity],N.preloads.stylesheets.set(c,H),N.bulkPreloads.add(H);break;case"script":if(x.scriptResources.hasOwnProperty(c))return;H=[],N.preloads.scripts.set(c,H),N.bulkPreloads.add(H),mt(H,L({rel:"preload",href:c,as:d},g)),x.scriptResources[c]=!g||typeof g.crossOrigin!="string"&&typeof g.integrity!="string"?Gt:[g.crossOrigin,g.integrity];break;default:if(x.unknownResources.hasOwnProperty(d)){if(H=x.unknownResources[d],H.hasOwnProperty(c))return}else H={},x.unknownResources[d]=H;if(H[c]=Gt,(x=N.headers)&&0<x.remainingCapacity&&d==="font"&&(M=Br(c,d,g),0<=(x.remainingCapacity-=M.length+2)))N.resets.font[c]=Gt,x.fontPreloads&&(x.fontPreloads+=", "),x.fontPreloads+=M;else switch(x=[],c=L({rel:"preload",href:c,as:d},g),mt(x,c),d){case"font":N.fontPreloads.add(x);break;default:N.bulkPreloads.add(x)}}vo(k)}}else Ht.L(c,d,g)}function Oa(c,d){var g=ot||null;if(g){var k=g.resumableState,x=g.renderState;if(c){var N=d&&typeof d.as=="string"?d.as:"script";switch(N){case"script":if(k.moduleScriptResources.hasOwnProperty(c))return;N=[],k.moduleScriptResources[c]=!d||typeof d.crossOrigin!="string"&&typeof d.integrity!="string"?Gt:[d.crossOrigin,d.integrity],x.preloads.moduleScripts.set(c,N);break;default:if(k.moduleUnknownResources.hasOwnProperty(N)){var H=k.unknownResources[N];if(H.hasOwnProperty(c))return}else H={},k.moduleUnknownResources[N]=H;N=[],H[c]=Gt}mt(N,L({rel:"modulepreload",href:c},d)),x.bulkPreloads.add(N),vo(g)}}else Ht.m(c,d)}function xu(c,d,g){var k=ot||null;if(k){var x=k.resumableState,N=k.renderState;if(c){d=d||"default";var H=N.styles.get(d),D=x.styleResources.hasOwnProperty(c)?x.styleResources[c]:void 0;D!==null&&(x.styleResources[c]=null,H||(H={precedence:be(d),rules:[],hrefs:[],sheets:new Map},N.styles.set(d,H)),d={state:0,props:L({rel:"stylesheet",href:c,"data-precedence":d},g)},D&&(D.length===2&&mr(d.props,D),(N=N.preloads.stylesheets.get(c))&&0<N.length?N.length=0:d.state=1),H.sheets.set(c,d),vo(k))}}else Ht.S(c,d,g)}function on(c,d){var g=ot||null;if(g){var k=g.resumableState,x=g.renderState;if(c){var N=k.scriptResources.hasOwnProperty(c)?k.scriptResources[c]:void 0;N!==null&&(k.scriptResources[c]=null,d=L({src:c,async:!0},d),N&&(N.length===2&&mr(d,N),c=x.preloads.scripts.get(c))&&(c.length=0),c=[],x.scripts.add(c),Is(c,d),vo(g))}}else Ht.X(c,d)}function Tu(c,d){var g=ot||null;if(g){var k=g.resumableState,x=g.renderState;if(c){var N=k.moduleScriptResources.hasOwnProperty(c)?k.moduleScriptResources[c]:void 0;N!==null&&(k.moduleScriptResources[c]=null,d=L({src:c,type:"module",async:!0},d),N&&(N.length===2&&mr(d,N),c=x.preloads.moduleScripts.get(c))&&(c.length=0),c=[],x.scripts.add(c),Is(c,d),vo(g))}}else Ht.M(c,d)}function mr(c,d){c.crossOrigin==null&&(c.crossOrigin=d[0]),c.integrity==null&&(c.integrity=d[1])}function Br(c,d,g){c=(""+c).replace(xi,qr),d=(""+d).replace(gr,cs),d="<"+c+'>; rel=preload; as="'+d+'"';for(var k in g)U.call(g,k)&&(c=g[k],typeof c=="string"&&(d+="; "+k.toLowerCase()+'="'+(""+c).replace(gr,cs)+'"'));return d}var xi=/[<>\r\n]/g;function qr(c){switch(c){case"<":return"%3C";case">":return"%3E";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var gr=/["';,\r\n]/g;function cs(c){switch(c){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function to(c){this.styles.add(c)}function Na(c){this.stylesheets.add(c)}function Fa(c,d){var g=c.idPrefix,k=[],x=c.bootstrapScriptContent,N=c.bootstrapScripts,H=c.bootstrapModules;x!==void 0&&k.push("<script>",(""+x).replace(Rr,Zn),"<\/script>"),x=g+"P:";var D=g+"S:";g+="B:";var F=pr(),M=new Set,oe=new Set,ae=new Set,we=new Map,Ce=new Set,ke=new Set,Be=new Set,Nt={images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map};if(N!==void 0)for(var tt=0;tt<N.length;tt++){var Ct=N[tt],Qt,Ne=void 0,Kt=void 0,Ye={rel:"preload",as:"script",fetchPriority:"low",nonce:void 0};typeof Ct=="string"?Ye.href=Qt=Ct:(Ye.href=Qt=Ct.src,Ye.integrity=Kt=typeof Ct.integrity=="string"?Ct.integrity:void 0,Ye.crossOrigin=Ne=typeof Ct=="string"||Ct.crossOrigin==null?void 0:Ct.crossOrigin==="use-credentials"?"use-credentials":""),Ct=c;var qe=Qt;Ct.scriptResources[qe]=null,Ct.moduleScriptResources[qe]=null,Ct=[],mt(Ct,Ye),Ce.add(Ct),k.push('<script src="',be(Qt)),typeof Kt=="string"&&k.push('" integrity="',be(Kt)),typeof Ne=="string"&&k.push('" crossorigin="',be(Ne)),k.push('" async=""><\/script>')}if(H!==void 0)for(N=0;N<H.length;N++)Ye=H[N],Ne=Qt=void 0,Kt={rel:"modulepreload",fetchPriority:"low",nonce:void 0},typeof Ye=="string"?Kt.href=tt=Ye:(Kt.href=tt=Ye.src,Kt.integrity=Ne=typeof Ye.integrity=="string"?Ye.integrity:void 0,Kt.crossOrigin=Qt=typeof Ye=="string"||Ye.crossOrigin==null?void 0:Ye.crossOrigin==="use-credentials"?"use-credentials":""),Ye=c,Ct=tt,Ye.scriptResources[Ct]=null,Ye.moduleScriptResources[Ct]=null,Ye=[],mt(Ye,Kt),Ce.add(Ye),k.push('<script type="module" src="',be(tt)),typeof Ne=="string"&&k.push('" integrity="',be(Ne)),typeof Qt=="string"&&k.push('" crossorigin="',be(Qt)),k.push('" async=""><\/script>');return{placeholderPrefix:x,segmentPrefix:D,boundaryPrefix:g,startInlineScript:"<script>",preamble:F,externalRuntimeScript:null,bootstrapChunks:k,importMapChunks:[],onHeaders:void 0,headers:null,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:M,fontPreloads:oe,highImagePreloads:ae,styles:we,bootstrapScripts:Ce,scripts:ke,bulkPreloads:Be,preloads:Nt,stylesToHoist:!1,generateStaticMarkup:d}}function Jt(c,d,g,k){return g.generateStaticMarkup?(c.push(be(d)),!1):(d===""?c=k:(k&&c.push("<!-- -->"),c.push(be(d)),c=!0),c)}function no(c,d,g,k){d.generateStaticMarkup||g&&k&&c.push("<!-- -->")}var Qo=Function.prototype.bind,Ko=Symbol.for("react.client.reference");function yr(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===Ko?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case a:return"Fragment";case y:return"Profiler";case f:return"StrictMode";case Q:return"Suspense";case ee:return"SuspenseList";case xe:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case i:return"Portal";case R:return(c.displayName||"Context")+".Provider";case T:return(c._context.displayName||"Context")+".Consumer";case V:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case ne:return d=c.displayName||null,d!==null?d:yr(c.type)||"Memo";case le:d=c._payload,c=c._init;try{return yr(c(d))}catch{}}return null}var ro={},Es=null;function Ti(c,d){if(c!==d){c.context._currentValue2=c.parentValue,c=c.parent;var g=d.parent;if(c===null){if(g!==null)throw Error(t(401))}else{if(g===null)throw Error(t(401));Ti(c,g)}d.context._currentValue2=d.value}}function Pi(c){c.context._currentValue2=c.parentValue,c=c.parent,c!==null&&Pi(c)}function Ma(c){var d=c.parent;d!==null&&Ma(d),c.context._currentValue2=c.value}function As(c,d){if(c.context._currentValue2=c.parentValue,c=c.parent,c===null)throw Error(t(402));c.depth===d.depth?Ti(c,d):As(c,d)}function Dr(c,d){var g=d.parent;if(g===null)throw Error(t(402));c.depth===g.depth?Ti(c,g):Dr(c,g),d.context._currentValue2=d.value}function vr(c){var d=Es;d!==c&&(d===null?Ma(c):c===null?Pi(d):d.depth===c.depth?Ti(d,c):d.depth>c.depth?As(d,c):Dr(d,c),Es=c)}var Hr={enqueueSetState:function(c,d){c=c._reactInternals,c.queue!==null&&c.queue.push(d)},enqueueReplaceState:function(c,d){c=c._reactInternals,c.replace=!0,c.queue=[d]},enqueueForceUpdate:function(){}},Pu={id:1,overflow:""};function Tt(c,d,g){var k=c.id;c=c.overflow;var x=32-hs(k)-1;k&=~(1<<x),g+=1;var N=32-hs(d)+x;if(30<N){var H=x-x%5;return N=(k&(1<<H)-1).toString(32),k>>=H,x-=H,{id:1<<32-hs(d)+x|g<<x|k,overflow:N+c}}return{id:1<<N|g<<x|k,overflow:c}}var hs=Math.clz32?Math.clz32:Ru,ii=Math.log,Or=Math.LN2;function Ru(c){return c>>>=0,c===0?32:31-(ii(c)/Or|0)|0}var fs=Error(t(460));function so(){}function Eu(c,d,g){switch(g=c[g],g===void 0?c.push(d):g!==d&&(d.then(so,so),d=g),d.status){case"fulfilled":return d.value;case"rejected":throw d.reason;default:switch(typeof d.status=="string"?d.then(so,so):(c=d,c.status="pending",c.then(function(k){if(d.status==="pending"){var x=d;x.status="fulfilled",x.value=k}},function(k){if(d.status==="pending"){var x=d;x.status="rejected",x.reason=k}})),d.status){case"fulfilled":return d.value;case"rejected":throw d.reason}throw io=d,fs}}var io=null;function oo(){if(io===null)throw Error(t(459));var c=io;return io=null,c}function Ri(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Ds=typeof Object.is=="function"?Object.is:Ri,zr=null,Zo=null,ao=null,Os=null,Xo=null,Et=null,uo=!1,ur=!1,lo=0,co=0,Ns=-1,oi=0,ai=null,et=null,ht=0;function Wr(){if(zr===null)throw Error(t(321));return zr}function Yo(){if(0<ht)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function Lt(){return Et===null?Xo===null?(uo=!1,Xo=Et=Yo()):(uo=!0,Et=Xo):Et.next===null?(uo=!1,Et=Et.next=Yo()):(uo=!0,Et=Et.next),Et}function Ei(){var c=ai;return ai=null,c}function ho(){Os=ao=Zo=zr=null,ur=!1,Xo=null,ht=0,Et=et=null}function La(c,d){return typeof d=="function"?d(c):d}function Jo(c,d,g){if(zr=Wr(),Et=Lt(),uo){var k=Et.queue;if(d=k.dispatch,et!==null&&(g=et.get(k),g!==void 0)){et.delete(k),k=Et.memoizedState;do k=c(k,g.action),g=g.next;while(g!==null);return Et.memoizedState=k,[k,d]}return[Et.memoizedState,d]}return c=c===La?typeof d=="function"?d():d:g!==void 0?g(d):d,Et.memoizedState=c,c=Et.queue={last:null,dispatch:null},c=c.dispatch=an.bind(null,zr,c),[Et.memoizedState,c]}function Ua(c,d){if(zr=Wr(),Et=Lt(),d=d===void 0?null:d,Et!==null){var g=Et.memoizedState;if(g!==null&&d!==null){var k=g[1];e:if(k===null)k=!1;else{for(var x=0;x<k.length&&x<d.length;x++)if(!Ds(d[x],k[x])){k=!1;break e}k=!0}if(k)return g[0]}}return c=c(),Et.memoizedState=[c,d],c}function an(c,d,g){if(25<=ht)throw Error(t(301));if(c===zr)if(ur=!0,c={action:g,next:null},et===null&&(et=new Map),g=et.get(d),g===void 0)et.set(d,c);else{for(d=g;d.next!==null;)d=d.next;d.next=c}}function ea(){throw Error(t(394))}function $n(){throw Error(t(479))}function ta(c,d,g){Wr();var k=co++,x=ao;if(typeof c.$$FORM_ACTION=="function"){var N=null,H=Os;x=x.formState;var D=c.$$IS_SIGNATURE_EQUAL;if(x!==null&&typeof D=="function"){var F=x[1];D.call(c,x[2],x[3])&&(N=g!==void 0?"p"+g:"k"+q(JSON.stringify([H,null,k]),0),F===N&&(Ns=k,d=x[0]))}var M=c.bind(null,d);return c=function(ae){M(ae)},typeof M.$$FORM_ACTION=="function"&&(c.$$FORM_ACTION=function(ae){ae=M.$$FORM_ACTION(ae),g!==void 0&&(g+="",ae.action=g);var we=ae.data;return we&&(N===null&&(N=g!==void 0?"p"+g:"k"+q(JSON.stringify([H,null,k]),0)),we.append("$ACTION_KEY",N)),ae}),[d,c,!1]}var oe=c.bind(null,d);return[d,function(ae){oe(ae)},!1]}function na(c){var d=oi;return oi+=1,ai===null&&(ai=[]),Eu(ai,c,d)}function On(){throw Error(t(393))}function ui(){}var fo={readContext:function(c){return c._currentValue2},use:function(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return na(c);if(c.$$typeof===R)return c._currentValue2}throw Error(t(438,String(c)))},useContext:function(c){return Wr(),c._currentValue2},useMemo:Ua,useReducer:Jo,useRef:function(c){zr=Wr(),Et=Lt();var d=Et.memoizedState;return d===null?(c={current:c},Et.memoizedState=c):d},useState:function(c){return Jo(La,c)},useInsertionEffect:ui,useLayoutEffect:ui,useCallback:function(c,d){return Ua(function(){return c},d)},useImperativeHandle:ui,useEffect:ui,useDebugValue:ui,useDeferredValue:function(c,d){return Wr(),d!==void 0?d:c},useTransition:function(){return Wr(),[!1,ea]},useId:function(){var c=Zo.treeContext,d=c.overflow;c=c.id,c=(c&~(1<<32-hs(c)-1)).toString(32)+d;var g=Fs;if(g===null)throw Error(t(404));return d=lo++,c="«"+g.idPrefix+"R"+c,0<d&&(c+="H"+d.toString(32)),c+"»"},useSyncExternalStore:function(c,d,g){if(g===void 0)throw Error(t(407));return g()},useOptimistic:function(c){return Wr(),[c,$n]},useActionState:ta,useFormState:ta,useHostTransitionStatus:function(){return Wr(),xt},useMemoCache:function(c){for(var d=Array(c),g=0;g<c;g++)d[g]=Pe;return d},useCacheRefresh:function(){return On}},Fs=null,Va={getCacheForType:function(){throw Error(t(248))}},li,$a;function hn(c){if(li===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);li=d&&d[1]||"",$a=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+li+c+$a}var ci=!1;function Nn(c,d){if(!c||ci)return"";ci=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var k={DetermineComponentFrameRoot:function(){try{if(d){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Ce){var we=Ce}Reflect.construct(c,[],ae)}else{try{ae.call()}catch(Ce){we=Ce}c.call(ae.prototype)}}else{try{throw Error()}catch(Ce){we=Ce}(ae=c())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Ce){if(Ce&&we&&typeof Ce.stack=="string")return[Ce.stack,we.stack]}return[null,null]}};k.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(k.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(k.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=k.DetermineComponentFrameRoot(),H=N[0],D=N[1];if(H&&D){var F=H.split(`
`),M=D.split(`
`);for(x=k=0;k<F.length&&!F[k].includes("DetermineComponentFrameRoot");)k++;for(;x<M.length&&!M[x].includes("DetermineComponentFrameRoot");)x++;if(k===F.length||x===M.length)for(k=F.length-1,x=M.length-1;1<=k&&0<=x&&F[k]!==M[x];)x--;for(;1<=k&&0<=x;k--,x--)if(F[k]!==M[x]){if(k!==1||x!==1)do if(k--,x--,0>x||F[k]!==M[x]){var oe=`
`+F[k].replace(" at new "," at ");return c.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",c.displayName)),oe}while(1<=k&&0<=x);break}}}finally{ci=!1,Error.prepareStackTrace=g}return(g=c?c.displayName||c.name:"")?hn(g):""}function ja(c){if(typeof c=="string")return hn(c);if(typeof c=="function")return c.prototype&&c.prototype.isReactComponent?Nn(c,!0):Nn(c,!1);if(typeof c=="object"&&c!==null){switch(c.$$typeof){case V:return Nn(c.render,!1);case ne:return Nn(c.type,!1);case le:var d=c,g=d._payload;d=d._init;try{c=d(g)}catch{return hn("Lazy")}return ja(c)}if(typeof c.name=="string")return g=c.env,hn(c.name+(g?" ["+g+"]":""))}switch(c){case ee:return hn("SuspenseList");case Q:return hn("Suspense")}return""}function Ms(c){if(typeof c=="object"&&c!==null&&typeof c.environmentName=="string"){var d=c.environmentName;c=[c].slice(0),typeof c[0]=="string"?c.splice(0,1,"[%s] "+c[0]," "+d+" "):c.splice(0,0,"[%s] "," "+d+" "),c.unshift(console),d=Qo.apply(console.error,c),d()}else console.error(c);return null}function jn(){}function po(c,d,g,k,x,N,H,D,F,M,oe){var ae=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=c,this.renderState=d,this.rootFormatContext=g,this.progressiveChunkSize=k===void 0?12800:k,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.abortableTasks=ae,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=x===void 0?Ms:x,this.onPostpone=M===void 0?jn:M,this.onAllReady=N===void 0?jn:N,this.onShellReady=H===void 0?jn:H,this.onShellError=D===void 0?jn:D,this.onFatalError=F===void 0?jn:F,this.formState=oe===void 0?null:oe}function Ai(c,d,g,k,x,N,H,D,F,M,oe,ae){return d=new po(d,g,k,x,N,H,D,F,M,oe,ae),g=Ls(d,0,null,k,!1,!1),g.parentFlushed=!0,c=Di(d,null,c,-1,null,g,null,null,d.abortableTasks,null,k,null,Pu,null,!1),In(c),d.pingedTasks.push(c),d}var ot=null;function lr(c,d){c.pingedTasks.push(d),c.pingedTasks.length===1&&(c.flushScheduled=c.destination!==null,ac(c))}function Bn(c,d,g,k){return{status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,completedSegments:[],byteSize:0,fallbackAbortableTasks:d,errorDigest:null,contentState:ls(),fallbackState:ls(),contentPreamble:g,fallbackPreamble:k,trackedContentKeyPath:null,trackedFallbackNode:null}}function Di(c,d,g,k,x,N,H,D,F,M,oe,ae,we,Ce,ke){c.allPendingTasks++,x===null?c.pendingRootTasks++:x.pendingTasks++;var Be={replay:null,node:g,childIndex:k,ping:function(){return lr(c,Be)},blockedBoundary:x,blockedSegment:N,blockedPreamble:H,hoistableState:D,abortSet:F,keyPath:M,formatContext:oe,context:ae,treeContext:we,componentStack:Ce,thenableState:d,isFallback:ke};return F.add(Be),Be}function mo(c,d,g,k,x,N,H,D,F,M,oe,ae,we,Ce){c.allPendingTasks++,N===null?c.pendingRootTasks++:N.pendingTasks++,g.pendingTasks++;var ke={replay:g,node:k,childIndex:x,ping:function(){return lr(c,ke)},blockedBoundary:N,blockedSegment:null,blockedPreamble:null,hoistableState:H,abortSet:D,keyPath:F,formatContext:M,context:oe,treeContext:ae,componentStack:we,thenableState:d,isFallback:Ce};return D.add(ke),ke}function Ls(c,d,g,k,x,N){return{status:0,parentFlushed:!1,id:-1,index:d,chunks:[],children:[],preambleChildren:[],parentFormatContext:k,boundary:g,lastPushedText:x,textEmbedded:N}}function In(c){var d=c.node;if(typeof d=="object"&&d!==null)switch(d.$$typeof){case r:c.componentStack={parent:c.componentStack,type:d.type}}}function xn(c){var d={};return c&&Object.defineProperty(d,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var g="",k=c;do g+=ja(k.type),k=k.parent;while(k);var x=g}catch(N){x=`
Error generating stack: `+N.message+`
`+N.stack}return Object.defineProperty(d,"componentStack",{value:x}),x}}),d}function At(c,d,g){if(c=c.onError,d=c(d,g),d==null||typeof d=="string")return d}function ds(c,d){var g=c.onShellError,k=c.onFatalError;g(d),k(d),c.destination!==null?(c.status=14,c.destination.destroy(d)):(c.status=13,c.fatalError=d)}function Us(c,d,g,k,x,N){var H=d.thenableState;for(d.thenableState=null,zr={},Zo=d,ao=c,Os=g,co=lo=0,Ns=-1,oi=0,ai=H,c=k(x,N);ur;)ur=!1,co=lo=0,Ns=-1,oi=0,ht+=1,Et=null,c=k(x,N);return ho(),c}function Vs(c,d,g,k,x,N,H){var D=!1;if(N!==0&&c.formState!==null){var F=d.blockedSegment;if(F!==null){D=!0,F=F.chunks;for(var M=0;M<N;M++)M===H?F.push("<!--F!-->"):F.push("<!--F-->")}}N=d.keyPath,d.keyPath=g,x?(g=d.treeContext,d.treeContext=Tt(g,1,0),_t(c,d,k,-1),d.treeContext=g):D?_t(c,d,k,-1):S(c,d,k,-1),d.keyPath=N}function l(c,d,g,k,x,N){if(typeof k=="function")if(k.prototype&&k.prototype.isReactComponent){var H=x;if("ref"in x){H={};for(var D in x)D!=="ref"&&(H[D]=x[D])}var F=k.defaultProps;if(F){H===x&&(H=L({},H,x));for(var M in F)H[M]===void 0&&(H[M]=F[M])}x=H,H=ro,F=k.contextType,typeof F=="object"&&F!==null&&(H=F._currentValue2),H=new k(x,H);var oe=H.state!==void 0?H.state:null;if(H.updater=Hr,H.props=x,H.state=oe,F={queue:[],replace:!1},H._reactInternals=F,N=k.contextType,H.context=typeof N=="object"&&N!==null?N._currentValue2:ro,N=k.getDerivedStateFromProps,typeof N=="function"&&(N=N(x,oe),oe=N==null?oe:L({},oe,N),H.state=oe),typeof k.getDerivedStateFromProps!="function"&&typeof H.getSnapshotBeforeUpdate!="function"&&(typeof H.UNSAFE_componentWillMount=="function"||typeof H.componentWillMount=="function"))if(k=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),k!==H.state&&Hr.enqueueReplaceState(H,H.state,null),F.queue!==null&&0<F.queue.length)if(k=F.queue,N=F.replace,F.queue=null,F.replace=!1,N&&k.length===1)H.state=k[0];else{for(F=N?k[0]:H.state,oe=!0,N=N?1:0;N<k.length;N++)M=k[N],M=typeof M=="function"?M.call(H,F,x,void 0):M,M!=null&&(oe?(oe=!1,F=L({},F,M)):L(F,M));H.state=F}else F.queue=null;if(k=H.render(),c.status===12)throw null;x=d.keyPath,d.keyPath=g,S(c,d,k,-1),d.keyPath=x}else{if(k=Us(c,d,g,k,x,void 0),c.status===12)throw null;Vs(c,d,g,k,lo!==0,co,Ns)}else if(typeof k=="string")if(H=d.blockedSegment,H===null)H=x.children,F=d.formatContext,oe=d.keyPath,d.formatContext=Me(F,k,x),d.keyPath=g,_t(c,d,H,-1),d.formatContext=F,d.keyPath=oe;else{N=An(H.chunks,k,x,c.resumableState,c.renderState,d.blockedPreamble,d.hoistableState,d.formatContext,H.lastPushedText,d.isFallback),H.lastPushedText=!1,F=d.formatContext,oe=d.keyPath,d.keyPath=g,(d.formatContext=Me(F,k,x)).insertionMode===3?(g=Ls(c,0,null,d.formatContext,!1,!1),H.preambleChildren.push(g),g=Di(c,null,N,-1,d.blockedBoundary,g,d.blockedPreamble,d.hoistableState,c.abortableTasks,d.keyPath,d.formatContext,d.context,d.treeContext,d.componentStack,d.isFallback),In(g),c.pingedTasks.push(g)):_t(c,d,N,-1),d.formatContext=F,d.keyPath=oe;e:{switch(d=H.chunks,c=c.resumableState,k){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=F.insertionMode){c.hasBody=!0;break e}break;case"html":if(F.insertionMode===0){c.hasHtml=!0;break e}break;case"head":if(1>=F.insertionMode)break e}d.push(us(k))}H.lastPushedText=!1}else{switch(k){case Ie:case f:case y:case a:k=d.keyPath,d.keyPath=g,S(c,d,x.children,-1),d.keyPath=k;return;case xe:x.mode!=="hidden"&&(k=d.keyPath,d.keyPath=g,S(c,d,x.children,-1),d.keyPath=k);return;case ee:k=d.keyPath,d.keyPath=g,S(c,d,x.children,-1),d.keyPath=k;return;case Ue:case fe:throw Error(t(343));case Q:e:if(d.replay!==null){k=d.keyPath,d.keyPath=g,g=x.children;try{_t(c,d,g,-1)}finally{d.keyPath=k}}else{k=d.keyPath;var ae=d.blockedBoundary;N=d.blockedPreamble;var we=d.hoistableState;M=d.blockedSegment,D=x.fallback,x=x.children;var Ce=new Set,ke=2>d.formatContext.insertionMode?Bn(c,Ce,pr(),pr()):Bn(c,Ce,null,null);c.trackedPostpones!==null&&(ke.trackedContentKeyPath=g);var Be=Ls(c,M.chunks.length,ke,d.formatContext,!1,!1);M.children.push(Be),M.lastPushedText=!1;var Nt=Ls(c,0,null,d.formatContext,!1,!1);if(Nt.parentFlushed=!0,c.trackedPostpones!==null){H=[g[0],"Suspense Fallback",g[2]],F=[H[1],H[2],[],null],c.trackedPostpones.workingMap.set(H,F),ke.trackedFallbackNode=F,d.blockedSegment=Be,d.blockedPreamble=ke.fallbackPreamble,d.keyPath=H,Be.status=6;try{_t(c,d,D,-1),no(Be.chunks,c.renderState,Be.lastPushedText,Be.textEmbedded),Be.status=1}catch(tt){throw Be.status=c.status===12?3:4,tt}finally{d.blockedSegment=M,d.blockedPreamble=N,d.keyPath=k}d=Di(c,null,x,-1,ke,Nt,ke.contentPreamble,ke.contentState,d.abortSet,g,d.formatContext,d.context,d.treeContext,d.componentStack,d.isFallback),In(d),c.pingedTasks.push(d)}else{d.blockedBoundary=ke,d.blockedPreamble=ke.contentPreamble,d.hoistableState=ke.contentState,d.blockedSegment=Nt,d.keyPath=g,Nt.status=6;try{if(_t(c,d,x,-1),no(Nt.chunks,c.renderState,Nt.lastPushedText,Nt.textEmbedded),Nt.status=1,hi(ke,Nt),ke.pendingTasks===0&&ke.status===0){ke.status=1,c.pendingRootTasks===0&&d.blockedPreamble&&Nr(c);break e}}catch(tt){ke.status=4,c.status===12?(Nt.status=3,H=c.fatalError):(Nt.status=4,H=tt),F=xn(d.componentStack),oe=At(c,H,F),ke.errorDigest=oe,ie(c,ke)}finally{d.blockedBoundary=ae,d.blockedPreamble=N,d.hoistableState=we,d.blockedSegment=M,d.keyPath=k}d=Di(c,null,D,-1,ae,Be,ke.fallbackPreamble,ke.fallbackState,Ce,[g[0],"Suspense Fallback",g[2]],d.formatContext,d.context,d.treeContext,d.componentStack,!0),In(d),c.pingedTasks.push(d)}}return}if(typeof k=="object"&&k!==null)switch(k.$$typeof){case V:if("ref"in x)for(ke in H={},x)ke!=="ref"&&(H[ke]=x[ke]);else H=x;k=Us(c,d,g,k.render,H,N),Vs(c,d,g,k,lo!==0,co,Ns);return;case ne:l(c,d,g,k.type,x,N);return;case w:case R:if(F=x.children,H=d.keyPath,x=x.value,oe=k._currentValue2,k._currentValue2=x,N=Es,Es=k={parent:N,depth:N===null?0:N.depth+1,context:k,parentValue:oe,value:x},d.context=k,d.keyPath=g,S(c,d,F,-1),c=Es,c===null)throw Error(t(403));c.context._currentValue2=c.parentValue,c=Es=c.parent,d.context=c,d.keyPath=H;return;case T:x=x.children,k=x(k._context._currentValue2),x=d.keyPath,d.keyPath=g,S(c,d,k,-1),d.keyPath=x;return;case le:if(H=k._init,k=H(k._payload),c.status===12)throw null;l(c,d,g,k,x,N);return}throw Error(t(130,k==null?k:typeof k,""))}}function v(c,d,g,k,x){var N=d.replay,H=d.blockedBoundary,D=Ls(c,0,null,d.formatContext,!1,!1);D.id=g,D.parentFlushed=!0;try{d.replay=null,d.blockedSegment=D,_t(c,d,k,x),D.status=1,H===null?c.completedRootSegment=D:(hi(H,D),H.parentFlushed&&c.partialBoundaries.push(H))}finally{d.replay=N,d.blockedSegment=null}}function S(c,d,g,k){d.replay!==null&&typeof d.replay.slots=="number"?v(c,d,d.replay.slots,g,k):(d.node=g,d.childIndex=k,g=d.componentStack,In(d),E(c,d),d.componentStack=g)}function E(c,d){var g=d.node,k=d.childIndex;if(g!==null){if(typeof g=="object"){switch(g.$$typeof){case r:var x=g.type,N=g.key,H=g.props;g=H.ref;var D=g!==void 0?g:null,F=yr(x),M=N??(k===-1?0:k);if(N=[d.keyPath,F,M],d.replay!==null)e:{var oe=d.replay;for(k=oe.nodes,g=0;g<k.length;g++){var ae=k[g];if(M===ae[1]){if(ae.length===4){if(F!==null&&F!==ae[0])throw Error(t(490,ae[0],F));var we=ae[2];F=ae[3],M=d.node,d.replay={nodes:we,slots:F,pendingTasks:1};try{if(l(c,d,N,x,H,D),d.replay.pendingTasks===1&&0<d.replay.nodes.length)throw Error(t(488));d.replay.pendingTasks--}catch(Ne){if(typeof Ne=="object"&&Ne!==null&&(Ne===fs||typeof Ne.then=="function"))throw d.node===M&&(d.replay=oe),Ne;d.replay.pendingTasks--,H=xn(d.componentStack),N=d.blockedBoundary,x=Ne,H=At(c,x,H),yt(c,N,we,F,x,H)}d.replay=oe}else{if(x!==Q)throw Error(t(490,"Suspense",yr(x)||"Unknown"));t:{oe=void 0,x=ae[5],D=ae[2],F=ae[3],M=ae[4]===null?[]:ae[4][2],ae=ae[4]===null?null:ae[4][3];var Ce=d.keyPath,ke=d.replay,Be=d.blockedBoundary,Nt=d.hoistableState,tt=H.children,Ct=H.fallback,Qt=new Set;H=2>d.formatContext.insertionMode?Bn(c,Qt,pr(),pr()):Bn(c,Qt,null,null),H.parentFlushed=!0,H.rootSegmentID=x,d.blockedBoundary=H,d.hoistableState=H.contentState,d.keyPath=N,d.replay={nodes:D,slots:F,pendingTasks:1};try{if(_t(c,d,tt,-1),d.replay.pendingTasks===1&&0<d.replay.nodes.length)throw Error(t(488));if(d.replay.pendingTasks--,H.pendingTasks===0&&H.status===0){H.status=1,c.completedBoundaries.push(H);break t}}catch(Ne){H.status=4,we=xn(d.componentStack),oe=At(c,Ne,we),H.errorDigest=oe,d.replay.pendingTasks--,c.clientRenderedBoundaries.push(H)}finally{d.blockedBoundary=Be,d.hoistableState=Nt,d.replay=ke,d.keyPath=Ce}d=mo(c,null,{nodes:M,slots:ae,pendingTasks:0},Ct,-1,Be,H.fallbackState,Qt,[N[0],"Suspense Fallback",N[2]],d.formatContext,d.context,d.treeContext,d.componentStack,!0),In(d),c.pingedTasks.push(d)}}k.splice(g,1);break e}}}else l(c,d,N,x,H,D);return;case i:throw Error(t(257));case le:if(we=g._init,g=we(g._payload),c.status===12)throw null;S(c,d,g,k);return}if(Oe(g)){X(c,d,g,k);return}if(g===null||typeof g!="object"?we=null:(we=je&&g[je]||g["@@iterator"],we=typeof we=="function"?we:null),we&&(we=we.call(g))){if(g=we.next(),!g.done){H=[];do H.push(g.value),g=we.next();while(!g.done);X(c,d,H,k)}return}if(typeof g.then=="function")return d.thenableState=null,S(c,d,na(g),k);if(g.$$typeof===R)return S(c,d,g._currentValue2,k);throw k=Object.prototype.toString.call(g),Error(t(31,k==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":k))}typeof g=="string"?(k=d.blockedSegment,k!==null&&(k.lastPushedText=Jt(k.chunks,g,c.renderState,k.lastPushedText))):(typeof g=="number"||typeof g=="bigint")&&(k=d.blockedSegment,k!==null&&(k.lastPushedText=Jt(k.chunks,""+g,c.renderState,k.lastPushedText)))}}function X(c,d,g,k){var x=d.keyPath;if(k!==-1&&(d.keyPath=[d.keyPath,"Fragment",k],d.replay!==null)){for(var N=d.replay,H=N.nodes,D=0;D<H.length;D++){var F=H[D];if(F[1]===k){k=F[2],F=F[3],d.replay={nodes:k,slots:F,pendingTasks:1};try{if(X(c,d,g,-1),d.replay.pendingTasks===1&&0<d.replay.nodes.length)throw Error(t(488));d.replay.pendingTasks--}catch(ae){if(typeof ae=="object"&&ae!==null&&(ae===fs||typeof ae.then=="function"))throw ae;d.replay.pendingTasks--,g=xn(d.componentStack);var M=d.blockedBoundary,oe=ae;g=At(c,oe,g),yt(c,M,k,F,oe,g)}d.replay=N,H.splice(D,1);break}}d.keyPath=x;return}if(N=d.treeContext,H=g.length,d.replay!==null&&(D=d.replay.slots,D!==null&&typeof D=="object")){for(k=0;k<H;k++)F=g[k],d.treeContext=Tt(N,H,k),M=D[k],typeof M=="number"?(v(c,d,M,F,k),delete D[k]):_t(c,d,F,k);d.treeContext=N,d.keyPath=x;return}for(D=0;D<H;D++)k=g[D],d.treeContext=Tt(N,H,D),_t(c,d,k,D);d.treeContext=N,d.keyPath=x}function ie(c,d){c=c.trackedPostpones,c!==null&&(d=d.trackedContentKeyPath,d!==null&&(d=c.workingMap.get(d),d!==void 0&&(d.length=4,d[2]=[],d[3]=null)))}function Se(c,d,g){return mo(c,g,d.replay,d.node,d.childIndex,d.blockedBoundary,d.hoistableState,d.abortSet,d.keyPath,d.formatContext,d.context,d.treeContext,d.componentStack,d.isFallback)}function bt(c,d,g){var k=d.blockedSegment,x=Ls(c,k.chunks.length,null,d.formatContext,k.lastPushedText,!0);return k.children.push(x),k.lastPushedText=!1,Di(c,g,d.node,d.childIndex,d.blockedBoundary,x,d.blockedPreamble,d.hoistableState,d.abortSet,d.keyPath,d.formatContext,d.context,d.treeContext,d.componentStack,d.isFallback)}function _t(c,d,g,k){var x=d.formatContext,N=d.context,H=d.keyPath,D=d.treeContext,F=d.componentStack,M=d.blockedSegment;if(M===null)try{return S(c,d,g,k)}catch(we){if(ho(),g=we===fs?oo():we,typeof g=="object"&&g!==null){if(typeof g.then=="function"){k=Ei(),c=Se(c,d,k).ping,g.then(c,c),d.formatContext=x,d.context=N,d.keyPath=H,d.treeContext=D,d.componentStack=F,vr(N);return}if(g.message==="Maximum call stack size exceeded"){g=Ei(),g=Se(c,d,g),c.pingedTasks.push(g),d.formatContext=x,d.context=N,d.keyPath=H,d.treeContext=D,d.componentStack=F,vr(N);return}}}else{var oe=M.children.length,ae=M.chunks.length;try{return S(c,d,g,k)}catch(we){if(ho(),M.children.length=oe,M.chunks.length=ae,g=we===fs?oo():we,typeof g=="object"&&g!==null){if(typeof g.then=="function"){k=Ei(),c=bt(c,d,k).ping,g.then(c,c),d.formatContext=x,d.context=N,d.keyPath=H,d.treeContext=D,d.componentStack=F,vr(N);return}if(g.message==="Maximum call stack size exceeded"){g=Ei(),g=bt(c,d,g),c.pingedTasks.push(g),d.formatContext=x,d.context=N,d.keyPath=H,d.treeContext=D,d.componentStack=F,vr(N);return}}}}throw d.formatContext=x,d.context=N,d.keyPath=H,d.treeContext=D,vr(N),g}function wt(c){var d=c.blockedBoundary;c=c.blockedSegment,c!==null&&(c.status=3,hl(this,d,c))}function yt(c,d,g,k,x,N){for(var H=0;H<g.length;H++){var D=g[H];if(D.length===4)yt(c,d,D[2],D[3],x,N);else{D=D[5];var F=c,M=N,oe=Bn(F,new Set,null,null);oe.parentFlushed=!0,oe.rootSegmentID=D,oe.status=4,oe.errorDigest=M,oe.parentFlushed&&F.clientRenderedBoundaries.push(oe)}}if(g.length=0,k!==null){if(d===null)throw Error(t(487));if(d.status!==4&&(d.status=4,d.errorDigest=N,d.parentFlushed&&c.clientRenderedBoundaries.push(d)),typeof k=="object")for(var ae in k)delete k[ae]}}function wn(c,d,g){var k=c.blockedBoundary,x=c.blockedSegment;if(x!==null){if(x.status===6)return;x.status=3}if(x=xn(c.componentStack),k===null){if(d.status!==13&&d.status!==14){if(k=c.replay,k===null){At(d,g,x),ds(d,g);return}k.pendingTasks--,k.pendingTasks===0&&0<k.nodes.length&&(c=At(d,g,x),yt(d,null,k.nodes,k.slots,g,c)),d.pendingRootTasks--,d.pendingRootTasks===0&&Jn(d)}}else k.pendingTasks--,k.status!==4&&(k.status=4,c=At(d,g,x),k.status=4,k.errorDigest=c,ie(d,k),k.parentFlushed&&d.clientRenderedBoundaries.push(k)),k.fallbackAbortableTasks.forEach(function(N){return wn(N,d,g)}),k.fallbackAbortableTasks.clear();d.allPendingTasks--,d.allPendingTasks===0&&$s(d)}function br(c,d){try{var g=c.renderState,k=g.onHeaders;if(k){var x=g.headers;if(x){g.headers=null;var N=x.preconnects;if(x.fontPreloads&&(N&&(N+=", "),N+=x.fontPreloads),x.highImagePreloads&&(N&&(N+=", "),N+=x.highImagePreloads),!d){var H=g.styles.values(),D=H.next();e:for(;0<x.remainingCapacity&&!D.done;D=H.next())for(var F=D.value.sheets.values(),M=F.next();0<x.remainingCapacity&&!M.done;M=F.next()){var oe=M.value,ae=oe.props,we=ae.href,Ce=oe.props,ke=Br(Ce.href,"style",{crossOrigin:Ce.crossOrigin,integrity:Ce.integrity,nonce:Ce.nonce,type:Ce.type,fetchPriority:Ce.fetchPriority,referrerPolicy:Ce.referrerPolicy,media:Ce.media});if(0<=(x.remainingCapacity-=ke.length+2))g.resets.style[we]=Gt,N&&(N+=", "),N+=ke,g.resets.style[we]=typeof ae.crossOrigin=="string"||typeof ae.integrity=="string"?[ae.crossOrigin,ae.integrity]:Gt;else break e}}k(N?{Link:N}:{})}}}catch(Be){At(c,Be,{})}}function Jn(c){c.trackedPostpones===null&&br(c,!0),c.trackedPostpones===null&&Nr(c),c.onShellError=jn,c=c.onShellReady,c()}function $s(c){br(c,c.trackedPostpones===null?!0:c.completedRootSegment===null||c.completedRootSegment.status!==5),Nr(c),c=c.onAllReady,c()}function hi(c,d){if(d.chunks.length===0&&d.children.length===1&&d.children[0].boundary===null&&d.children[0].id===-1){var g=d.children[0];g.id=d.id,g.parentFlushed=!0,g.status===1&&hi(c,g)}else c.completedSegments.push(d)}function hl(c,d,g){if(d===null){if(g!==null&&g.parentFlushed){if(c.completedRootSegment!==null)throw Error(t(389));c.completedRootSegment=g}c.pendingRootTasks--,c.pendingRootTasks===0&&Jn(c)}else d.pendingTasks--,d.status!==4&&(d.pendingTasks===0?(d.status===0&&(d.status=1),g!==null&&g.parentFlushed&&g.status===1&&hi(d,g),d.parentFlushed&&c.completedBoundaries.push(d),d.status===1&&(d.fallbackAbortableTasks.forEach(wt,c),d.fallbackAbortableTasks.clear(),c.pendingRootTasks===0&&c.trackedPostpones===null&&d.contentPreamble!==null&&Nr(c))):g!==null&&g.parentFlushed&&g.status===1&&(hi(d,g),d.completedSegments.length===1&&d.parentFlushed&&c.partialBoundaries.push(d)));c.allPendingTasks--,c.allPendingTasks===0&&$s(c)}function ac(c){if(c.status!==14&&c.status!==13){var d=Es,g=qt.H;qt.H=fo;var k=qt.A;qt.A=Va;var x=ot;ot=c;var N=Fs;Fs=c.resumableState;try{var H=c.pingedTasks,D;for(D=0;D<H.length;D++){var F=H[D],M=c,oe=F.blockedSegment;if(oe===null){var ae=M;if(F.replay.pendingTasks!==0){vr(F.context);try{if(typeof F.replay.slots=="number"?v(ae,F,F.replay.slots,F.node,F.childIndex):E(ae,F),F.replay.pendingTasks===1&&0<F.replay.nodes.length)throw Error(t(488));F.replay.pendingTasks--,F.abortSet.delete(F),hl(ae,F.blockedBoundary,null)}catch(fn){ho();var we=fn===fs?oo():fn;if(typeof we=="object"&&we!==null&&typeof we.then=="function"){var Ce=F.ping;we.then(Ce,Ce),F.thenableState=Ei()}else{F.replay.pendingTasks--,F.abortSet.delete(F);var ke=xn(F.componentStack);M=void 0;var Be=ae,Nt=F.blockedBoundary,tt=ae.status===12?ae.fatalError:we,Ct=F.replay.nodes,Qt=F.replay.slots;M=At(Be,tt,ke),yt(Be,Nt,Ct,Qt,tt,M),ae.pendingRootTasks--,ae.pendingRootTasks===0&&Jn(ae),ae.allPendingTasks--,ae.allPendingTasks===0&&$s(ae)}}finally{}}}else if(ae=void 0,Be=oe,Be.status===0){Be.status=6,vr(F.context);var Ne=Be.children.length,Kt=Be.chunks.length;try{E(M,F),no(Be.chunks,M.renderState,Be.lastPushedText,Be.textEmbedded),F.abortSet.delete(F),Be.status=1,hl(M,F.blockedBoundary,Be)}catch(fn){ho(),Be.children.length=Ne,Be.chunks.length=Kt;var Ye=fn===fs?oo():M.status===12?M.fatalError:fn;if(typeof Ye=="object"&&Ye!==null&&typeof Ye.then=="function"){Be.status=0,F.thenableState=Ei();var qe=F.ping;Ye.then(qe,qe)}else{var er=xn(F.componentStack);F.abortSet.delete(F),Be.status=4;var We=F.blockedBoundary;ae=At(M,Ye,er),We===null?ds(M,Ye):(We.pendingTasks--,We.status!==4&&(We.status=4,We.errorDigest=ae,ie(M,We),We.parentFlushed&&M.clientRenderedBoundaries.push(We),M.pendingRootTasks===0&&M.trackedPostpones===null&&We.contentPreamble!==null&&Nr(M))),M.allPendingTasks--,M.allPendingTasks===0&&$s(M)}}finally{}}}H.splice(0,D),c.destination!==null&&Oi(c,c.destination)}catch(fn){At(c,fn,{}),ds(c,fn)}finally{Fs=N,qt.H=g,qt.A=k,g===fo&&vr(d),ot=x}}}function fl(c,d,g){d.preambleChildren.length&&g.push(d.preambleChildren);for(var k=!1,x=0;x<d.children.length;x++)k=ra(c,d.children[x],g)||k;return k}function ra(c,d,g){var k=d.boundary;if(k===null)return fl(c,d,g);var x=k.contentPreamble,N=k.fallbackPreamble;if(x===null||N===null)return!1;switch(k.status){case 1:if(Ar(c.renderState,x),d=k.completedSegments[0],!d)throw Error(t(391));return fl(c,d,g);case 5:if(c.trackedPostpones!==null)return!0;case 4:if(d.status===1)return Ar(c.renderState,N),fl(c,d,g);default:return!0}}function Nr(c){if(c.completedRootSegment&&c.completedPreambleSegments===null){var d=[],g=ra(c,c.completedRootSegment,d),k=c.renderState.preamble;(g===!1||k.headChunks&&k.bodyChunks)&&(c.completedPreambleSegments=d)}}function sa(c,d,g,k){switch(g.parentFlushed=!0,g.status){case 0:g.id=c.nextSegmentId++;case 5:return k=g.id,g.lastPushedText=!1,g.textEmbedded=!1,c=c.renderState,d.push('<template id="'),d.push(c.placeholderPrefix),c=k.toString(16),d.push(c),d.push('"></template>');case 1:g.status=2;var x=!0,N=g.chunks,H=0;g=g.children;for(var D=0;D<g.length;D++){for(x=g[D];H<x.index;H++)d.push(N[H]);x=go(c,d,x,k)}for(;H<N.length-1;H++)d.push(N[H]);return H<N.length&&(x=d.push(N[H])),x;default:throw Error(t(390))}}function go(c,d,g,k){var x=g.boundary;if(x===null)return sa(c,d,g,k);if(x.parentFlushed=!0,x.status===4){if(!c.renderState.generateStaticMarkup){var N=x.errorDigest;d.push("<!--$!-->"),d.push("<template"),N&&(d.push(' data-dgst="'),N=be(N),d.push(N),d.push('"')),d.push("></template>")}return sa(c,d,g,k),c.renderState.generateStaticMarkup?d=!0:((c=x.fallbackPreamble)&&zo(d,c),d=d.push("<!--/$-->")),d}if(x.status!==1)return x.status===0&&(x.rootSegmentID=c.nextSegmentId++),0<x.completedSegments.length&&c.partialBoundaries.push(x),Ii(d,c.renderState,x.rootSegmentID),k&&(x=x.fallbackState,x.styles.forEach(to,k),x.stylesheets.forEach(Na,k)),sa(c,d,g,k),d.push("<!--/$-->");if(x.byteSize>c.progressiveChunkSize)return x.rootSegmentID=c.nextSegmentId++,c.completedBoundaries.push(x),Ii(d,c.renderState,x.rootSegmentID),sa(c,d,g,k),d.push("<!--/$-->");if(k&&(g=x.contentState,g.styles.forEach(to,k),g.stylesheets.forEach(Na,k)),c.renderState.generateStaticMarkup||d.push("<!--$-->"),g=x.completedSegments,g.length!==1)throw Error(t(391));return go(c,d,g[0],k),c.renderState.generateStaticMarkup?d=!0:((c=x.contentPreamble)&&zo(d,c),d=d.push("<!--/$-->")),d}function yo(c,d,g,k){return Ts(d,c.renderState,g.parentFormatContext,g.id),go(c,d,g,k),ku(d,g.parentFormatContext)}function Ba(c,d,g){for(var k=g.completedSegments,x=0;x<k.length;x++)js(c,d,g,k[x]);k.length=0,Da(d,g.contentState,c.renderState),k=c.resumableState,c=c.renderState,x=g.rootSegmentID,g=g.contentState;var N=c.stylesToHoist;return c.stylesToHoist=!1,d.push(c.startInlineScript),N?(k.instructions&2)===0?(k.instructions|=10,d.push(`$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`)):(k.instructions&8)===0?(k.instructions|=8,d.push(`$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`)):d.push('$RR("'):(k.instructions&2)===0?(k.instructions|=2,d.push('$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RC("')):d.push('$RC("'),k=x.toString(16),d.push(c.boundaryPrefix),d.push(k),d.push('","'),d.push(c.segmentPrefix),d.push(k),N?(d.push('",'),si(d,g)):d.push('"'),g=d.push(")<\/script>"),xs(d,c)&&g}function js(c,d,g,k){if(k.status===2)return!0;var x=g.contentState,N=k.id;if(N===-1){if((k.id=g.rootSegmentID)===-1)throw Error(t(392));return yo(c,d,k,x)}return N===g.rootSegmentID?yo(c,d,k,x):(yo(c,d,k,x),g=c.resumableState,c=c.renderState,d.push(c.startInlineScript),(g.instructions&1)===0?(g.instructions|=1,d.push('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')):d.push('$RS("'),d.push(c.segmentPrefix),N=N.toString(16),d.push(N),d.push('","'),d.push(c.placeholderPrefix),d.push(N),d=d.push('")<\/script>'),d)}function Oi(c,d){try{if(!(0<c.pendingRootTasks)){var g,k=c.completedRootSegment;if(k!==null){if(k.status===5)return;var x=c.completedPreambleSegments;if(x===null)return;var N=c.renderState,H=N.preamble,D=H.htmlChunks,F=H.headChunks,M;if(D){for(M=0;M<D.length;M++)d.push(D[M]);if(F)for(M=0;M<F.length;M++)d.push(F[M]);else{var oe=Ot("head");d.push(oe),d.push(">")}}else if(F)for(M=0;M<F.length;M++)d.push(F[M]);var ae=N.charsetChunks;for(M=0;M<ae.length;M++)d.push(ae[M]);ae.length=0,N.preconnects.forEach(ar,d),N.preconnects.clear();var we=N.viewportChunks;for(M=0;M<we.length;M++)d.push(we[M]);we.length=0,N.fontPreloads.forEach(ar,d),N.fontPreloads.clear(),N.highImagePreloads.forEach(ar,d),N.highImagePreloads.clear(),N.styles.forEach(Cu,d);var Ce=N.importMapChunks;for(M=0;M<Ce.length;M++)d.push(Ce[M]);Ce.length=0,N.bootstrapScripts.forEach(ar,d),N.scripts.forEach(ar,d),N.scripts.clear(),N.bulkPreloads.forEach(ar,d),N.bulkPreloads.clear();var ke=N.hoistableChunks;for(M=0;M<ke.length;M++)d.push(ke[M]);for(N=ke.length=0;N<x.length;N++){var Be=x[N];for(H=0;H<Be.length;H++)go(c,d,Be[H],null)}var Nt=c.renderState.preamble,tt=Nt.headChunks;if(Nt.htmlChunks||tt){var Ct=us("head");d.push(Ct)}var Qt=Nt.bodyChunks;if(Qt)for(x=0;x<Qt.length;x++)d.push(Qt[x]);go(c,d,k,null),c.completedRootSegment=null,xs(d,c.renderState)}var Ne=c.renderState;k=0;var Kt=Ne.viewportChunks;for(k=0;k<Kt.length;k++)d.push(Kt[k]);Kt.length=0,Ne.preconnects.forEach(ar,d),Ne.preconnects.clear(),Ne.fontPreloads.forEach(ar,d),Ne.fontPreloads.clear(),Ne.highImagePreloads.forEach(ar,d),Ne.highImagePreloads.clear(),Ne.styles.forEach(_n,d),Ne.scripts.forEach(ar,d),Ne.scripts.clear(),Ne.bulkPreloads.forEach(ar,d),Ne.bulkPreloads.clear();var Ye=Ne.hoistableChunks;for(k=0;k<Ye.length;k++)d.push(Ye[k]);Ye.length=0;var qe=c.clientRenderedBoundaries;for(g=0;g<qe.length;g++){var er=qe[g];Ne=d;var We=c.resumableState,fn=c.renderState,Ni=er.rootSegmentID,qn=er.errorDigest;Ne.push(fn.startInlineScript),(We.instructions&4)===0?(We.instructions|=4,Ne.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("')):Ne.push('$RX("'),Ne.push(fn.boundaryPrefix);var fi=Ni.toString(16);if(Ne.push(fi),Ne.push('"'),qn){Ne.push(",");var cr=kn(qn||"");Ne.push(cr)}var Zt=Ne.push(")<\/script>");if(!Zt){c.destination=null,g++,qe.splice(0,g);return}}qe.splice(0,g);var Mn=c.completedBoundaries;for(g=0;g<Mn.length;g++)if(!Ba(c,d,Mn[g])){c.destination=null,g++,Mn.splice(0,g);return}Mn.splice(0,g);var Hn=c.partialBoundaries;for(g=0;g<Hn.length;g++){var Gr=Hn[g];e:{qe=c,er=d;var tr=Gr.completedSegments;for(Zt=0;Zt<tr.length;Zt++)if(!js(qe,er,Gr,tr[Zt])){Zt++,tr.splice(0,Zt);var wo=!1;break e}tr.splice(0,Zt),wo=Da(er,Gr.contentState,qe.renderState)}if(!wo){c.destination=null,g++,Hn.splice(0,g);return}}Hn.splice(0,g);var Qr=c.completedBoundaries;for(g=0;g<Qr.length;g++)if(!Ba(c,d,Qr[g])){c.destination=null,g++,Qr.splice(0,g);return}Qr.splice(0,g)}}finally{c.allPendingTasks===0&&c.pingedTasks.length===0&&c.clientRenderedBoundaries.length===0&&c.completedBoundaries.length===0&&(c.flushScheduled=!1,g=c.resumableState,g.hasBody&&(Hn=us("body"),d.push(Hn)),g.hasHtml&&(g=us("html"),d.push(g)),c.status=14,d.push(null),c.destination=null)}}function vo(c){if(c.flushScheduled===!1&&c.pingedTasks.length===0&&c.destination!==null){c.flushScheduled=!0;var d=c.destination;d?Oi(c,d):c.flushScheduled=!1}}function sh(c,d){if(c.status===13)c.status=14,d.destroy(c.fatalError);else if(c.status!==14&&c.destination===null){c.destination=d;try{Oi(c,d)}catch(g){At(c,g,{}),ds(c,g)}}}function Au(c,d){(c.status===11||c.status===10)&&(c.status=12);try{var g=c.abortableTasks;if(0<g.size){var k=d===void 0?Error(t(432)):typeof d=="object"&&d!==null&&typeof d.then=="function"?Error(t(530)):d;c.fatalError=k,g.forEach(function(x){return wn(x,c,k)}),g.clear()}c.destination!==null&&Oi(c,c.destination)}catch(x){At(c,x,{}),ds(c,x)}}function bo(){}function Fn(c,d,g,k){var x=!1,N=null,H="",D=!1;if(d=or(d?d.identifierPrefix:void 0),c=Ai(c,d,Fa(d,g),Dt(0,null,0),1/0,bo,void 0,function(){D=!0},void 0,void 0,void 0),c.flushScheduled=c.destination!==null,ac(c),c.status===10&&(c.status=11),c.trackedPostpones===null&&br(c,c.pendingRootTasks===0),Au(c,k),sh(c,{push:function(F){return F!==null&&(H+=F),!0},destroy:function(F){x=!0,N=F}}),x&&N!==k)throw N;if(!D)throw Error(t(426));return H}return Ih.renderToStaticMarkup=function(c,d){return Fn(c,d,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},Ih.renderToString=function(c,d){return Fn(c,d,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},Ih.version="19.1.0",Ih}var xh={};/**
 * @license React
 * react-dom-server.browser.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function QN(){if(Ob)return xh;Ob=1;var n=nl,e=Yb;function t(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),R=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),fe=Symbol.for("react.scope"),xe=Symbol.for("react.activity"),Ie=Symbol.for("react.legacy_hidden"),Pe=Symbol.for("react.memo_cache_sentinel"),Ue=Symbol.for("react.view_transition"),je=Symbol.iterator,Oe=Array.isArray;function q(u,h){var m=u.length&3,_=u.length-m,C=h;for(h=0;h<_;){var O=u.charCodeAt(h)&255|(u.charCodeAt(++h)&255)<<8|(u.charCodeAt(++h)&255)<<16|(u.charCodeAt(++h)&255)<<24;++h,O=3432918353*(O&65535)+((3432918353*(O>>>16)&65535)<<16)&4294967295,O=O<<15|O>>>17,O=461845907*(O&65535)+((461845907*(O>>>16)&65535)<<16)&4294967295,C^=O,C=C<<13|C>>>19,C=5*(C&65535)+((5*(C>>>16)&65535)<<16)&4294967295,C=(C&65535)+27492+(((C>>>16)+58964&65535)<<16)}switch(O=0,m){case 3:O^=(u.charCodeAt(h+2)&255)<<16;case 2:O^=(u.charCodeAt(h+1)&255)<<8;case 1:O^=u.charCodeAt(h)&255,O=3432918353*(O&65535)+((3432918353*(O>>>16)&65535)<<16)&4294967295,O=O<<15|O>>>17,C^=461845907*(O&65535)+((461845907*(O>>>16)&65535)<<16)&4294967295}return C^=u.length,C^=C>>>16,C=2246822507*(C&65535)+((2246822507*(C>>>16)&65535)<<16)&4294967295,C^=C>>>13,C=3266489909*(C&65535)+((3266489909*(C>>>16)&65535)<<16)&4294967295,(C^C>>>16)>>>0}var L=new MessageChannel,U=[];L.port1.onmessage=function(){var u=U.shift();u&&u()};function G(u){U.push(u),L.port2.postMessage(null)}function K(u){setTimeout(function(){throw u})}var Y=Promise,B=typeof queueMicrotask=="function"?queueMicrotask:function(u){Y.resolve(null).then(u).catch(K)},Rt=null,it=0;function re(u,h){if(h.byteLength!==0)if(2048<h.byteLength)0<it&&(u.enqueue(new Uint8Array(Rt.buffer,0,it)),Rt=new Uint8Array(2048),it=0),u.enqueue(h);else{var m=Rt.length-it;m<h.byteLength&&(m===0?u.enqueue(Rt):(Rt.set(h.subarray(0,m),it),u.enqueue(Rt),h=h.subarray(m)),Rt=new Uint8Array(2048),it=0),Rt.set(h,it),it+=h.byteLength}}function be(u,h){return re(u,h),!0}function ln(u){Rt&&0<it&&(u.enqueue(new Uint8Array(Rt.buffer,0,it)),Rt=null,it=0)}var vn=new TextEncoder;function ye(u){return vn.encode(u)}function se(u){return vn.encode(u)}function qt(u,h){typeof u.error=="function"?u.error(h):u.close()}var lt=Object.assign,xt=Object.prototype.hasOwnProperty,Ht=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gt={},Rr={};function Zn(u){return xt.call(Rr,u)?!0:xt.call(Gt,u)?!1:Ht.test(u)?Rr[u]=!0:(Gt[u]=!0,!1)}var or=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),pr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dt=/["'&<>]/;function Me(u){if(typeof u=="boolean"||typeof u=="number"||typeof u=="bigint")return""+u;u=""+u;var h=Dt.exec(u);if(h){var m="",_,C=0;for(_=h.index;_<u.length;_++){switch(u.charCodeAt(_)){case 34:h="&quot;";break;case 38:h="&amp;";break;case 39:h="&#x27;";break;case 60:h="&lt;";break;case 62:h="&gt;";break;default:continue}C!==_&&(m+=u.slice(C,_)),C=_+1,m+=h}u=C!==_?m+u.slice(C,_):m}return u}var Zi=/([A-Z])/g,Xn=/^ms-/,os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xt(u){return os.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var Vn=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xi=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ea={pending:!1,data:null,method:null,action:null},En=Xi.d;Xi.d={f:En.f,r:En.r,D:br,C:Jn,L:$s,m:hi,X:ac,S:hl,M:fl};var Mt=[];se('"></template>');var ct=se("<script>"),cn=se("<\/script>"),Aa=se('<script src="'),ei=se('<script type="module" src="'),mt=se('" nonce="'),Yt=se('" integrity="'),Er=se('" crossorigin="'),jr=se('" async=""><\/script>'),ti=/(<\/|<)(s)(cript)/gi;function Is(u,h,m,_){return""+h+(m==="s"?"\\u0073":"\\u0053")+_}var as=se('<script type="importmap">'),ni=se("<\/script>");function Yi(u,h,m,_,C,O){var j=h===void 0?ct:se('<script nonce="'+Me(h)+'">'),te=u.idPrefix;m=[];var z=u.bootstrapScriptContent,J=u.bootstrapScripts,ve=u.bootstrapModules;if(z!==void 0&&m.push(j,ye((""+z).replace(ti,Is)),cn),z=[],_!==void 0&&(z.push(as),z.push(ye((""+JSON.stringify(_)).replace(ti,Is))),z.push(ni)),_=C?{preconnects:"",fontPreloads:"",highImagePreloads:"",remainingCapacity:2+(typeof O=="number"?O:2e3)}:null,C={placeholderPrefix:se(te+"P:"),segmentPrefix:se(te+"S:"),boundaryPrefix:se(te+"B:"),startInlineScript:j,preamble:Ot(),externalRuntimeScript:null,bootstrapChunks:m,importMapChunks:z,onHeaders:C,headers:_,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:new Set,fontPreloads:new Set,highImagePreloads:new Set,styles:new Map,bootstrapScripts:new Set,scripts:new Set,bulkPreloads:new Set,preloads:{images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map},nonce:h,hoistableState:null,stylesToHoist:!1},J!==void 0)for(_=0;_<J.length;_++){var ue=J[_];te=j=void 0,z={rel:"preload",as:"script",fetchPriority:"low",nonce:h},typeof ue=="string"?z.href=O=ue:(z.href=O=ue.src,z.integrity=te=typeof ue.integrity=="string"?ue.integrity:void 0,z.crossOrigin=j=typeof ue=="string"||ue.crossOrigin==null?void 0:ue.crossOrigin==="use-credentials"?"use-credentials":""),ue=u;var Te=O;ue.scriptResources[Te]=null,ue.moduleScriptResources[Te]=null,ue=[],on(ue,z),C.bootstrapScripts.add(ue),m.push(Aa,ye(Me(O))),h&&m.push(mt,ye(Me(h))),typeof te=="string"&&m.push(Yt,ye(Me(te))),typeof j=="string"&&m.push(Er,ye(Me(j))),m.push(jr)}if(ve!==void 0)for(J=0;J<ve.length;J++)z=ve[J],j=O=void 0,te={rel:"modulepreload",fetchPriority:"low",nonce:h},typeof z=="string"?te.href=_=z:(te.href=_=z.src,te.integrity=j=typeof z.integrity=="string"?z.integrity:void 0,te.crossOrigin=O=typeof z=="string"||z.crossOrigin==null?void 0:z.crossOrigin==="use-credentials"?"use-credentials":""),z=u,ue=_,z.scriptResources[ue]=null,z.moduleScriptResources[ue]=null,z=[],on(z,te),C.bootstrapScripts.add(z),m.push(ei,ye(Me(_))),h&&m.push(mt,ye(Me(h))),typeof j=="string"&&m.push(Yt,ye(Me(j))),typeof O=="string"&&m.push(Er,ye(Me(O))),m.push(jr);return C}function ri(u,h,m,_,C){return{idPrefix:u===void 0?"":u,nextFormID:0,streamingFormat:0,bootstrapScriptContent:m,bootstrapScripts:_,bootstrapModules:C,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function Ot(){return{htmlChunks:null,headChunks:null,bodyChunks:null,contribution:0}}function An(u,h,m){return{insertionMode:u,selectedValue:h,tagScope:m}}function Ji(u){return An(u==="http://www.w3.org/2000/svg"?4:u==="http://www.w3.org/1998/Math/MathML"?5:0,null,0)}function us(u,h,m){switch(h){case"noscript":return An(2,null,u.tagScope|1);case"select":return An(2,m.value!=null?m.value:m.defaultValue,u.tagScope);case"svg":return An(4,null,u.tagScope);case"picture":return An(2,null,u.tagScope|2);case"math":return An(5,null,u.tagScope);case"foreignObject":return An(2,null,u.tagScope);case"table":return An(6,null,u.tagScope);case"thead":case"tbody":case"tfoot":return An(7,null,u.tagScope);case"colgroup":return An(9,null,u.tagScope);case"tr":return An(8,null,u.tagScope);case"head":if(2>u.insertionMode)return An(3,null,u.tagScope);break;case"html":if(u.insertionMode===0)return An(1,null,u.tagScope)}return 6<=u.insertionMode||2>u.insertionMode?An(2,null,u.tagScope):u}var Ar=se("<!-- -->");function xs(u,h,m,_){return h===""?_:(_&&u.push(Ar),u.push(ye(Me(h))),!0)}var Ii=new Map,zo=se(' style="'),Ts=se(":"),ku=se(";");function eo(u,h){if(typeof h!="object")throw Error(t(62));var m=!0,_;for(_ in h)if(xt.call(h,_)){var C=h[_];if(C!=null&&typeof C!="boolean"&&C!==""){if(_.indexOf("--")===0){var O=ye(Me(_));C=ye(Me((""+C).trim()))}else O=Ii.get(_),O===void 0&&(O=se(Me(_.replace(Zi,"-$1").toLowerCase().replace(Xn,"-ms-"))),Ii.set(_,O)),C=typeof C=="number"?C===0||or.has(_)?ye(""+C):ye(C+"px"):ye(Me((""+C).trim()));m?(m=!1,u.push(zo,O,Ts,C)):u.push(ku,O,Ts,C)}}m||u.push(bn)}var kn=se(" "),Dn=se('="'),bn=se('"'),rn=se('=""');function Ps(u,h,m){m&&typeof m!="function"&&typeof m!="symbol"&&u.push(kn,ye(h),rn)}function sn(u,h,m){typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&u.push(kn,ye(h),Dn,ye(Me(m)),bn)}var Rs=se(Me("javascript:throw new Error('React form unexpectedly submitted.')")),Da=se('<input type="hidden"');function ar(u,h){this.push(Da),Yn(u),sn(this,"name",h),sn(this,"value",u),this.push(si)}function Yn(u){if(typeof u!="string")throw Error(t(480))}function _u(u,h){if(typeof h.$$FORM_ACTION=="function"){var m=u.nextFormID++;u=u.idPrefix+m;try{var _=h.$$FORM_ACTION(u);if(_){var C=_.data;C!=null&&C.forEach(Yn)}return _}catch(O){if(typeof O=="object"&&O!==null&&typeof O.then=="function")throw O}}return null}function Cu(u,h,m,_,C,O,j,te){var z=null;if(typeof _=="function"){var J=_u(h,_);J!==null?(te=J.name,_=J.action||"",C=J.encType,O=J.method,j=J.target,z=J.data):(u.push(kn,ye("formAction"),Dn,Rs,bn),j=O=C=_=te=null,Go(h,m))}return te!=null&&gt(u,"name",te),_!=null&&gt(u,"formAction",_),C!=null&&gt(u,"formEncType",C),O!=null&&gt(u,"formMethod",O),j!=null&&gt(u,"formTarget",j),z}function gt(u,h,m){switch(h){case"className":sn(u,"class",m);break;case"tabIndex":sn(u,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":sn(u,h,m);break;case"style":eo(u,m);break;case"src":case"href":if(m==="")break;case"action":case"formAction":if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean")break;m=Xt(""+m),u.push(kn,ye(h),Dn,ye(Me(m)),bn);break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":Ps(u,h.toLowerCase(),m);break;case"xlinkHref":if(typeof m=="function"||typeof m=="symbol"||typeof m=="boolean")break;m=Xt(""+m),u.push(kn,ye("xlink:href"),Dn,ye(Me(m)),bn);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":typeof m!="function"&&typeof m!="symbol"&&u.push(kn,ye(h),Dn,ye(Me(m)),bn);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"&&u.push(kn,ye(h),rn);break;case"capture":case"download":m===!0?u.push(kn,ye(h),rn):m!==!1&&typeof m!="function"&&typeof m!="symbol"&&u.push(kn,ye(h),Dn,ye(Me(m)),bn);break;case"cols":case"rows":case"size":case"span":typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m&&u.push(kn,ye(h),Dn,ye(Me(m)),bn);break;case"rowSpan":case"start":typeof m=="function"||typeof m=="symbol"||isNaN(m)||u.push(kn,ye(h),Dn,ye(Me(m)),bn);break;case"xlinkActuate":sn(u,"xlink:actuate",m);break;case"xlinkArcrole":sn(u,"xlink:arcrole",m);break;case"xlinkRole":sn(u,"xlink:role",m);break;case"xlinkShow":sn(u,"xlink:show",m);break;case"xlinkTitle":sn(u,"xlink:title",m);break;case"xlinkType":sn(u,"xlink:type",m);break;case"xmlBase":sn(u,"xml:base",m);break;case"xmlLang":sn(u,"xml:lang",m);break;case"xmlSpace":sn(u,"xml:space",m);break;default:if((!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=pr.get(h)||h,Zn(h))){switch(typeof m){case"function":case"symbol":return;case"boolean":var _=h.toLowerCase().slice(0,5);if(_!=="data-"&&_!=="aria-")return}u.push(kn,ye(h),Dn,ye(Me(m)),bn)}}}var _n=se(">"),si=se("/>");function Cn(u,h,m){if(h!=null){if(m!=null)throw Error(t(60));if(typeof h!="object"||!("__html"in h))throw Error(t(61));h=h.__html,h!=null&&u.push(ye(""+h))}}function ls(u){var h="";return n.Children.forEach(u,function(m){m!=null&&(h+=m)}),h}var Wo=se(' selected=""'),Iu=se(`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`);function Go(u,h){(u.instructions&16)===0&&(u.instructions|=16,h.bootstrapChunks.unshift(h.startInlineScript,Iu,cn))}var Oa=se("<!--F!-->"),xu=se("<!--F-->");function on(u,h){u.push(Jt("link"));for(var m in h)if(xt.call(h,m)){var _=h[m];if(_!=null)switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"link"));default:gt(u,m,_)}}return u.push(si),null}var Tu=/(<\/|<)(s)(tyle)/gi;function mr(u,h,m,_){return""+h+(m==="s"?"\\73 ":"\\53 ")+_}function Br(u,h,m){u.push(Jt(m));for(var _ in h)if(xt.call(h,_)){var C=h[_];if(C!=null)switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,m));default:gt(u,_,C)}}return u.push(si),null}function xi(u,h){u.push(Jt("title"));var m=null,_=null,C;for(C in h)if(xt.call(h,C)){var O=h[C];if(O!=null)switch(C){case"children":m=O;break;case"dangerouslySetInnerHTML":_=O;break;default:gt(u,C,O)}}return u.push(_n),h=Array.isArray(m)?2>m.length?m[0]:null:m,typeof h!="function"&&typeof h!="symbol"&&h!==null&&h!==void 0&&u.push(ye(Me(""+h))),Cn(u,_,m),u.push(yr("title")),null}function qr(u,h){u.push(Jt("script"));var m=null,_=null,C;for(C in h)if(xt.call(h,C)){var O=h[C];if(O!=null)switch(C){case"children":m=O;break;case"dangerouslySetInnerHTML":_=O;break;default:gt(u,C,O)}}return u.push(_n),Cn(u,_,m),typeof m=="string"&&u.push(ye((""+m).replace(ti,Is))),u.push(yr("script")),null}function gr(u,h,m){u.push(Jt(m));var _=m=null,C;for(C in h)if(xt.call(h,C)){var O=h[C];if(O!=null)switch(C){case"children":m=O;break;case"dangerouslySetInnerHTML":_=O;break;default:gt(u,C,O)}}return u.push(_n),Cn(u,_,m),m}function cs(u,h,m){u.push(Jt(m));var _=m=null,C;for(C in h)if(xt.call(h,C)){var O=h[C];if(O!=null)switch(C){case"children":m=O;break;case"dangerouslySetInnerHTML":_=O;break;default:gt(u,C,O)}}return u.push(_n),Cn(u,_,m),typeof m=="string"?(u.push(ye(Me(m))),null):m}var to=se(`
`),Na=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Fa=new Map;function Jt(u){var h=Fa.get(u);if(h===void 0){if(!Na.test(u))throw Error(t(65,u));h=se("<"+u),Fa.set(u,h)}return h}var no=se("<!DOCTYPE html>");function Qo(u,h,m,_,C,O,j,te,z,J){switch(h){case"div":case"span":case"svg":case"path":break;case"a":u.push(Jt("a"));var ve=null,ue=null,Te;for(Te in m)if(xt.call(m,Te)){var Ee=m[Te];if(Ee!=null)switch(Te){case"children":ve=Ee;break;case"dangerouslySetInnerHTML":ue=Ee;break;case"href":Ee===""?sn(u,"href",""):gt(u,Te,Ee);break;default:gt(u,Te,Ee)}}if(u.push(_n),Cn(u,ue,ve),typeof ve=="string"){u.push(ye(Me(ve)));var Ae=null}else Ae=ve;return Ae;case"g":case"p":case"li":break;case"select":u.push(Jt("select"));var Ge=null,Ft=null,pn;for(pn in m)if(xt.call(m,pn)){var nt=m[pn];if(nt!=null)switch(pn){case"children":Ge=nt;break;case"dangerouslySetInnerHTML":Ft=nt;break;case"defaultValue":case"value":break;default:gt(u,pn,nt)}}return u.push(_n),Cn(u,Ft,Ge),Ge;case"option":var tn=te.selectedValue;u.push(Jt("option"));var un=null,kr=null,Sn=null,vi=null,Mr;for(Mr in m)if(xt.call(m,Mr)){var ft=m[Mr];if(ft!=null)switch(Mr){case"children":un=ft;break;case"selected":Sn=ft;break;case"dangerouslySetInnerHTML":vi=ft;break;case"value":kr=ft;default:gt(u,Mr,ft)}}if(tn!=null){var mn=kr!==null?""+kr:ls(un);if(Oe(tn)){for(var nn=0;nn<tn.length;nn++)if(""+tn[nn]===mn){u.push(Wo);break}}else""+tn===mn&&u.push(Wo)}else Sn&&u.push(Wo);return u.push(_n),Cn(u,vi,un),un;case"textarea":u.push(Jt("textarea"));var zt=null,ji=null,Ss=null,_r;for(_r in m)if(xt.call(m,_r)){var Eo=m[_r];if(Eo!=null)switch(_r){case"children":Ss=Eo;break;case"value":zt=Eo;break;case"defaultValue":ji=Eo;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:gt(u,_r,Eo)}}if(zt===null&&ji!==null&&(zt=ji),u.push(_n),Ss!=null){if(zt!=null)throw Error(t(92));if(Oe(Ss)){if(1<Ss.length)throw Error(t(93));zt=""+Ss[0]}zt=""+Ss}return typeof zt=="string"&&zt[0]===`
`&&u.push(to),zt!==null&&u.push(ye(Me(""+zt))),null;case"input":u.push(Jt("input"));var Tn=null,hc=null,uf=null,lf=null,cf=null,gl=null,ih=null,Ja=null,fc=null,yl;for(yl in m)if(xt.call(m,yl)){var bi=m[yl];if(bi!=null)switch(yl){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"name":Tn=bi;break;case"formAction":hc=bi;break;case"formEncType":uf=bi;break;case"formMethod":lf=bi;break;case"formTarget":cf=bi;break;case"defaultChecked":fc=bi;break;case"defaultValue":ih=bi;break;case"checked":Ja=bi;break;case"value":gl=bi;break;default:gt(u,yl,bi)}}var Ou=Cu(u,_,C,hc,uf,lf,cf,Tn);return Ja!==null?Ps(u,"checked",Ja):fc!==null&&Ps(u,"checked",fc),gl!==null?gt(u,"value",gl):ih!==null&&gt(u,"value",ih),u.push(si),Ou!=null&&Ou.forEach(ar,u),null;case"button":u.push(Jt("button"));var vl=null,hf=null,dc=null,oh=null,ff=null,df=null,pf=null,Nu;for(Nu in m)if(xt.call(m,Nu)){var wi=m[Nu];if(wi!=null)switch(Nu){case"children":vl=wi;break;case"dangerouslySetInnerHTML":hf=wi;break;case"name":dc=wi;break;case"formAction":oh=wi;break;case"formEncType":ff=wi;break;case"formMethod":df=wi;break;case"formTarget":pf=wi;break;default:gt(u,Nu,wi)}}var mf=Cu(u,_,C,oh,ff,df,pf,dc);if(u.push(_n),mf!=null&&mf.forEach(ar,u),Cn(u,hf,vl),typeof vl=="string"){u.push(ye(Me(vl)));var pc=null}else pc=vl;return pc;case"form":u.push(Jt("form"));var Fu=null,ah=null,fa=null,da=null,bl=null,Mu=null,Lu;for(Lu in m)if(xt.call(m,Lu)){var pa=m[Lu];if(pa!=null)switch(Lu){case"children":Fu=pa;break;case"dangerouslySetInnerHTML":ah=pa;break;case"action":fa=pa;break;case"encType":da=pa;break;case"method":bl=pa;break;case"target":Mu=pa;break;default:gt(u,Lu,pa)}}var mc=null,uh=null;if(typeof fa=="function"){var Ao=_u(_,fa);Ao!==null?(fa=Ao.action||"",da=Ao.encType,bl=Ao.method,Mu=Ao.target,mc=Ao.data,uh=Ao.name):(u.push(kn,ye("action"),Dn,Rs,bn),Mu=bl=da=fa=null,Go(_,C))}if(fa!=null&&gt(u,"action",fa),da!=null&&gt(u,"encType",da),bl!=null&&gt(u,"method",bl),Mu!=null&&gt(u,"target",Mu),u.push(_n),uh!==null&&(u.push(Da),sn(u,"name",uh),u.push(si),mc!=null&&mc.forEach(ar,u)),Cn(u,ah,Fu),typeof Fu=="string"){u.push(ye(Me(Fu)));var lh=null}else lh=Fu;return lh;case"menuitem":u.push(Jt("menuitem"));for(var Uu in m)if(xt.call(m,Uu)){var gf=m[Uu];if(gf!=null)switch(Uu){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:gt(u,Uu,gf)}}return u.push(_n),null;case"object":u.push(Jt("object"));var eu=null,rt=null,wl;for(wl in m)if(xt.call(m,wl)){var Sl=m[wl];if(Sl!=null)switch(wl){case"children":eu=Sl;break;case"dangerouslySetInnerHTML":rt=Sl;break;case"data":var Vu=Xt(""+Sl);if(Vu==="")break;u.push(kn,ye("data"),Dn,ye(Me(Vu)),bn);break;default:gt(u,wl,Sl)}}if(u.push(_n),Cn(u,rt,eu),typeof eu=="string"){u.push(ye(Me(eu)));var ch=null}else ch=eu;return ch;case"title":if(te.insertionMode===4||te.tagScope&1||m.itemProp!=null)var hh=xi(u,m);else J?hh=null:(xi(C.hoistableChunks,m),hh=void 0);return hh;case"link":var op=m.rel,zn=m.href,gc=m.precedence;if(te.insertionMode===4||te.tagScope&1||m.itemProp!=null||typeof op!="string"||typeof zn!="string"||zn===""){on(u,m);var ma=null}else if(m.rel==="stylesheet")if(typeof gc!="string"||m.disabled!=null||m.onLoad||m.onError)ma=on(u,m);else{var ga=C.styles.get(gc),kl=_.styleResources.hasOwnProperty(zn)?_.styleResources[zn]:void 0;if(kl!==null){_.styleResources[zn]=null,ga||(ga={precedence:ye(Me(gc)),rules:[],hrefs:[],sheets:new Map},C.styles.set(gc,ga));var _l={state:0,props:lt({},m,{"data-precedence":m.precedence,precedence:null})};if(kl){kl.length===2&&ra(_l.props,kl);var Lr=C.preloads.stylesheets.get(zn);Lr&&0<Lr.length?Lr.length=0:_l.state=1}ga.sheets.set(zn,_l),j&&j.stylesheets.add(_l)}else if(ga){var Do=ga.sheets.get(zn);Do&&j&&j.stylesheets.add(Do)}z&&u.push(Ar),ma=null}else m.onLoad||m.onError?ma=on(u,m):(z&&u.push(Ar),ma=J?null:on(C.hoistableChunks,m));return ma;case"script":var Cl=m.async;if(typeof m.src!="string"||!m.src||!Cl||typeof Cl=="function"||typeof Cl=="symbol"||m.onLoad||m.onError||te.insertionMode===4||te.tagScope&1||m.itemProp!=null)var fh=qr(u,m);else{var tu=m.src;if(m.type==="module")var Il=_.moduleScriptResources,yc=C.preloads.moduleScripts;else Il=_.scriptResources,yc=C.preloads.scripts;var xl=Il.hasOwnProperty(tu)?Il[tu]:void 0;if(xl!==null){Il[tu]=null;var Tl=m;if(xl){xl.length===2&&(Tl=lt({},m),ra(Tl,xl));var vc=yc.get(tu);vc&&(vc.length=0)}var Oo=[];C.scripts.add(Oo),qr(Oo,Tl)}z&&u.push(Ar),fh=null}return fh;case"style":var bc=m.precedence,Yr=m.href;if(te.insertionMode===4||te.tagScope&1||m.itemProp!=null||typeof bc!="string"||typeof Yr!="string"||Yr===""){u.push(Jt("style"));var nu=null,dh=null,ru;for(ru in m)if(xt.call(m,ru)){var wc=m[ru];if(wc!=null)switch(ru){case"children":nu=wc;break;case"dangerouslySetInnerHTML":dh=wc;break;default:gt(u,ru,wc)}}u.push(_n);var Pl=Array.isArray(nu)?2>nu.length?nu[0]:null:nu;typeof Pl!="function"&&typeof Pl!="symbol"&&Pl!==null&&Pl!==void 0&&u.push(ye((""+Pl).replace(Tu,mr))),Cn(u,dh,nu),u.push(yr("style"));var yf=null}else{var ya=C.styles.get(bc);if((_.styleResources.hasOwnProperty(Yr)?_.styleResources[Yr]:void 0)!==null){_.styleResources[Yr]=null,ya?ya.hrefs.push(ye(Me(Yr))):(ya={precedence:ye(Me(bc)),rules:[],hrefs:[ye(Me(Yr))],sheets:new Map},C.styles.set(bc,ya));var ph=ya.rules,$u=null,mh=null,Rl;for(Rl in m)if(xt.call(m,Rl)){var Cr=m[Rl];if(Cr!=null)switch(Rl){case"children":$u=Cr;break;case"dangerouslySetInnerHTML":mh=Cr}}var Jr=Array.isArray($u)?2>$u.length?$u[0]:null:$u;typeof Jr!="function"&&typeof Jr!="symbol"&&Jr!==null&&Jr!==void 0&&ph.push(ye((""+Jr).replace(Tu,mr))),Cn(ph,mh,$u)}ya&&j&&j.styles.add(ya),z&&u.push(Ar),yf=void 0}return yf;case"meta":if(te.insertionMode===4||te.tagScope&1||m.itemProp!=null)var vf=Br(u,m,"meta");else z&&u.push(Ar),vf=J?null:typeof m.charSet=="string"?Br(C.charsetChunks,m,"meta"):m.name==="viewport"?Br(C.viewportChunks,m,"meta"):Br(C.hoistableChunks,m,"meta");return vf;case"listing":case"pre":u.push(Jt(h));var El=null,va=null,Bi;for(Bi in m)if(xt.call(m,Bi)){var Al=m[Bi];if(Al!=null)switch(Bi){case"children":El=Al;break;case"dangerouslySetInnerHTML":va=Al;break;default:gt(u,Bi,Al)}}if(u.push(_n),va!=null){if(El!=null)throw Error(t(60));if(typeof va!="object"||!("__html"in va))throw Error(t(61));var su=va.__html;su!=null&&(typeof su=="string"&&0<su.length&&su[0]===`
`?u.push(to,ye(su)):u.push(ye(""+su)))}return typeof El=="string"&&El[0]===`
`&&u.push(to),El;case"img":var Ir=m.src,nr=m.srcSet;if(!(m.loading==="lazy"||!Ir&&!nr||typeof Ir!="string"&&Ir!=null||typeof nr!="string"&&nr!=null)&&m.fetchPriority!=="low"&&!(te.tagScope&3)&&(typeof Ir!="string"||Ir[4]!==":"||Ir[0]!=="d"&&Ir[0]!=="D"||Ir[1]!=="a"&&Ir[1]!=="A"||Ir[2]!=="t"&&Ir[2]!=="T"||Ir[3]!=="a"&&Ir[3]!=="A")&&(typeof nr!="string"||nr[4]!==":"||nr[0]!=="d"&&nr[0]!=="D"||nr[1]!=="a"&&nr[1]!=="A"||nr[2]!=="t"&&nr[2]!=="T"||nr[3]!=="a"&&nr[3]!=="A")){var iu=typeof m.sizes=="string"?m.sizes:void 0,qi=nr?nr+`
`+(iu||""):Ir,gh=C.preloads.images,ba=gh.get(qi);if(ba)(m.fetchPriority==="high"||10>C.highImagePreloads.size)&&(gh.delete(qi),C.highImagePreloads.add(ba));else if(!_.imageResources.hasOwnProperty(qi)){_.imageResources[qi]=Mt;var Sc=m.crossOrigin,Dl=typeof Sc=="string"?Sc==="use-credentials"?Sc:"":void 0,wa=C.headers,ju;wa&&0<wa.remainingCapacity&&typeof m.srcSet!="string"&&(m.fetchPriority==="high"||500>wa.highImagePreloads.length)&&(ju=Nr(Ir,"image",{imageSrcSet:m.srcSet,imageSizes:m.sizes,crossOrigin:Dl,integrity:m.integrity,nonce:m.nonce,type:m.type,fetchPriority:m.fetchPriority,referrerPolicy:m.refererPolicy}),0<=(wa.remainingCapacity-=ju.length+2))?(C.resets.image[qi]=Mt,wa.highImagePreloads&&(wa.highImagePreloads+=", "),wa.highImagePreloads+=ju):(ba=[],on(ba,{rel:"preload",as:"image",href:nr?void 0:Ir,imageSrcSet:nr,imageSizes:iu,crossOrigin:Dl,integrity:m.integrity,type:m.type,fetchPriority:m.fetchPriority,referrerPolicy:m.referrerPolicy}),m.fetchPriority==="high"||10>C.highImagePreloads.size?C.highImagePreloads.add(ba):(C.bulkPreloads.add(ba),gh.set(qi,ba)))}}return Br(u,m,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return Br(u,m,h);case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"head":if(2>te.insertionMode){var Ol=O||C.preamble;if(Ol.headChunks)throw Error(t(545,"`<head>`"));Ol.headChunks=[];var Nl=gr(Ol.headChunks,m,"head")}else Nl=cs(u,m,"head");return Nl;case"body":if(2>te.insertionMode){var yh=O||C.preamble;if(yh.bodyChunks)throw Error(t(545,"`<body>`"));yh.bodyChunks=[];var vh=gr(yh.bodyChunks,m,"body")}else vh=cs(u,m,"body");return vh;case"html":if(te.insertionMode===0){var Bu=O||C.preamble;if(Bu.htmlChunks)throw Error(t(545,"`<html>`"));Bu.htmlChunks=[no];var bh=gr(Bu.htmlChunks,m,"html")}else bh=cs(u,m,"html");return bh;default:if(h.indexOf("-")!==-1){u.push(Jt(h));var Fl=null,bf=null,ou;for(ou in m)if(xt.call(m,ou)){var Wn=m[ou];if(Wn!=null){var wh=ou;switch(ou){case"children":Fl=Wn;break;case"dangerouslySetInnerHTML":bf=Wn;break;case"style":eo(u,Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":wh="class";default:if(Zn(ou)&&typeof Wn!="function"&&typeof Wn!="symbol"&&Wn!==!1){if(Wn===!0)Wn="";else if(typeof Wn=="object")continue;u.push(kn,ye(wh),Dn,ye(Me(Wn)),bn)}}}}return u.push(_n),Cn(u,bf,Fl),Fl}}return cs(u,m,h)}var Ko=new Map;function yr(u){var h=Ko.get(u);return h===void 0&&(h=se("</"+u+">"),Ko.set(u,h)),h}function ro(u,h){u=u.preamble,u.htmlChunks===null&&h.htmlChunks&&(u.htmlChunks=h.htmlChunks,h.contribution|=1),u.headChunks===null&&h.headChunks&&(u.headChunks=h.headChunks,h.contribution|=4),u.bodyChunks===null&&h.bodyChunks&&(u.bodyChunks=h.bodyChunks,h.contribution|=2)}function Es(u,h){h=h.bootstrapChunks;for(var m=0;m<h.length-1;m++)re(u,h[m]);return m<h.length?(m=h[m],h.length=0,be(u,m)):!0}var Ti=se('<template id="'),Pi=se('"></template>'),Ma=se("<!--$-->"),As=se('<!--$?--><template id="'),Dr=se('"></template>'),vr=se("<!--$!-->"),Hr=se("<!--/$-->"),Pu=se("<template"),Tt=se('"'),hs=se(' data-dgst="');se(' data-msg="'),se(' data-stck="'),se(' data-cstck="');var ii=se("></template>");function Or(u,h,m){if(re(u,As),m===null)throw Error(t(395));return re(u,h.boundaryPrefix),re(u,ye(m.toString(16))),be(u,Dr)}var Ru=se("<!--"),fs=se("-->");function so(u,h){h=h.contribution,h!==0&&(re(u,Ru),re(u,ye(""+h)),re(u,fs))}var Eu=se('<div hidden id="'),io=se('">'),oo=se("</div>"),Ri=se('<svg aria-hidden="true" style="display:none" id="'),Ds=se('">'),zr=se("</svg>"),Zo=se('<math aria-hidden="true" style="display:none" id="'),ao=se('">'),Os=se("</math>"),Xo=se('<table hidden id="'),Et=se('">'),uo=se("</table>"),ur=se('<table hidden><tbody id="'),lo=se('">'),co=se("</tbody></table>"),Ns=se('<table hidden><tr id="'),oi=se('">'),ai=se("</tr></table>"),et=se('<table hidden><colgroup id="'),ht=se('">'),Wr=se("</colgroup></table>");function Yo(u,h,m,_){switch(m.insertionMode){case 0:case 1:case 3:case 2:return re(u,Eu),re(u,h.segmentPrefix),re(u,ye(_.toString(16))),be(u,io);case 4:return re(u,Ri),re(u,h.segmentPrefix),re(u,ye(_.toString(16))),be(u,Ds);case 5:return re(u,Zo),re(u,h.segmentPrefix),re(u,ye(_.toString(16))),be(u,ao);case 6:return re(u,Xo),re(u,h.segmentPrefix),re(u,ye(_.toString(16))),be(u,Et);case 7:return re(u,ur),re(u,h.segmentPrefix),re(u,ye(_.toString(16))),be(u,lo);case 8:return re(u,Ns),re(u,h.segmentPrefix),re(u,ye(_.toString(16))),be(u,oi);case 9:return re(u,et),re(u,h.segmentPrefix),re(u,ye(_.toString(16))),be(u,ht);default:throw Error(t(397))}}function Lt(u,h){switch(h.insertionMode){case 0:case 1:case 3:case 2:return be(u,oo);case 4:return be(u,zr);case 5:return be(u,Os);case 6:return be(u,uo);case 7:return be(u,co);case 8:return be(u,ai);case 9:return be(u,Wr);default:throw Error(t(397))}}var Ei=se('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),ho=se('$RS("'),La=se('","'),Jo=se('")<\/script>');se('<template data-rsi="" data-sid="'),se('" data-pid="');var Ua=se('$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RC("'),an=se('$RC("'),ea=se(`$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`),$n=se(`$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`),ta=se('$RR("'),na=se('","'),On=se('",'),ui=se('"'),fo=se(")<\/script>");se('<template data-rci="" data-bid="'),se('<template data-rri="" data-bid="'),se('" data-sid="'),se('" data-sty="');var Fs=se('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("'),Va=se('$RX("'),li=se('"'),$a=se(","),hn=se(")<\/script>");se('<template data-rxi="" data-bid="'),se('" data-dgst="'),se('" data-msg="'),se('" data-stck="'),se('" data-cstck="');var ci=/[<\u2028\u2029]/g;function Nn(u){return JSON.stringify(u).replace(ci,function(h){switch(h){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var ja=/[&><\u2028\u2029]/g;function Ms(u){return JSON.stringify(u).replace(ja,function(h){switch(h){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var jn=se('<style media="not all" data-precedence="'),po=se('" data-href="'),Ai=se('">'),ot=se("</style>"),lr=!1,Bn=!0;function Di(u){var h=u.rules,m=u.hrefs,_=0;if(m.length){for(re(this,jn),re(this,u.precedence),re(this,po);_<m.length-1;_++)re(this,m[_]),re(this,Vs);for(re(this,m[_]),re(this,Ai),_=0;_<h.length;_++)re(this,h[_]);Bn=be(this,ot),lr=!0,h.length=0,m.length=0}}function mo(u){return u.state!==2?lr=!0:!1}function Ls(u,h,m){return lr=!1,Bn=!0,h.styles.forEach(Di,u),h.stylesheets.forEach(mo),lr&&(m.stylesToHoist=!0),Bn}function In(u){for(var h=0;h<u.length;h++)re(this,u[h]);u.length=0}var xn=[];function At(u){on(xn,u.props);for(var h=0;h<xn.length;h++)re(this,xn[h]);xn.length=0,u.state=2}var ds=se('<style data-precedence="'),Us=se('" data-href="'),Vs=se(" "),l=se('">'),v=se("</style>");function S(u){var h=0<u.sheets.size;u.sheets.forEach(At,this),u.sheets.clear();var m=u.rules,_=u.hrefs;if(!h||_.length){if(re(this,ds),re(this,u.precedence),u=0,_.length){for(re(this,Us);u<_.length-1;u++)re(this,_[u]),re(this,Vs);re(this,_[u])}for(re(this,l),u=0;u<m.length;u++)re(this,m[u]);re(this,v),m.length=0,_.length=0}}function E(u){if(u.state===0){u.state=1;var h=u.props;for(on(xn,{rel:"preload",as:"style",href:u.props.href,crossOrigin:h.crossOrigin,fetchPriority:h.fetchPriority,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy}),u=0;u<xn.length;u++)re(this,xn[u]);xn.length=0}}function X(u){u.sheets.forEach(E,this),u.sheets.clear()}var ie=se("["),Se=se(",["),bt=se(","),_t=se("]");function wt(u,h){re(u,ie);var m=ie;h.stylesheets.forEach(function(_){if(_.state!==2)if(_.state===3)re(u,m),re(u,ye(Ms(""+_.props.href))),re(u,_t),m=Se;else{re(u,m);var C=_.props["data-precedence"],O=_.props,j=Xt(""+_.props.href);re(u,ye(Ms(j))),C=""+C,re(u,bt),re(u,ye(Ms(C)));for(var te in O)if(xt.call(O,te)&&(C=O[te],C!=null))switch(te){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"link"));default:yt(u,te,C)}re(u,_t),m=Se,_.state=3}}),re(u,_t)}function yt(u,h,m){var _=h.toLowerCase();switch(typeof m){case"function":case"symbol":return}switch(h){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":_="class",h=""+m;break;case"hidden":if(m===!1)return;h="";break;case"src":case"href":m=Xt(m),h=""+m;break;default:if(2<h.length&&(h[0]==="o"||h[0]==="O")&&(h[1]==="n"||h[1]==="N")||!Zn(h))return;h=""+m}re(u,bt),re(u,ye(Ms(_))),re(u,bt),re(u,ye(Ms(h)))}function wn(){return{styles:new Set,stylesheets:new Set}}function br(u){var h=hr||null;if(h){var m=h.resumableState,_=h.renderState;if(typeof u=="string"&&u){if(!m.dnsResources.hasOwnProperty(u)){m.dnsResources[u]=null,m=_.headers;var C,O;(O=m&&0<m.remainingCapacity)&&(O=(C="<"+(""+u).replace(sa,go)+">; rel=dns-prefetch",0<=(m.remainingCapacity-=C.length+2))),O?(_.resets.dns[u]=null,m.preconnects&&(m.preconnects+=", "),m.preconnects+=C):(C=[],on(C,{href:u,rel:"dns-prefetch"}),_.preconnects.add(C))}$i(h)}}else En.D(u)}function Jn(u,h){var m=hr||null;if(m){var _=m.resumableState,C=m.renderState;if(typeof u=="string"&&u){var O=h==="use-credentials"?"credentials":typeof h=="string"?"anonymous":"default";if(!_.connectResources[O].hasOwnProperty(u)){_.connectResources[O][u]=null,_=C.headers;var j,te;if(te=_&&0<_.remainingCapacity){if(te="<"+(""+u).replace(sa,go)+">; rel=preconnect",typeof h=="string"){var z=(""+h).replace(yo,Ba);te+='; crossorigin="'+z+'"'}te=(j=te,0<=(_.remainingCapacity-=j.length+2))}te?(C.resets.connect[O][u]=null,_.preconnects&&(_.preconnects+=", "),_.preconnects+=j):(O=[],on(O,{rel:"preconnect",href:u,crossOrigin:h}),C.preconnects.add(O))}$i(m)}}else En.C(u,h)}function $s(u,h,m){var _=hr||null;if(_){var C=_.resumableState,O=_.renderState;if(h&&u){switch(h){case"image":if(m)var j=m.imageSrcSet,te=m.imageSizes,z=m.fetchPriority;var J=j?j+`
`+(te||""):u;if(C.imageResources.hasOwnProperty(J))return;C.imageResources[J]=Mt,C=O.headers;var ve;C&&0<C.remainingCapacity&&typeof j!="string"&&z==="high"&&(ve=Nr(u,h,m),0<=(C.remainingCapacity-=ve.length+2))?(O.resets.image[J]=Mt,C.highImagePreloads&&(C.highImagePreloads+=", "),C.highImagePreloads+=ve):(C=[],on(C,lt({rel:"preload",href:j?void 0:u,as:h},m)),z==="high"?O.highImagePreloads.add(C):(O.bulkPreloads.add(C),O.preloads.images.set(J,C)));break;case"style":if(C.styleResources.hasOwnProperty(u))return;j=[],on(j,lt({rel:"preload",href:u,as:h},m)),C.styleResources[u]=!m||typeof m.crossOrigin!="string"&&typeof m.integrity!="string"?Mt:[m.crossOrigin,m.integrity],O.preloads.stylesheets.set(u,j),O.bulkPreloads.add(j);break;case"script":if(C.scriptResources.hasOwnProperty(u))return;j=[],O.preloads.scripts.set(u,j),O.bulkPreloads.add(j),on(j,lt({rel:"preload",href:u,as:h},m)),C.scriptResources[u]=!m||typeof m.crossOrigin!="string"&&typeof m.integrity!="string"?Mt:[m.crossOrigin,m.integrity];break;default:if(C.unknownResources.hasOwnProperty(h)){if(j=C.unknownResources[h],j.hasOwnProperty(u))return}else j={},C.unknownResources[h]=j;if(j[u]=Mt,(C=O.headers)&&0<C.remainingCapacity&&h==="font"&&(J=Nr(u,h,m),0<=(C.remainingCapacity-=J.length+2)))O.resets.font[u]=Mt,C.fontPreloads&&(C.fontPreloads+=", "),C.fontPreloads+=J;else switch(C=[],u=lt({rel:"preload",href:u,as:h},m),on(C,u),h){case"font":O.fontPreloads.add(C);break;default:O.bulkPreloads.add(C)}}$i(_)}}else En.L(u,h,m)}function hi(u,h){var m=hr||null;if(m){var _=m.resumableState,C=m.renderState;if(u){var O=h&&typeof h.as=="string"?h.as:"script";switch(O){case"script":if(_.moduleScriptResources.hasOwnProperty(u))return;O=[],_.moduleScriptResources[u]=!h||typeof h.crossOrigin!="string"&&typeof h.integrity!="string"?Mt:[h.crossOrigin,h.integrity],C.preloads.moduleScripts.set(u,O);break;default:if(_.moduleUnknownResources.hasOwnProperty(O)){var j=_.unknownResources[O];if(j.hasOwnProperty(u))return}else j={},_.moduleUnknownResources[O]=j;O=[],j[u]=Mt}on(O,lt({rel:"modulepreload",href:u},h)),C.bulkPreloads.add(O),$i(m)}}else En.m(u,h)}function hl(u,h,m){var _=hr||null;if(_){var C=_.resumableState,O=_.renderState;if(u){h=h||"default";var j=O.styles.get(h),te=C.styleResources.hasOwnProperty(u)?C.styleResources[u]:void 0;te!==null&&(C.styleResources[u]=null,j||(j={precedence:ye(Me(h)),rules:[],hrefs:[],sheets:new Map},O.styles.set(h,j)),h={state:0,props:lt({rel:"stylesheet",href:u,"data-precedence":h},m)},te&&(te.length===2&&ra(h.props,te),(O=O.preloads.stylesheets.get(u))&&0<O.length?O.length=0:h.state=1),j.sheets.set(u,h),$i(_))}}else En.S(u,h,m)}function ac(u,h){var m=hr||null;if(m){var _=m.resumableState,C=m.renderState;if(u){var O=_.scriptResources.hasOwnProperty(u)?_.scriptResources[u]:void 0;O!==null&&(_.scriptResources[u]=null,h=lt({src:u,async:!0},h),O&&(O.length===2&&ra(h,O),u=C.preloads.scripts.get(u))&&(u.length=0),u=[],C.scripts.add(u),qr(u,h),$i(m))}}else En.X(u,h)}function fl(u,h){var m=hr||null;if(m){var _=m.resumableState,C=m.renderState;if(u){var O=_.moduleScriptResources.hasOwnProperty(u)?_.moduleScriptResources[u]:void 0;O!==null&&(_.moduleScriptResources[u]=null,h=lt({src:u,type:"module",async:!0},h),O&&(O.length===2&&ra(h,O),u=C.preloads.moduleScripts.get(u))&&(u.length=0),u=[],C.scripts.add(u),qr(u,h),$i(m))}}else En.M(u,h)}function ra(u,h){u.crossOrigin==null&&(u.crossOrigin=h[0]),u.integrity==null&&(u.integrity=h[1])}function Nr(u,h,m){u=(""+u).replace(sa,go),h=(""+h).replace(yo,Ba),h="<"+u+'>; rel=preload; as="'+h+'"';for(var _ in m)xt.call(m,_)&&(u=m[_],typeof u=="string"&&(h+="; "+_.toLowerCase()+'="'+(""+u).replace(yo,Ba)+'"'));return h}var sa=/[<>\r\n]/g;function go(u){switch(u){case"<":return"%3C";case">":return"%3E";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var yo=/["';,\r\n]/g;function Ba(u){switch(u){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function js(u){this.styles.add(u)}function Oi(u){this.stylesheets.add(u)}var vo=Function.prototype.bind,sh=Symbol.for("react.client.reference");function Au(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===sh?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case a:return"Fragment";case y:return"Profiler";case f:return"StrictMode";case Q:return"Suspense";case ee:return"SuspenseList";case xe:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case i:return"Portal";case R:return(u.displayName||"Context")+".Provider";case T:return(u._context.displayName||"Context")+".Consumer";case V:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case ne:return h=u.displayName||null,h!==null?h:Au(u.type)||"Memo";case le:h=u._payload,u=u._init;try{return Au(u(h))}catch{}}return null}var bo={},Fn=null;function c(u,h){if(u!==h){u.context._currentValue=u.parentValue,u=u.parent;var m=h.parent;if(u===null){if(m!==null)throw Error(t(401))}else{if(m===null)throw Error(t(401));c(u,m)}h.context._currentValue=h.value}}function d(u){u.context._currentValue=u.parentValue,u=u.parent,u!==null&&d(u)}function g(u){var h=u.parent;h!==null&&g(h),u.context._currentValue=u.value}function k(u,h){if(u.context._currentValue=u.parentValue,u=u.parent,u===null)throw Error(t(402));u.depth===h.depth?c(u,h):k(u,h)}function x(u,h){var m=h.parent;if(m===null)throw Error(t(402));u.depth===m.depth?c(u,m):x(u,m),h.context._currentValue=h.value}function N(u){var h=Fn;h!==u&&(h===null?g(u):u===null?d(h):h.depth===u.depth?c(h,u):h.depth>u.depth?k(h,u):x(h,u),Fn=u)}var H={enqueueSetState:function(u,h){u=u._reactInternals,u.queue!==null&&u.queue.push(h)},enqueueReplaceState:function(u,h){u=u._reactInternals,u.replace=!0,u.queue=[h]},enqueueForceUpdate:function(){}},D={id:1,overflow:""};function F(u,h,m){var _=u.id;u=u.overflow;var C=32-M(_)-1;_&=~(1<<C),m+=1;var O=32-M(h)+C;if(30<O){var j=C-C%5;return O=(_&(1<<j)-1).toString(32),_>>=j,C-=j,{id:1<<32-M(h)+C|m<<C|_,overflow:O+u}}return{id:1<<O|m<<C|_,overflow:u}}var M=Math.clz32?Math.clz32:we,oe=Math.log,ae=Math.LN2;function we(u){return u>>>=0,u===0?32:31-(oe(u)/ae|0)|0}var Ce=Error(t(460));function ke(){}function Be(u,h,m){switch(m=u[m],m===void 0?u.push(h):m!==h&&(h.then(ke,ke),h=m),h.status){case"fulfilled":return h.value;case"rejected":throw h.reason;default:switch(typeof h.status=="string"?h.then(ke,ke):(u=h,u.status="pending",u.then(function(_){if(h.status==="pending"){var C=h;C.status="fulfilled",C.value=_}},function(_){if(h.status==="pending"){var C=h;C.status="rejected",C.reason=_}})),h.status){case"fulfilled":return h.value;case"rejected":throw h.reason}throw Nt=h,Ce}}var Nt=null;function tt(){if(Nt===null)throw Error(t(459));var u=Nt;return Nt=null,u}function Ct(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var Qt=typeof Object.is=="function"?Object.is:Ct,Ne=null,Kt=null,Ye=null,qe=null,er=null,We=null,fn=!1,Ni=!1,qn=0,fi=0,cr=-1,Zt=0,Mn=null,Hn=null,Gr=0;function tr(){if(Ne===null)throw Error(t(321));return Ne}function wo(){if(0<Gr)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function Qr(){return We===null?er===null?(fn=!1,er=We=wo()):(fn=!0,We=er):We.next===null?(fn=!1,We=We.next=wo()):(fn=!0,We=We.next),We}function di(){var u=Mn;return Mn=null,u}function ps(){qe=Ye=Kt=Ne=null,Ni=!1,er=null,Gr=0,We=Hn=null}function Bs(u,h){return typeof h=="function"?h(u):h}function So(u,h,m){if(Ne=tr(),We=Qr(),fn){var _=We.queue;if(h=_.dispatch,Hn!==null&&(m=Hn.get(_),m!==void 0)){Hn.delete(_),_=We.memoizedState;do _=u(_,m.action),m=m.next;while(m!==null);return We.memoizedState=_,[_,h]}return[We.memoizedState,h]}return u=u===Bs?typeof h=="function"?h():h:m!==void 0?m(h):h,We.memoizedState=u,u=We.queue={last:null,dispatch:null},u=u.dispatch=ms.bind(null,Ne,u),[We.memoizedState,u]}function ia(u,h){if(Ne=tr(),We=Qr(),h=h===void 0?null:h,We!==null){var m=We.memoizedState;if(m!==null&&h!==null){var _=m[1];e:if(_===null)_=!1;else{for(var C=0;C<_.length&&C<h.length;C++)if(!Qt(h[C],_[C])){_=!1;break e}_=!0}if(_)return m[0]}}return u=u(),We.memoizedState=[u,h],u}function ms(u,h,m){if(25<=Gr)throw Error(t(301));if(u===Ne)if(Ni=!0,u={action:m,next:null},Hn===null&&(Hn=new Map),m=Hn.get(h),m===void 0)Hn.set(h,u);else{for(h=m;h.next!==null;)h=h.next;h.next=u}}function uc(){throw Error(t(394))}function Fi(){throw Error(t(479))}function oa(u,h,m){tr();var _=fi++,C=Ye;if(typeof u.$$FORM_ACTION=="function"){var O=null,j=qe;C=C.formState;var te=u.$$IS_SIGNATURE_EQUAL;if(C!==null&&typeof te=="function"){var z=C[1];te.call(u,C[2],C[3])&&(O=m!==void 0?"p"+m:"k"+q(JSON.stringify([j,null,_]),0),z===O&&(cr=_,h=C[0]))}var J=u.bind(null,h);return u=function(ue){J(ue)},typeof J.$$FORM_ACTION=="function"&&(u.$$FORM_ACTION=function(ue){ue=J.$$FORM_ACTION(ue),m!==void 0&&(m+="",ue.action=m);var Te=ue.data;return Te&&(O===null&&(O=m!==void 0?"p"+m:"k"+q(JSON.stringify([j,null,_]),0)),Te.append("$ACTION_KEY",O)),ue}),[h,u,!1]}var ve=u.bind(null,h);return[h,function(ue){ve(ue)},!1]}function qa(u){var h=Zt;return Zt+=1,Mn===null&&(Mn=[]),Be(Mn,u,h)}function lc(){throw Error(t(393))}function ko(){}var dl={readContext:function(u){return u._currentValue},use:function(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return qa(u);if(u.$$typeof===R)return u._currentValue}throw Error(t(438,String(u)))},useContext:function(u){return tr(),u._currentValue},useMemo:ia,useReducer:So,useRef:function(u){Ne=tr(),We=Qr();var h=We.memoizedState;return h===null?(u={current:u},We.memoizedState=u):h},useState:function(u){return So(Bs,u)},useInsertionEffect:ko,useLayoutEffect:ko,useCallback:function(u,h){return ia(function(){return u},h)},useImperativeHandle:ko,useEffect:ko,useDebugValue:ko,useDeferredValue:function(u,h){return tr(),h!==void 0?h:u},useTransition:function(){return tr(),[!1,uc]},useId:function(){var u=Kt.treeContext,h=u.overflow;u=u.id,u=(u&~(1<<32-M(u)-1)).toString(32)+h;var m=Ha;if(m===null)throw Error(t(404));return h=qn++,u="«"+m.idPrefix+"R"+u,0<h&&(u+="H"+h.toString(32)),u+"»"},useSyncExternalStore:function(u,h,m){if(m===void 0)throw Error(t(407));return m()},useOptimistic:function(u){return tr(),[u,Fi]},useActionState:oa,useFormState:oa,useHostTransitionStatus:function(){return tr(),Ea},useMemoCache:function(u){for(var h=Array(u),m=0;m<u;m++)h[m]=Pe;return h},useCacheRefresh:function(){return lc}},Ha=null,en={getCacheForType:function(){throw Error(t(248))}},Ut,pl;function _o(u){if(Ut===void 0)try{throw Error()}catch(m){var h=m.stack.trim().match(/\n( *(at )?)/);Ut=h&&h[1]||"",pl=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+u+pl}var Mi=!1;function za(u,h){if(!u||Mi)return"";Mi=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var _={DetermineComponentFrameRoot:function(){try{if(h){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(Ee){var Te=Ee}Reflect.construct(u,[],ue)}else{try{ue.call()}catch(Ee){Te=Ee}u.call(ue.prototype)}}else{try{throw Error()}catch(Ee){Te=Ee}(ue=u())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(Ee){if(Ee&&Te&&typeof Ee.stack=="string")return[Ee.stack,Te.stack]}return[null,null]}};_.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(_.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(_.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=_.DetermineComponentFrameRoot(),j=O[0],te=O[1];if(j&&te){var z=j.split(`
`),J=te.split(`
`);for(C=_=0;_<z.length&&!z[_].includes("DetermineComponentFrameRoot");)_++;for(;C<J.length&&!J[C].includes("DetermineComponentFrameRoot");)C++;if(_===z.length||C===J.length)for(_=z.length-1,C=J.length-1;1<=_&&0<=C&&z[_]!==J[C];)C--;for(;1<=_&&0<=C;_--,C--)if(z[_]!==J[C]){if(_!==1||C!==1)do if(_--,C--,0>C||z[_]!==J[C]){var ve=`
`+z[_].replace(" at new "," at ");return u.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",u.displayName)),ve}while(1<=_&&0<=C);break}}}finally{Mi=!1,Error.prepareStackTrace=m}return(m=u?u.displayName||u.name:"")?_o(m):""}function qs(u){if(typeof u=="string")return _o(u);if(typeof u=="function")return u.prototype&&u.prototype.isReactComponent?za(u,!0):za(u,!1);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case V:return za(u.render,!1);case ne:return za(u.type,!1);case le:var h=u,m=h._payload;h=h._init;try{u=h(m)}catch{return _o("Lazy")}return qs(u)}if(typeof u.name=="string")return m=u.env,_o(u.name+(m?" ["+m+"]":""))}switch(u){case ee:return _o("SuspenseList");case Q:return _o("Suspense")}return""}function pi(u){if(typeof u=="object"&&u!==null&&typeof u.environmentName=="string"){var h=u.environmentName;u=[u].slice(0),typeof u[0]=="string"?u.splice(0,1,"%c%s%c "+u[0],"background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+h+" ",""):u.splice(0,0,"%c%s%c ","background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+h+" ",""),u.unshift(console),h=vo.apply(console.error,u),h()}else console.error(u);return null}function Kr(){}function Hs(u,h,m,_,C,O,j,te,z,J,ve){var ue=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=u,this.renderState=h,this.rootFormatContext=m,this.progressiveChunkSize=_===void 0?12800:_,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.abortableTasks=ue,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=C===void 0?pi:C,this.onPostpone=J===void 0?Kr:J,this.onAllReady=O===void 0?Kr:O,this.onShellReady=j===void 0?Kr:j,this.onShellError=te===void 0?Kr:te,this.onFatalError=z===void 0?Kr:z,this.formState=ve===void 0?null:ve}function zs(u,h,m,_,C,O,j,te,z,J,ve,ue){return h=new Hs(h,m,_,C,O,j,te,z,J,ve,ue),m=Co(h,0,null,_,!1,!1),m.parentFlushed=!0,u=aa(h,null,u,-1,null,m,null,null,h.abortableTasks,null,_,null,D,null,!1),Ws(u),h.pingedTasks.push(u),h}function Zr(u,h,m,_,C,O,j,te,z,J,ve){return u=zs(u,h,m,_,C,O,j,te,z,J,ve,void 0),u.trackedPostpones={workingMap:new Map,rootNodes:[],rootSlots:null},u}var hr=null;function mi(u,h){u.pingedTasks.push(h),u.pingedTasks.length===1&&(u.flushScheduled=u.destination!==null,u.trackedPostpones!==null||u.status===10?B(function(){return Du(u)}):G(function(){return Du(u)}))}function gs(u,h,m,_){return{status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,completedSegments:[],byteSize:0,fallbackAbortableTasks:h,errorDigest:null,contentState:wn(),fallbackState:wn(),contentPreamble:m,fallbackPreamble:_,trackedContentKeyPath:null,trackedFallbackNode:null}}function aa(u,h,m,_,C,O,j,te,z,J,ve,ue,Te,Ee,Ae){u.allPendingTasks++,C===null?u.pendingRootTasks++:C.pendingTasks++;var Ge={replay:null,node:m,childIndex:_,ping:function(){return mi(u,Ge)},blockedBoundary:C,blockedSegment:O,blockedPreamble:j,hoistableState:te,abortSet:z,keyPath:J,formatContext:ve,context:ue,treeContext:Te,componentStack:Ee,thenableState:h,isFallback:Ae};return z.add(Ge),Ge}function Wa(u,h,m,_,C,O,j,te,z,J,ve,ue,Te,Ee){u.allPendingTasks++,O===null?u.pendingRootTasks++:O.pendingTasks++,m.pendingTasks++;var Ae={replay:m,node:_,childIndex:C,ping:function(){return mi(u,Ae)},blockedBoundary:O,blockedSegment:null,blockedPreamble:null,hoistableState:j,abortSet:te,keyPath:z,formatContext:J,context:ve,treeContext:ue,componentStack:Te,thenableState:h,isFallback:Ee};return te.add(Ae),Ae}function Co(u,h,m,_,C,O){return{status:0,parentFlushed:!1,id:-1,index:h,chunks:[],children:[],preambleChildren:[],parentFormatContext:_,boundary:m,lastPushedText:C,textEmbedded:O}}function Ws(u){var h=u.node;if(typeof h=="object"&&h!==null)switch(h.$$typeof){case r:u.componentStack={parent:u.componentStack,type:h.type}}}function ys(u){var h={};return u&&Object.defineProperty(h,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var m="",_=u;do m+=qs(_.type),_=_.parent;while(_);var C=m}catch(O){C=`
Error generating stack: `+O.message+`
`+O.stack}return Object.defineProperty(h,"componentStack",{value:C}),C}}),h}function dn(u,h,m){if(u=u.onError,h=u(h,m),h==null||typeof h=="string")return h}function Gs(u,h){var m=u.onShellError,_=u.onFatalError;m(h),_(h),u.destination!==null?(u.status=14,qt(u.destination,h)):(u.status=13,u.fatalError=h)}function P(u,h,m,_,C,O){var j=h.thenableState;for(h.thenableState=null,Ne={},Kt=h,Ye=u,qe=m,fi=qn=0,cr=-1,Zt=0,Mn=j,u=_(C,O);Ni;)Ni=!1,fi=qn=0,cr=-1,Zt=0,Gr+=1,We=null,u=_(C,O);return ps(),u}function Li(u,h,m,_,C,O,j){var te=!1;if(O!==0&&u.formState!==null){var z=h.blockedSegment;if(z!==null){te=!0,z=z.chunks;for(var J=0;J<O;J++)J===j?z.push(Oa):z.push(xu)}}O=h.keyPath,h.keyPath=m,C?(m=h.treeContext,h.treeContext=F(m,1,0),Fr(u,h,_,-1),h.treeContext=m):te?Fr(u,h,_,-1):Le(u,h,_,-1),h.keyPath=O}function gi(u,h,m,_,C,O){if(typeof _=="function")if(_.prototype&&_.prototype.isReactComponent){var j=C;if("ref"in C){j={};for(var te in C)te!=="ref"&&(j[te]=C[te])}var z=_.defaultProps;if(z){j===C&&(j=lt({},j,C));for(var J in z)j[J]===void 0&&(j[J]=z[J])}C=j,j=bo,z=_.contextType,typeof z=="object"&&z!==null&&(j=z._currentValue),j=new _(C,j);var ve=j.state!==void 0?j.state:null;if(j.updater=H,j.props=C,j.state=ve,z={queue:[],replace:!1},j._reactInternals=z,O=_.contextType,j.context=typeof O=="object"&&O!==null?O._currentValue:bo,O=_.getDerivedStateFromProps,typeof O=="function"&&(O=O(C,ve),ve=O==null?ve:lt({},ve,O),j.state=ve),typeof _.getDerivedStateFromProps!="function"&&typeof j.getSnapshotBeforeUpdate!="function"&&(typeof j.UNSAFE_componentWillMount=="function"||typeof j.componentWillMount=="function"))if(_=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),_!==j.state&&H.enqueueReplaceState(j,j.state,null),z.queue!==null&&0<z.queue.length)if(_=z.queue,O=z.replace,z.queue=null,z.replace=!1,O&&_.length===1)j.state=_[0];else{for(z=O?_[0]:j.state,ve=!0,O=O?1:0;O<_.length;O++)J=_[O],J=typeof J=="function"?J.call(j,z,C,void 0):J,J!=null&&(ve?(ve=!1,z=lt({},z,J)):lt(z,J));j.state=z}else z.queue=null;if(_=j.render(),u.status===12)throw null;C=h.keyPath,h.keyPath=m,Le(u,h,_,-1),h.keyPath=C}else{if(_=P(u,h,m,_,C,void 0),u.status===12)throw null;Li(u,h,m,_,qn!==0,fi,cr)}else if(typeof _=="string")if(j=h.blockedSegment,j===null)j=C.children,z=h.formatContext,ve=h.keyPath,h.formatContext=us(z,_,C),h.keyPath=m,Fr(u,h,j,-1),h.formatContext=z,h.keyPath=ve;else{O=Qo(j.chunks,_,C,u.resumableState,u.renderState,h.blockedPreamble,h.hoistableState,h.formatContext,j.lastPushedText,h.isFallback),j.lastPushedText=!1,z=h.formatContext,ve=h.keyPath,h.keyPath=m,(h.formatContext=us(z,_,C)).insertionMode===3?(m=Co(u,0,null,h.formatContext,!1,!1),j.preambleChildren.push(m),m=aa(u,null,O,-1,h.blockedBoundary,m,h.blockedPreamble,h.hoistableState,u.abortableTasks,h.keyPath,h.formatContext,h.context,h.treeContext,h.componentStack,h.isFallback),Ws(m),u.pingedTasks.push(m)):Fr(u,h,O,-1),h.formatContext=z,h.keyPath=ve;e:{switch(h=j.chunks,u=u.resumableState,_){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=z.insertionMode){u.hasBody=!0;break e}break;case"html":if(z.insertionMode===0){u.hasHtml=!0;break e}break;case"head":if(1>=z.insertionMode)break e}h.push(yr(_))}j.lastPushedText=!1}else{switch(_){case Ie:case f:case y:case a:_=h.keyPath,h.keyPath=m,Le(u,h,C.children,-1),h.keyPath=_;return;case xe:C.mode!=="hidden"&&(_=h.keyPath,h.keyPath=m,Le(u,h,C.children,-1),h.keyPath=_);return;case ee:_=h.keyPath,h.keyPath=m,Le(u,h,C.children,-1),h.keyPath=_;return;case Ue:case fe:throw Error(t(343));case Q:e:if(h.replay!==null){_=h.keyPath,h.keyPath=m,m=C.children;try{Fr(u,h,m,-1)}finally{h.keyPath=_}}else{_=h.keyPath;var ue=h.blockedBoundary;O=h.blockedPreamble;var Te=h.hoistableState;J=h.blockedSegment,te=C.fallback,C=C.children;var Ee=new Set,Ae=2>h.formatContext.insertionMode?gs(u,Ee,Ot(),Ot()):gs(u,Ee,null,null);u.trackedPostpones!==null&&(Ae.trackedContentKeyPath=m);var Ge=Co(u,J.chunks.length,Ae,h.formatContext,!1,!1);J.children.push(Ge),J.lastPushedText=!1;var Ft=Co(u,0,null,h.formatContext,!1,!1);if(Ft.parentFlushed=!0,u.trackedPostpones!==null){j=[m[0],"Suspense Fallback",m[2]],z=[j[1],j[2],[],null],u.trackedPostpones.workingMap.set(j,z),Ae.trackedFallbackNode=z,h.blockedSegment=Ge,h.blockedPreamble=Ae.fallbackPreamble,h.keyPath=j,Ge.status=6;try{Fr(u,h,te,-1),Ge.lastPushedText&&Ge.textEmbedded&&Ge.chunks.push(Ar),Ge.status=1}catch(pn){throw Ge.status=u.status===12?3:4,pn}finally{h.blockedSegment=J,h.blockedPreamble=O,h.keyPath=_}h=aa(u,null,C,-1,Ae,Ft,Ae.contentPreamble,Ae.contentState,h.abortSet,m,h.formatContext,h.context,h.treeContext,h.componentStack,h.isFallback),Ws(h),u.pingedTasks.push(h)}else{h.blockedBoundary=Ae,h.blockedPreamble=Ae.contentPreamble,h.hoistableState=Ae.contentState,h.blockedSegment=Ft,h.keyPath=m,Ft.status=6;try{if(Fr(u,h,C,-1),Ft.lastPushedText&&Ft.textEmbedded&&Ft.chunks.push(Ar),Ft.status=1,Vi(Ae,Ft),Ae.pendingTasks===0&&Ae.status===0){Ae.status=1,u.pendingRootTasks===0&&h.blockedPreamble&&bs(u);break e}}catch(pn){Ae.status=4,u.status===12?(Ft.status=3,j=u.fatalError):(Ft.status=4,j=pn),z=ys(h.componentStack),ve=dn(u,j,z),Ae.errorDigest=ve,Ui(u,Ae)}finally{h.blockedBoundary=ue,h.blockedPreamble=O,h.hoistableState=Te,h.blockedSegment=J,h.keyPath=_}h=aa(u,null,te,-1,ue,Ge,Ae.fallbackPreamble,Ae.fallbackState,Ee,[m[0],"Suspense Fallback",m[2]],h.formatContext,h.context,h.treeContext,h.componentStack,!0),Ws(h),u.pingedTasks.push(h)}}return}if(typeof _=="object"&&_!==null)switch(_.$$typeof){case V:if("ref"in C)for(Ae in j={},C)Ae!=="ref"&&(j[Ae]=C[Ae]);else j=C;_=P(u,h,m,_.render,j,O),Li(u,h,m,_,qn!==0,fi,cr);return;case ne:gi(u,h,m,_.type,C,O);return;case w:case R:if(z=C.children,j=h.keyPath,C=C.value,ve=_._currentValue,_._currentValue=C,O=Fn,Fn=_={parent:O,depth:O===null?0:O.depth+1,context:_,parentValue:ve,value:C},h.context=_,h.keyPath=m,Le(u,h,z,-1),u=Fn,u===null)throw Error(t(403));u.context._currentValue=u.parentValue,u=Fn=u.parent,h.context=u,h.keyPath=j;return;case T:C=C.children,_=C(_._context._currentValue),C=h.keyPath,h.keyPath=m,Le(u,h,_,-1),h.keyPath=C;return;case le:if(j=_._init,_=j(_._payload),u.status===12)throw null;gi(u,h,m,_,C,O);return}throw Error(t(130,_==null?_:typeof _,""))}}function wr(u,h,m,_,C){var O=h.replay,j=h.blockedBoundary,te=Co(u,0,null,h.formatContext,!1,!1);te.id=m,te.parentFlushed=!0;try{h.replay=null,h.blockedSegment=te,Fr(u,h,_,C),te.status=1,j===null?u.completedRootSegment=te:(Vi(j,te),j.parentFlushed&&u.partialBoundaries.push(j))}finally{h.replay=O,h.blockedSegment=null}}function Le(u,h,m,_){h.replay!==null&&typeof h.replay.slots=="number"?wr(u,h,h.replay.slots,m,_):(h.node=m,h.childIndex=_,m=h.componentStack,Ws(h),ua(u,h),h.componentStack=m)}function ua(u,h){var m=h.node,_=h.childIndex;if(m!==null){if(typeof m=="object"){switch(m.$$typeof){case r:var C=m.type,O=m.key,j=m.props;m=j.ref;var te=m!==void 0?m:null,z=Au(C),J=O??(_===-1?0:_);if(O=[h.keyPath,z,J],h.replay!==null)e:{var ve=h.replay;for(_=ve.nodes,m=0;m<_.length;m++){var ue=_[m];if(J===ue[1]){if(ue.length===4){if(z!==null&&z!==ue[0])throw Error(t(490,ue[0],z));var Te=ue[2];z=ue[3],J=h.node,h.replay={nodes:Te,slots:z,pendingTasks:1};try{if(gi(u,h,O,C,j,te),h.replay.pendingTasks===1&&0<h.replay.nodes.length)throw Error(t(488));h.replay.pendingTasks--}catch(un){if(typeof un=="object"&&un!==null&&(un===Ce||typeof un.then=="function"))throw h.node===J&&(h.replay=ve),un;h.replay.pendingTasks--,j=ys(h.componentStack),O=h.blockedBoundary,C=un,j=dn(u,C,j),xo(u,O,Te,z,C,j)}h.replay=ve}else{if(C!==Q)throw Error(t(490,"Suspense",Au(C)||"Unknown"));t:{ve=void 0,C=ue[5],te=ue[2],z=ue[3],J=ue[4]===null?[]:ue[4][2],ue=ue[4]===null?null:ue[4][3];var Ee=h.keyPath,Ae=h.replay,Ge=h.blockedBoundary,Ft=h.hoistableState,pn=j.children,nt=j.fallback,tn=new Set;j=2>h.formatContext.insertionMode?gs(u,tn,Ot(),Ot()):gs(u,tn,null,null),j.parentFlushed=!0,j.rootSegmentID=C,h.blockedBoundary=j,h.hoistableState=j.contentState,h.keyPath=O,h.replay={nodes:te,slots:z,pendingTasks:1};try{if(Fr(u,h,pn,-1),h.replay.pendingTasks===1&&0<h.replay.nodes.length)throw Error(t(488));if(h.replay.pendingTasks--,j.pendingTasks===0&&j.status===0){j.status=1,u.completedBoundaries.push(j);break t}}catch(un){j.status=4,Te=ys(h.componentStack),ve=dn(u,un,Te),j.errorDigest=ve,h.replay.pendingTasks--,u.clientRenderedBoundaries.push(j)}finally{h.blockedBoundary=Ge,h.hoistableState=Ft,h.replay=Ae,h.keyPath=Ee}h=Wa(u,null,{nodes:J,slots:ue,pendingTasks:0},nt,-1,Ge,j.fallbackState,tn,[O[0],"Suspense Fallback",O[2]],h.formatContext,h.context,h.treeContext,h.componentStack,!0),Ws(h),u.pingedTasks.push(h)}}_.splice(m,1);break e}}}else gi(u,h,O,C,j,te);return;case i:throw Error(t(257));case le:if(Te=m._init,m=Te(m._payload),u.status===12)throw null;Le(u,h,m,_);return}if(Oe(m)){Io(u,h,m,_);return}if(m===null||typeof m!="object"?Te=null:(Te=je&&m[je]||m["@@iterator"],Te=typeof Te=="function"?Te:null),Te&&(Te=Te.call(m))){if(m=Te.next(),!m.done){j=[];do j.push(m.value),m=Te.next();while(!m.done);Io(u,h,j,_)}return}if(typeof m.then=="function")return h.thenableState=null,Le(u,h,qa(m),_);if(m.$$typeof===R)return Le(u,h,m._currentValue,_);throw _=Object.prototype.toString.call(m),Error(t(31,_==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":_))}typeof m=="string"?(_=h.blockedSegment,_!==null&&(_.lastPushedText=xs(_.chunks,m,u.renderState,_.lastPushedText))):(typeof m=="number"||typeof m=="bigint")&&(_=h.blockedSegment,_!==null&&(_.lastPushedText=xs(_.chunks,""+m,u.renderState,_.lastPushedText)))}}function Io(u,h,m,_){var C=h.keyPath;if(_!==-1&&(h.keyPath=[h.keyPath,"Fragment",_],h.replay!==null)){for(var O=h.replay,j=O.nodes,te=0;te<j.length;te++){var z=j[te];if(z[1]===_){_=z[2],z=z[3],h.replay={nodes:_,slots:z,pendingTasks:1};try{if(Io(u,h,m,-1),h.replay.pendingTasks===1&&0<h.replay.nodes.length)throw Error(t(488));h.replay.pendingTasks--}catch(ue){if(typeof ue=="object"&&ue!==null&&(ue===Ce||typeof ue.then=="function"))throw ue;h.replay.pendingTasks--,m=ys(h.componentStack);var J=h.blockedBoundary,ve=ue;m=dn(u,ve,m),xo(u,J,_,z,ve,m)}h.replay=O,j.splice(te,1);break}}h.keyPath=C;return}if(O=h.treeContext,j=m.length,h.replay!==null&&(te=h.replay.slots,te!==null&&typeof te=="object")){for(_=0;_<j;_++)z=m[_],h.treeContext=F(O,j,_),J=te[_],typeof J=="number"?(wr(u,h,J,z,_),delete te[_]):Fr(u,h,z,_);h.treeContext=O,h.keyPath=C;return}for(te=0;te<j;te++)_=m[te],h.treeContext=F(O,j,te),Fr(u,h,_,te);h.treeContext=O,h.keyPath=C}function Ui(u,h){u=u.trackedPostpones,u!==null&&(h=h.trackedContentKeyPath,h!==null&&(h=u.workingMap.get(h),h!==void 0&&(h.length=4,h[2]=[],h[3]=null)))}function vs(u,h,m){return Wa(u,m,h.replay,h.node,h.childIndex,h.blockedBoundary,h.hoistableState,h.abortSet,h.keyPath,h.formatContext,h.context,h.treeContext,h.componentStack,h.isFallback)}function Ga(u,h,m){var _=h.blockedSegment,C=Co(u,_.chunks.length,null,h.formatContext,_.lastPushedText,!0);return _.children.push(C),_.lastPushedText=!1,aa(u,m,h.node,h.childIndex,h.blockedBoundary,C,h.blockedPreamble,h.hoistableState,h.abortSet,h.keyPath,h.formatContext,h.context,h.treeContext,h.componentStack,h.isFallback)}function Fr(u,h,m,_){var C=h.formatContext,O=h.context,j=h.keyPath,te=h.treeContext,z=h.componentStack,J=h.blockedSegment;if(J===null)try{return Le(u,h,m,_)}catch(Te){if(ps(),m=Te===Ce?tt():Te,typeof m=="object"&&m!==null){if(typeof m.then=="function"){_=di(),u=vs(u,h,_).ping,m.then(u,u),h.formatContext=C,h.context=O,h.keyPath=j,h.treeContext=te,h.componentStack=z,N(O);return}if(m.message==="Maximum call stack size exceeded"){m=di(),m=vs(u,h,m),u.pingedTasks.push(m),h.formatContext=C,h.context=O,h.keyPath=j,h.treeContext=te,h.componentStack=z,N(O);return}}}else{var ve=J.children.length,ue=J.chunks.length;try{return Le(u,h,m,_)}catch(Te){if(ps(),J.children.length=ve,J.chunks.length=ue,m=Te===Ce?tt():Te,typeof m=="object"&&m!==null){if(typeof m.then=="function"){_=di(),u=Ga(u,h,_).ping,m.then(u,u),h.formatContext=C,h.context=O,h.keyPath=j,h.treeContext=te,h.componentStack=z,N(O);return}if(m.message==="Maximum call stack size exceeded"){m=di(),m=Ga(u,h,m),u.pingedTasks.push(m),h.formatContext=C,h.context=O,h.keyPath=j,h.treeContext=te,h.componentStack=z,N(O);return}}}}throw h.formatContext=C,h.context=O,h.keyPath=j,h.treeContext=te,N(O),m}function cc(u){var h=u.blockedBoundary;u=u.blockedSegment,u!==null&&(u.status=3,Ka(this,h,u))}function xo(u,h,m,_,C,O){for(var j=0;j<m.length;j++){var te=m[j];if(te.length===4)xo(u,h,te[2],te[3],C,O);else{te=te[5];var z=u,J=O,ve=gs(z,new Set,null,null);ve.parentFlushed=!0,ve.rootSegmentID=te,ve.status=4,ve.errorDigest=J,ve.parentFlushed&&z.clientRenderedBoundaries.push(ve)}}if(m.length=0,_!==null){if(h===null)throw Error(t(487));if(h.status!==4&&(h.status=4,h.errorDigest=O,h.parentFlushed&&u.clientRenderedBoundaries.push(h)),typeof _=="object")for(var ue in _)delete _[ue]}}function ml(u,h,m){var _=u.blockedBoundary,C=u.blockedSegment;if(C!==null){if(C.status===6)return;C.status=3}if(C=ys(u.componentStack),_===null){if(h.status!==13&&h.status!==14){if(_=u.replay,_===null){dn(h,m,C),Gs(h,m);return}_.pendingTasks--,_.pendingTasks===0&&0<_.nodes.length&&(u=dn(h,m,C),xo(h,null,_.nodes,_.slots,m,u)),h.pendingRootTasks--,h.pendingRootTasks===0&&la(h)}}else _.pendingTasks--,_.status!==4&&(_.status=4,u=dn(h,m,C),_.status=4,_.errorDigest=u,Ui(h,_),_.parentFlushed&&h.clientRenderedBoundaries.push(_)),_.fallbackAbortableTasks.forEach(function(O){return ml(O,h,m)}),_.fallbackAbortableTasks.clear();h.allPendingTasks--,h.allPendingTasks===0&&Qa(h)}function Sr(u,h){try{var m=u.renderState,_=m.onHeaders;if(_){var C=m.headers;if(C){m.headers=null;var O=C.preconnects;if(C.fontPreloads&&(O&&(O+=", "),O+=C.fontPreloads),C.highImagePreloads&&(O&&(O+=", "),O+=C.highImagePreloads),!h){var j=m.styles.values(),te=j.next();e:for(;0<C.remainingCapacity&&!te.done;te=j.next())for(var z=te.value.sheets.values(),J=z.next();0<C.remainingCapacity&&!J.done;J=z.next()){var ve=J.value,ue=ve.props,Te=ue.href,Ee=ve.props,Ae=Nr(Ee.href,"style",{crossOrigin:Ee.crossOrigin,integrity:Ee.integrity,nonce:Ee.nonce,type:Ee.type,fetchPriority:Ee.fetchPriority,referrerPolicy:Ee.referrerPolicy,media:Ee.media});if(0<=(C.remainingCapacity-=Ae.length+2))m.resets.style[Te]=Mt,O&&(O+=", "),O+=Ae,m.resets.style[Te]=typeof ue.crossOrigin=="string"||typeof ue.integrity=="string"?[ue.crossOrigin,ue.integrity]:Mt;else break e}}_(O?{Link:O}:{})}}}catch(Ge){dn(u,Ge,{})}}function la(u){u.trackedPostpones===null&&Sr(u,!0),u.trackedPostpones===null&&bs(u),u.onShellError=Kr,u=u.onShellReady,u()}function Qa(u){Sr(u,u.trackedPostpones===null?!0:u.completedRootSegment===null||u.completedRootSegment.status!==5),bs(u),u=u.onAllReady,u()}function Vi(u,h){if(h.chunks.length===0&&h.children.length===1&&h.children[0].boundary===null&&h.children[0].id===-1){var m=h.children[0];m.id=h.id,m.parentFlushed=!0,m.status===1&&Vi(u,m)}else u.completedSegments.push(h)}function Ka(u,h,m){if(h===null){if(m!==null&&m.parentFlushed){if(u.completedRootSegment!==null)throw Error(t(389));u.completedRootSegment=m}u.pendingRootTasks--,u.pendingRootTasks===0&&la(u)}else h.pendingTasks--,h.status!==4&&(h.pendingTasks===0?(h.status===0&&(h.status=1),m!==null&&m.parentFlushed&&m.status===1&&Vi(h,m),h.parentFlushed&&u.completedBoundaries.push(h),h.status===1&&(h.fallbackAbortableTasks.forEach(cc,u),h.fallbackAbortableTasks.clear(),u.pendingRootTasks===0&&u.trackedPostpones===null&&h.contentPreamble!==null&&bs(u))):m!==null&&m.parentFlushed&&m.status===1&&(Vi(h,m),h.completedSegments.length===1&&h.parentFlushed&&u.partialBoundaries.push(h)));u.allPendingTasks--,u.allPendingTasks===0&&Qa(u)}function Du(u){if(u.status!==14&&u.status!==13){var h=Fn,m=Vn.H;Vn.H=dl;var _=Vn.A;Vn.A=en;var C=hr;hr=u;var O=Ha;Ha=u.resumableState;try{var j=u.pingedTasks,te;for(te=0;te<j.length;te++){var z=j[te],J=u,ve=z.blockedSegment;if(ve===null){var ue=J;if(z.replay.pendingTasks!==0){N(z.context);try{if(typeof z.replay.slots=="number"?wr(ue,z,z.replay.slots,z.node,z.childIndex):ua(ue,z),z.replay.pendingTasks===1&&0<z.replay.nodes.length)throw Error(t(488));z.replay.pendingTasks--,z.abortSet.delete(z),Ka(ue,z.blockedBoundary,null)}catch(mn){ps();var Te=mn===Ce?tt():mn;if(typeof Te=="object"&&Te!==null&&typeof Te.then=="function"){var Ee=z.ping;Te.then(Ee,Ee),z.thenableState=di()}else{z.replay.pendingTasks--,z.abortSet.delete(z);var Ae=ys(z.componentStack);J=void 0;var Ge=ue,Ft=z.blockedBoundary,pn=ue.status===12?ue.fatalError:Te,nt=z.replay.nodes,tn=z.replay.slots;J=dn(Ge,pn,Ae),xo(Ge,Ft,nt,tn,pn,J),ue.pendingRootTasks--,ue.pendingRootTasks===0&&la(ue),ue.allPendingTasks--,ue.allPendingTasks===0&&Qa(ue)}}finally{}}}else if(ue=void 0,Ge=ve,Ge.status===0){Ge.status=6,N(z.context);var un=Ge.children.length,kr=Ge.chunks.length;try{ua(J,z),Ge.lastPushedText&&Ge.textEmbedded&&Ge.chunks.push(Ar),z.abortSet.delete(z),Ge.status=1,Ka(J,z.blockedBoundary,Ge)}catch(mn){ps(),Ge.children.length=un,Ge.chunks.length=kr;var Sn=mn===Ce?tt():J.status===12?J.fatalError:mn;if(typeof Sn=="object"&&Sn!==null&&typeof Sn.then=="function"){Ge.status=0,z.thenableState=di();var vi=z.ping;Sn.then(vi,vi)}else{var Mr=ys(z.componentStack);z.abortSet.delete(z),Ge.status=4;var ft=z.blockedBoundary;ue=dn(J,Sn,Mr),ft===null?Gs(J,Sn):(ft.pendingTasks--,ft.status!==4&&(ft.status=4,ft.errorDigest=ue,Ui(J,ft),ft.parentFlushed&&J.clientRenderedBoundaries.push(ft),J.pendingRootTasks===0&&J.trackedPostpones===null&&ft.contentPreamble!==null&&bs(J))),J.allPendingTasks--,J.allPendingTasks===0&&Qa(J)}}finally{}}}j.splice(0,te),u.destination!==null&&Xa(u,u.destination)}catch(mn){dn(u,mn,{}),Gs(u,mn)}finally{Ha=O,Vn.H=m,Vn.A=_,m===dl&&N(h),hr=C}}}function Xr(u,h,m){h.preambleChildren.length&&m.push(h.preambleChildren);for(var _=!1,C=0;C<h.children.length;C++)_=Za(u,h.children[C],m)||_;return _}function Za(u,h,m){var _=h.boundary;if(_===null)return Xr(u,h,m);var C=_.contentPreamble,O=_.fallbackPreamble;if(C===null||O===null)return!1;switch(_.status){case 1:if(ro(u.renderState,C),h=_.completedSegments[0],!h)throw Error(t(391));return Xr(u,h,m);case 5:if(u.trackedPostpones!==null)return!0;case 4:if(h.status===1)return ro(u.renderState,O),Xr(u,h,m);default:return!0}}function bs(u){if(u.completedRootSegment&&u.completedPreambleSegments===null){var h=[],m=Za(u,u.completedRootSegment,h),_=u.renderState.preamble;(m===!1||_.headChunks&&_.bodyChunks)&&(u.completedPreambleSegments=h)}}function yi(u,h,m,_){switch(m.parentFlushed=!0,m.status){case 0:m.id=u.nextSegmentId++;case 5:return _=m.id,m.lastPushedText=!1,m.textEmbedded=!1,u=u.renderState,re(h,Ti),re(h,u.placeholderPrefix),u=ye(_.toString(16)),re(h,u),be(h,Pi);case 1:m.status=2;var C=!0,O=m.chunks,j=0;m=m.children;for(var te=0;te<m.length;te++){for(C=m[te];j<C.index;j++)re(h,O[j]);C=ca(u,h,C,_)}for(;j<O.length-1;j++)re(h,O[j]);return j<O.length&&(C=be(h,O[j])),C;default:throw Error(t(390))}}function ca(u,h,m,_){var C=m.boundary;if(C===null)return yi(u,h,m,_);if(C.parentFlushed=!0,C.status===4){var O=C.errorDigest;return be(h,vr),re(h,Pu),O&&(re(h,hs),re(h,ye(Me(O))),re(h,Tt)),be(h,ii),yi(u,h,m,_),(u=C.fallbackPreamble)&&so(h,u),be(h,Hr)}if(C.status!==1)return C.status===0&&(C.rootSegmentID=u.nextSegmentId++),0<C.completedSegments.length&&u.partialBoundaries.push(C),Or(h,u.renderState,C.rootSegmentID),_&&(C=C.fallbackState,C.styles.forEach(js,_),C.stylesheets.forEach(Oi,_)),yi(u,h,m,_),be(h,Hr);if(C.byteSize>u.progressiveChunkSize)return C.rootSegmentID=u.nextSegmentId++,u.completedBoundaries.push(C),Or(h,u.renderState,C.rootSegmentID),yi(u,h,m,_),be(h,Hr);if(_&&(m=C.contentState,m.styles.forEach(js,_),m.stylesheets.forEach(Oi,_)),be(h,Ma),m=C.completedSegments,m.length!==1)throw Error(t(391));return ca(u,h,m[0],_),(u=C.contentPreamble)&&so(h,u),be(h,Hr)}function To(u,h,m,_){return Yo(h,u.renderState,m.parentFormatContext,m.id),ca(u,h,m,_),Lt(h,m.parentFormatContext)}function ws(u,h,m){for(var _=m.completedSegments,C=0;C<_.length;C++)ha(u,h,m,_[C]);_.length=0,Ls(h,m.contentState,u.renderState),_=u.resumableState,u=u.renderState,C=m.rootSegmentID,m=m.contentState;var O=u.stylesToHoist;return u.stylesToHoist=!1,re(h,u.startInlineScript),O?(_.instructions&2)===0?(_.instructions|=10,re(h,ea)):(_.instructions&8)===0?(_.instructions|=8,re(h,$n)):re(h,ta):(_.instructions&2)===0?(_.instructions|=2,re(h,Ua)):re(h,an),_=ye(C.toString(16)),re(h,u.boundaryPrefix),re(h,_),re(h,na),re(h,u.segmentPrefix),re(h,_),O?(re(h,On),wt(h,m)):re(h,ui),m=be(h,fo),Es(h,u)&&m}function ha(u,h,m,_){if(_.status===2)return!0;var C=m.contentState,O=_.id;if(O===-1){if((_.id=m.rootSegmentID)===-1)throw Error(t(392));return To(u,h,_,C)}return O===m.rootSegmentID?To(u,h,_,C):(To(u,h,_,C),m=u.resumableState,u=u.renderState,re(h,u.startInlineScript),(m.instructions&1)===0?(m.instructions|=1,re(h,Ei)):re(h,ho),re(h,u.segmentPrefix),O=ye(O.toString(16)),re(h,O),re(h,La),re(h,u.placeholderPrefix),re(h,O),h=be(h,Jo),h)}function Xa(u,h){Rt=new Uint8Array(2048),it=0;try{if(!(0<u.pendingRootTasks)){var m,_=u.completedRootSegment;if(_!==null){if(_.status===5)return;var C=u.completedPreambleSegments;if(C===null)return;var O=u.renderState,j=O.preamble,te=j.htmlChunks,z=j.headChunks,J;if(te){for(J=0;J<te.length;J++)re(h,te[J]);if(z)for(J=0;J<z.length;J++)re(h,z[J]);else re(h,Jt("head")),re(h,_n)}else if(z)for(J=0;J<z.length;J++)re(h,z[J]);var ve=O.charsetChunks;for(J=0;J<ve.length;J++)re(h,ve[J]);ve.length=0,O.preconnects.forEach(In,h),O.preconnects.clear();var ue=O.viewportChunks;for(J=0;J<ue.length;J++)re(h,ue[J]);ue.length=0,O.fontPreloads.forEach(In,h),O.fontPreloads.clear(),O.highImagePreloads.forEach(In,h),O.highImagePreloads.clear(),O.styles.forEach(S,h);var Te=O.importMapChunks;for(J=0;J<Te.length;J++)re(h,Te[J]);Te.length=0,O.bootstrapScripts.forEach(In,h),O.scripts.forEach(In,h),O.scripts.clear(),O.bulkPreloads.forEach(In,h),O.bulkPreloads.clear();var Ee=O.hoistableChunks;for(J=0;J<Ee.length;J++)re(h,Ee[J]);for(O=Ee.length=0;O<C.length;O++){var Ae=C[O];for(j=0;j<Ae.length;j++)ca(u,h,Ae[j],null)}var Ge=u.renderState.preamble,Ft=Ge.headChunks;(Ge.htmlChunks||Ft)&&re(h,yr("head"));var pn=Ge.bodyChunks;if(pn)for(C=0;C<pn.length;C++)re(h,pn[C]);ca(u,h,_,null),u.completedRootSegment=null,Es(h,u.renderState)}var nt=u.renderState;_=0;var tn=nt.viewportChunks;for(_=0;_<tn.length;_++)re(h,tn[_]);tn.length=0,nt.preconnects.forEach(In,h),nt.preconnects.clear(),nt.fontPreloads.forEach(In,h),nt.fontPreloads.clear(),nt.highImagePreloads.forEach(In,h),nt.highImagePreloads.clear(),nt.styles.forEach(X,h),nt.scripts.forEach(In,h),nt.scripts.clear(),nt.bulkPreloads.forEach(In,h),nt.bulkPreloads.clear();var un=nt.hoistableChunks;for(_=0;_<un.length;_++)re(h,un[_]);un.length=0;var kr=u.clientRenderedBoundaries;for(m=0;m<kr.length;m++){var Sn=kr[m];nt=h;var vi=u.resumableState,Mr=u.renderState,ft=Sn.rootSegmentID,mn=Sn.errorDigest;re(nt,Mr.startInlineScript),(vi.instructions&4)===0?(vi.instructions|=4,re(nt,Fs)):re(nt,Va),re(nt,Mr.boundaryPrefix),re(nt,ye(ft.toString(16))),re(nt,li),mn&&(re(nt,$a),re(nt,ye(Nn(mn||""))));var nn=be(nt,hn);if(!nn){u.destination=null,m++,kr.splice(0,m);return}}kr.splice(0,m);var zt=u.completedBoundaries;for(m=0;m<zt.length;m++)if(!ws(u,h,zt[m])){u.destination=null,m++,zt.splice(0,m);return}zt.splice(0,m),ln(h),Rt=new Uint8Array(2048),it=0;var ji=u.partialBoundaries;for(m=0;m<ji.length;m++){var Ss=ji[m];e:{kr=u,Sn=h;var _r=Ss.completedSegments;for(nn=0;nn<_r.length;nn++)if(!ha(kr,Sn,Ss,_r[nn])){nn++,_r.splice(0,nn);var Eo=!1;break e}_r.splice(0,nn),Eo=Ls(Sn,Ss.contentState,kr.renderState)}if(!Eo){u.destination=null,m++,ji.splice(0,m);return}}ji.splice(0,m);var Tn=u.completedBoundaries;for(m=0;m<Tn.length;m++)if(!ws(u,h,Tn[m])){u.destination=null,m++,Tn.splice(0,m);return}Tn.splice(0,m)}}finally{u.allPendingTasks===0&&u.pingedTasks.length===0&&u.clientRenderedBoundaries.length===0&&u.completedBoundaries.length===0?(u.flushScheduled=!1,m=u.resumableState,m.hasBody&&re(h,yr("body")),m.hasHtml&&re(h,yr("html")),ln(h),u.status=14,h.close(),u.destination=null):ln(h)}}function Ln(u){u.flushScheduled=u.destination!==null,B(function(){return Du(u)}),G(function(){u.status===10&&(u.status=11),u.trackedPostpones===null&&Sr(u,u.pendingRootTasks===0)})}function $i(u){u.flushScheduled===!1&&u.pingedTasks.length===0&&u.destination!==null&&(u.flushScheduled=!0,G(function(){var h=u.destination;h?Xa(u,h):u.flushScheduled=!1}))}function Po(u,h){if(u.status===13)u.status=14,qt(h,u.fatalError);else if(u.status!==14&&u.destination===null){u.destination=h;try{Xa(u,h)}catch(m){dn(u,m,{}),Gs(u,m)}}}function Ro(u,h){(u.status===11||u.status===10)&&(u.status=12);try{var m=u.abortableTasks;if(0<m.size){var _=h===void 0?Error(t(432)):typeof h=="object"&&h!==null&&typeof h.then=="function"?Error(t(530)):h;u.fatalError=_,m.forEach(function(C){return ml(C,u,_)}),m.clear()}u.destination!==null&&Xa(u,u.destination)}catch(C){dn(u,C,{}),Gs(u,C)}}function Ya(){var u=n.version;if(u!=="19.1.0")throw Error(t(527,u,"19.1.0"))}return Ya(),Ya(),xh.prerender=function(u,h){return new Promise(function(m,_){var C=h?h.onHeaders:void 0,O;C&&(O=function(ve){C(new Headers(ve))});var j=ri(h?h.identifierPrefix:void 0,h?h.unstable_externalRuntimeSrc:void 0,h?h.bootstrapScriptContent:void 0,h?h.bootstrapScripts:void 0,h?h.bootstrapModules:void 0),te=Zr(u,j,Yi(j,void 0,h?h.unstable_externalRuntimeSrc:void 0,h?h.importMap:void 0,O,h?h.maxHeadersLength:void 0),Ji(h?h.namespaceURI:void 0),h?h.progressiveChunkSize:void 0,h?h.onError:void 0,function(){var ve={prelude:new ReadableStream({type:"bytes",pull:function(ue){Po(te,ue)},cancel:function(ue){te.destination=null,Ro(te,ue)}},{highWaterMark:0})};m(ve)},void 0,void 0,_,h?h.onPostpone:void 0);if(h&&h.signal){var z=h.signal;if(z.aborted)Ro(te,z.reason);else{var J=function(){Ro(te,z.reason),z.removeEventListener("abort",J)};z.addEventListener("abort",J)}}Ln(te)})},xh.renderToReadableStream=function(u,h){return new Promise(function(m,_){var C,O,j=new Promise(function(Ee,Ae){O=Ee,C=Ae}),te=h?h.onHeaders:void 0,z;te&&(z=function(Ee){te(new Headers(Ee))});var J=ri(h?h.identifierPrefix:void 0,h?h.unstable_externalRuntimeSrc:void 0,h?h.bootstrapScriptContent:void 0,h?h.bootstrapScripts:void 0,h?h.bootstrapModules:void 0),ve=zs(u,J,Yi(J,h?h.nonce:void 0,h?h.unstable_externalRuntimeSrc:void 0,h?h.importMap:void 0,z,h?h.maxHeadersLength:void 0),Ji(h?h.namespaceURI:void 0),h?h.progressiveChunkSize:void 0,h?h.onError:void 0,O,function(){var Ee=new ReadableStream({type:"bytes",pull:function(Ae){Po(ve,Ae)},cancel:function(Ae){ve.destination=null,Ro(ve,Ae)}},{highWaterMark:0});Ee.allReady=j,m(Ee)},function(Ee){j.catch(function(){}),_(Ee)},C,h?h.onPostpone:void 0,h?h.formState:void 0);if(h&&h.signal){var ue=h.signal;if(ue.aborted)Ro(ve,ue.reason);else{var Te=function(){Ro(ve,ue.reason),ue.removeEventListener("abort",Te)};ue.addEventListener("abort",Te)}}Ln(ve)})},xh.version="19.1.0",xh}var Nb;function KN(){if(Nb)return Vl;Nb=1;var n,e;return n=GN(),e=QN(),Vl.version=n.version,Vl.renderToString=n.renderToString,Vl.renderToStaticMarkup=n.renderToStaticMarkup,Vl.renderToReadableStream=e.renderToReadableStream,e.resume&&(Vl.resume=e.resume),Vl}var ZN=KN();const dk=()=>{const[n,e]=dt.useState(),t=async()=>{await VD(Vh,new du)},r=async()=>{await bD(Vh)};return dt.useEffect(()=>{const i=vD(Vh,a=>{e(a)});return()=>i()}),{login:t,logout:r,authUser:n}};function pk(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=pk(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function XN(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=pk(n))&&(r&&(r+=" "),r+=e);return r}const mk=6048e5,YN=864e5,Fb=Symbol.for("constructDateFrom");function cl(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&Fb in n?n[Fb](e):n instanceof Date?new n.constructor(e):new Date(e)}function Ho(n,e){return cl(e||n,n)}let JN={};function ip(){return JN}function Xh(n,e){var t,r,i,a;const f=ip(),y=(e==null?void 0:e.weekStartsOn)??((r=(t=e==null?void 0:e.locale)==null?void 0:t.options)==null?void 0:r.weekStartsOn)??f.weekStartsOn??((a=(i=f.locale)==null?void 0:i.options)==null?void 0:a.weekStartsOn)??0,w=Ho(n,e==null?void 0:e.in),T=w.getDay(),R=(T<y?7:0)+T-y;return w.setDate(w.getDate()-R),w.setHours(0,0,0,0),w}function Ed(n,e){return Xh(n,{...e,weekStartsOn:1})}function gk(n,e){const t=Ho(n,void 0),r=t.getFullYear(),i=cl(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=Ed(i),f=cl(t,0);f.setFullYear(r,0,4),f.setHours(0,0,0,0);const y=Ed(f);return t.getTime()>=a.getTime()?r+1:t.getTime()>=y.getTime()?r:r-1}function Mb(n){const e=Ho(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function eF(n,...e){const t=cl.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function Lb(n,e){const t=Ho(n,void 0);return t.setHours(0,0,0,0),t}function tF(n,e,t){const[r,i]=eF(void 0,n,e),a=Lb(r),f=Lb(i),y=+a-Mb(a),w=+f-Mb(f);return Math.round((y-w)/YN)}function nF(n,e){const t=gk(n),r=cl(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ed(r)}function rF(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function sF(n){return!(!rF(n)&&typeof n!="number"||isNaN(+Ho(n)))}function iF(n,e){const t=Ho(n,void 0);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const oF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},aF=(n,e,t)=>{let r;const i=oF[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Kp(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const uF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hF={date:Kp({formats:uF,defaultWidth:"full"}),time:Kp({formats:lF,defaultWidth:"full"}),dateTime:Kp({formats:cF,defaultWidth:"full"})},fF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dF=(n,e,t,r)=>fF[n];function Th(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const f=n.defaultFormattingWidth||n.defaultWidth,y=t!=null&&t.width?String(t.width):f;i=n.formattingValues[y]||n.formattingValues[f]}else{const f=n.defaultWidth,y=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[y]||n.values[f]}const a=n.argumentCallback?n.argumentCallback(e):e;return i[a]}}const pF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wF=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},SF={ordinalNumber:wF,era:Th({values:pF,defaultWidth:"wide"}),quarter:Th({values:mF,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Th({values:gF,defaultWidth:"wide"}),day:Th({values:yF,defaultWidth:"wide"}),dayPeriod:Th({values:vF,defaultWidth:"wide",formattingValues:bF,defaultFormattingWidth:"wide"})};function Ph(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=e.match(i);if(!a)return null;const f=a[0],y=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],w=Array.isArray(y)?_F(y,V=>V.test(f)):kF(y,V=>V.test(f));let T;T=n.valueCallback?n.valueCallback(w):w,T=t.valueCallback?t.valueCallback(T):T;const R=e.slice(f.length);return{value:T,rest:R}}}function kF(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function _F(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function CF(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],a=e.match(n.parsePattern);if(!a)return null;let f=n.valueCallback?n.valueCallback(a[0]):a[0];f=t.valueCallback?t.valueCallback(f):f;const y=e.slice(i.length);return{value:f,rest:y}}}const IF=/^(\d+)(th|st|nd|rd)?/i,xF=/\d+/i,TF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PF={any:[/^b/i,/^(a|c)/i]},RF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},EF={any:[/1/i,/2/i,/3/i,/4/i]},AF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},DF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},OF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},MF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},LF={ordinalNumber:CF({matchPattern:IF,parsePattern:xF,valueCallback:n=>parseInt(n,10)}),era:Ph({matchPatterns:TF,defaultMatchWidth:"wide",parsePatterns:PF,defaultParseWidth:"any"}),quarter:Ph({matchPatterns:RF,defaultMatchWidth:"wide",parsePatterns:EF,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ph({matchPatterns:AF,defaultMatchWidth:"wide",parsePatterns:DF,defaultParseWidth:"any"}),day:Ph({matchPatterns:OF,defaultMatchWidth:"wide",parsePatterns:NF,defaultParseWidth:"any"}),dayPeriod:Ph({matchPatterns:FF,defaultMatchWidth:"any",parsePatterns:MF,defaultParseWidth:"any"})},UF={code:"en-US",formatDistance:aF,formatLong:hF,formatRelative:dF,localize:SF,match:LF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function VF(n,e){const t=Ho(n,void 0);return tF(t,iF(t))+1}function $F(n,e){const t=Ho(n,void 0),r=+Ed(t)-+nF(t);return Math.round(r/mk)+1}function yk(n,e){var t,r,i,a;const f=Ho(n,e==null?void 0:e.in),y=f.getFullYear(),w=ip(),T=(e==null?void 0:e.firstWeekContainsDate)??((r=(t=e==null?void 0:e.locale)==null?void 0:t.options)==null?void 0:r.firstWeekContainsDate)??w.firstWeekContainsDate??((a=(i=w.locale)==null?void 0:i.options)==null?void 0:a.firstWeekContainsDate)??1,R=cl((e==null?void 0:e.in)||n,0);R.setFullYear(y+1,0,T),R.setHours(0,0,0,0);const V=Xh(R,e),Q=cl((e==null?void 0:e.in)||n,0);Q.setFullYear(y,0,T),Q.setHours(0,0,0,0);const ee=Xh(Q,e);return+f>=+V?y+1:+f>=+ee?y:y-1}function jF(n,e){var t,r,i,a;const f=ip(),y=(e==null?void 0:e.firstWeekContainsDate)??((r=(t=e==null?void 0:e.locale)==null?void 0:t.options)==null?void 0:r.firstWeekContainsDate)??f.firstWeekContainsDate??((a=(i=f.locale)==null?void 0:i.options)==null?void 0:a.firstWeekContainsDate)??1,w=yk(n,e),T=cl((e==null?void 0:e.in)||n,0);return T.setFullYear(w,0,y),T.setHours(0,0,0,0),Xh(T,e)}function BF(n,e){const t=Ho(n,e==null?void 0:e.in),r=+Xh(t,e)-+jF(t,e);return Math.round(r/mk)+1}function Wt(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const zu={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Wt(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Wt(t+1,2)},d(n,e){return Wt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Wt(n.getHours()%12||12,e.length)},H(n,e){return Wt(n.getHours(),e.length)},m(n,e){return Wt(n.getMinutes(),e.length)},s(n,e){return Wt(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Wt(i,e.length)}},xc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ub={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return zu.y(n,e)},Y:function(n,e,t,r){const i=yk(n,r),a=i>0?i:1-i;if(e==="YY"){const f=a%100;return Wt(f,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):Wt(a,e.length)},R:function(n,e){const t=gk(n);return Wt(t,e.length)},u:function(n,e){const t=n.getFullYear();return Wt(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Wt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Wt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return zu.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Wt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=BF(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Wt(i,e.length)},I:function(n,e,t){const r=$F(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Wt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):zu.d(n,e)},D:function(n,e,t){const r=VF(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Wt(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Wt(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Wt(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Wt(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const r=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=xc.noon:r===0?i=xc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=xc.evening:r>=12?i=xc.afternoon:r>=4?i=xc.morning:i=xc.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return zu.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):zu.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Wt(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Wt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):zu.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):zu.s(n,e)},S:function(n,e){return zu.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return $b(r);case"XXXX":case"XX":return jl(r);case"XXXXX":case"XXX":default:return jl(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return $b(r);case"xxxx":case"xx":return jl(r);case"xxxxx":case"xxx":default:return jl(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Vb(r,":");case"OOOO":default:return"GMT"+jl(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Vb(r,":");case"zzzz":default:return"GMT"+jl(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Wt(r,e.length)},T:function(n,e,t){return Wt(+n,e.length)}};function Vb(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),a=r%60;return a===0?t+String(i):t+String(i)+e+Wt(a,2)}function $b(n,e){return n%60===0?(n>0?"-":"+")+Wt(Math.abs(n)/60,2):jl(n,e)}function jl(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Wt(Math.trunc(r/60),2),a=Wt(r%60,2);return t+i+e+a}const jb=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},vk=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},qF=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return jb(n,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",jb(r,e)).replace("{{time}}",vk(i,e))},HF={p:vk,P:qF},zF=/^D+$/,WF=/^Y+$/,GF=["D","DD","YY","YYYY"];function QF(n){return zF.test(n)}function KF(n){return WF.test(n)}function ZF(n,e,t){const r=XF(n,e,t);if(console.warn(r),GF.includes(n))throw new RangeError(r)}function XF(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const YF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eM=/^'([^]*?)'?$/,tM=/''/g,nM=/[a-zA-Z]/;function rM(n,e,t){var r,i,a,f;const y=ip(),w=y.locale??UF,T=y.firstWeekContainsDate??((i=(r=y.locale)==null?void 0:r.options)==null?void 0:i.firstWeekContainsDate)??1,R=y.weekStartsOn??((f=(a=y.locale)==null?void 0:a.options)==null?void 0:f.weekStartsOn)??0,V=Ho(n,void 0);if(!sF(V))throw new RangeError("Invalid time value");let Q=e.match(JF).map(ne=>{const le=ne[0];if(le==="p"||le==="P"){const fe=HF[le];return fe(ne,w.formatLong)}return ne}).join("").match(YF).map(ne=>{if(ne==="''")return{isToken:!1,value:"'"};const le=ne[0];if(le==="'")return{isToken:!1,value:sM(ne)};if(Ub[le])return{isToken:!0,value:ne};if(le.match(nM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+le+"`");return{isToken:!1,value:ne}});w.localize.preprocessor&&(Q=w.localize.preprocessor(V,Q));const ee={firstWeekContainsDate:T,weekStartsOn:R,locale:w};return Q.map(ne=>{if(!ne.isToken)return ne.value;const le=ne.value;(KF(le)||QF(le))&&ZF(le,e,String(n));const fe=Ub[le[0]];return fe(V,le,w.localize,ee)}).join("")}function sM(n){const e=n.match(eM);return e?e[1].replace(tM,"'"):n}var Zp={exports:{}},Xp,Bb;function iM(){if(Bb)return Xp;Bb=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Xp=n,Xp}var Yp,qb;function oM(){if(qb)return Yp;qb=1;var n=iM();function e(){}function t(){}return t.resetWarningCache=e,Yp=function(){function r(f,y,w,T,R,V){if(V!==n){var Q=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Q.name="Invariant Violation",Q}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Yp}var Hb;function aM(){return Hb||(Hb=1,Zp.exports=oM()()),Zp.exports}var pe=aM(),Nm=function(){return Nm=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Nm.apply(this,arguments)},bk={onActivate:pe.func,onAddUndo:pe.func,onBeforeAddUndo:pe.func,onBeforeExecCommand:pe.func,onBeforeGetContent:pe.func,onBeforeRenderUI:pe.func,onBeforeSetContent:pe.func,onBeforePaste:pe.func,onBlur:pe.func,onChange:pe.func,onClearUndos:pe.func,onClick:pe.func,onContextMenu:pe.func,onCommentChange:pe.func,onCompositionEnd:pe.func,onCompositionStart:pe.func,onCompositionUpdate:pe.func,onCopy:pe.func,onCut:pe.func,onDblclick:pe.func,onDeactivate:pe.func,onDirty:pe.func,onDrag:pe.func,onDragDrop:pe.func,onDragEnd:pe.func,onDragGesture:pe.func,onDragOver:pe.func,onDrop:pe.func,onExecCommand:pe.func,onFocus:pe.func,onFocusIn:pe.func,onFocusOut:pe.func,onGetContent:pe.func,onHide:pe.func,onInit:pe.func,onInput:pe.func,onKeyDown:pe.func,onKeyPress:pe.func,onKeyUp:pe.func,onLoadContent:pe.func,onMouseDown:pe.func,onMouseEnter:pe.func,onMouseLeave:pe.func,onMouseMove:pe.func,onMouseOut:pe.func,onMouseOver:pe.func,onMouseUp:pe.func,onNodeChange:pe.func,onObjectResizeStart:pe.func,onObjectResized:pe.func,onObjectSelected:pe.func,onPaste:pe.func,onPostProcess:pe.func,onPostRender:pe.func,onPreProcess:pe.func,onProgressState:pe.func,onRedo:pe.func,onRemove:pe.func,onReset:pe.func,onSaveContent:pe.func,onSelectionChange:pe.func,onSetAttrib:pe.func,onSetContent:pe.func,onShow:pe.func,onSubmit:pe.func,onUndo:pe.func,onVisualAid:pe.func,onSkinLoadError:pe.func,onThemeLoadError:pe.func,onModelLoadError:pe.func,onPluginLoadError:pe.func,onIconsLoadError:pe.func,onLanguageLoadError:pe.func,onScriptsLoad:pe.func,onScriptsLoadError:pe.func},uM=Nm({apiKey:pe.string,licenseKey:pe.string,id:pe.string,inline:pe.bool,init:pe.object,initialValue:pe.string,onEditorChange:pe.func,value:pe.string,tagName:pe.string,tabIndex:pe.number,cloudChannel:pe.string,plugins:pe.oneOfType([pe.string,pe.array]),toolbar:pe.oneOfType([pe.string,pe.array]),disabled:pe.bool,textareaName:pe.string,tinymceScriptSrc:pe.oneOfType([pe.string,pe.arrayOf(pe.string),pe.arrayOf(pe.shape({src:pe.string,async:pe.bool,defer:pe.bool}))]),rollback:pe.oneOfType([pe.number,pe.oneOf([!1])]),scriptLoading:pe.shape({async:pe.bool,defer:pe.bool,delay:pe.number})},bk),Jp=function(n){return typeof n=="function"},zb=function(n){return n in bk},Wb=function(n){return n.substr(2)},lM=function(n,e,t,r,i,a,f){var y=Object.keys(i).filter(zb),w=Object.keys(a).filter(zb),T=y.filter(function(V){return a[V]===void 0}),R=w.filter(function(V){return i[V]===void 0});T.forEach(function(V){var Q=Wb(V),ee=f[Q];t(Q,ee),delete f[Q]}),R.forEach(function(V){var Q=r(n,V),ee=Wb(V);f[ee]=Q,e(ee,Q)})},cM=function(n,e,t,r,i){return lM(i,n.on.bind(n),n.off.bind(n),function(a,f){return function(y){var w;return(w=a(f))===null||w===void 0?void 0:w(y,n)}},e,t,r)},Gb=0,wk=function(n){var e=Date.now(),t=Math.floor(Math.random()*1e9);return Gb++,n+"_"+t+Gb+String(e)},Qb=function(n){return n!==null&&(n.tagName.toLowerCase()==="textarea"||n.tagName.toLowerCase()==="input")},Kb=function(n){return typeof n>"u"||n===""?[]:Array.isArray(n)?n:n.split(" ")},hM=function(n,e){return Kb(n).concat(Kb(e))},fM=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},dM=function(n){if(!("isConnected"in Node.prototype)){for(var e=n,t=n.parentNode;t!=null;)e=t,t=e.parentNode;return e===n.ownerDocument}return n.isConnected},Zb=function(n,e){n!==void 0&&(n.mode!=null&&typeof n.mode=="object"&&typeof n.mode.set=="function"?n.mode.set(e):n.setMode(e))},Fm=function(){return Fm=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Fm.apply(this,arguments)},pM=function(n,e,t){var r,i,a=n.createElement("script");a.referrerPolicy="origin",a.type="application/javascript",a.id=e.id,a.src=e.src,a.async=(r=e.async)!==null&&r!==void 0?r:!1,a.defer=(i=e.defer)!==null&&i!==void 0?i:!1;var f=function(){a.removeEventListener("load",f),a.removeEventListener("error",y),t(e.src)},y=function(w){a.removeEventListener("load",f),a.removeEventListener("error",y),t(e.src,w)};a.addEventListener("load",f),a.addEventListener("error",y),n.head&&n.head.appendChild(a)},mM=function(n){var e={},t=function(f,y){var w=e[f];w.done=!0,w.error=y;for(var T=0,R=w.handlers;T<R.length;T++){var V=R[T];V(f,y)}w.handlers=[]},r=function(f,y,w){var T=function(Ie){return w!==void 0?w(Ie):console.error(Ie)};if(f.length===0){T(new Error("At least one script must be provided"));return}for(var R=0,V=!1,Q=function(Ie,Pe){V||(Pe?(V=!0,T(Pe)):++R===f.length&&y())},ee=0,ne=f;ee<ne.length;ee++){var le=ne[ee],fe=e[le.src];if(fe)fe.done?Q(le.src,fe.error):fe.handlers.push(Q);else{var xe=wk("tiny-");e[le.src]={id:xe,src:le.src,done:!1,error:null,handlers:[Q]},pM(n,Fm({id:xe},le),t)}}},i=function(){for(var f,y=0,w=Object.values(e);y<w.length;y++){var T=w[y],R=n.getElementById(T.id);R!=null&&R.tagName==="SCRIPT"&&((f=R.parentNode)===null||f===void 0||f.removeChild(R))}e={}},a=function(){return n};return{loadScripts:r,deleteScripts:i,getDocument:a}},gM=function(){var n=[],e=function(i){var a=n.find(function(f){return f.getDocument()===i});return a===void 0&&(a=mM(i),n.push(a)),a},t=function(i,a,f,y,w){var T=function(){return e(i).loadScripts(a,y,w)};f>0?setTimeout(T,f):T()},r=function(){for(var i=n.pop();i!=null;i=n.pop())i.deleteScripts()};return{loadList:t,reinitialize:r}},yM=gM(),Xb=function(n){var e=n;return e&&e.tinymce?e.tinymce:null},vM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Dc=function(){return Dc=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Dc.apply(this,arguments)},em="change keyup compositionend setcontent CommentChange",bM=function(n){vM(e,n);function e(t){var r,i,a,f=n.call(this,t)||this;return f.rollbackTimer=void 0,f.valueCursor=void 0,f.rollbackChange=function(){var y=f.editor,w=f.props.value;y&&w&&w!==f.currentContent&&y.undoManager.ignore(function(){if(y.setContent(w),f.valueCursor&&(!f.inline||y.hasFocus()))try{y.selection.moveToBookmark(f.valueCursor)}catch{}}),f.rollbackTimer=void 0},f.handleBeforeInput=function(y){if(f.props.value!==void 0&&f.props.value===f.currentContent&&f.editor&&(!f.inline||f.editor.hasFocus()))try{f.valueCursor=f.editor.selection.getBookmark(3)}catch{}},f.handleBeforeInputSpecial=function(y){(y.key==="Enter"||y.key==="Backspace"||y.key==="Delete")&&f.handleBeforeInput(y)},f.handleEditorChange=function(y){var w=f.editor;if(w&&w.initialized){var T=w.getContent();f.props.value!==void 0&&f.props.value!==T&&f.props.rollback!==!1&&(f.rollbackTimer||(f.rollbackTimer=window.setTimeout(f.rollbackChange,typeof f.props.rollback=="number"?f.props.rollback:200))),T!==f.currentContent&&(f.currentContent=T,Jp(f.props.onEditorChange)&&f.props.onEditorChange(T,w))}},f.handleEditorChangeSpecial=function(y){(y.key==="Backspace"||y.key==="Delete")&&f.handleEditorChange(y)},f.initialise=function(y){var w,T,R;y===void 0&&(y=0);var V=f.elementRef.current;if(V){if(!dM(V)){if(y===0)setTimeout(function(){return f.initialise(1)},1);else if(y<100)setTimeout(function(){return f.initialise(y+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var Q=Xb(f.view);if(!Q)throw new Error("tinymce should have been loaded into global scope");var ee=Dc(Dc(Dc(Dc({},f.props.init),{selector:void 0,target:V,readonly:f.props.disabled,inline:f.inline,plugins:hM((w=f.props.init)===null||w===void 0?void 0:w.plugins,f.props.plugins),toolbar:(T=f.props.toolbar)!==null&&T!==void 0?T:(R=f.props.init)===null||R===void 0?void 0:R.toolbar}),f.props.licenseKey?{license_key:f.props.licenseKey}:{}),{setup:function(ne){f.editor=ne,f.bindHandlers({}),f.inline&&!Qb(V)&&ne.once("PostRender",function(le){ne.setContent(f.getInitialValue(),{no_events:!0})}),f.props.init&&Jp(f.props.init.setup)&&f.props.init.setup(ne)},init_instance_callback:function(ne){var le,fe,xe=f.getInitialValue();f.currentContent=(le=f.currentContent)!==null&&le!==void 0?le:ne.getContent(),f.currentContent!==xe&&(f.currentContent=xe,ne.setContent(xe),ne.undoManager.clear(),ne.undoManager.add(),ne.setDirty(!1));var Ie=(fe=f.props.disabled)!==null&&fe!==void 0?fe:!1;Zb(f.editor,Ie?"readonly":"design"),f.props.init&&Jp(f.props.init.init_instance_callback)&&f.props.init.init_instance_callback(ne)}});f.inline||(V.style.visibility=""),Qb(V)&&(V.value=f.getInitialValue()),Q.init(ee)}},f.id=f.props.id||wk("tiny-react"),f.elementRef=dt.createRef(),f.inline=(a=(r=f.props.inline)!==null&&r!==void 0?r:(i=f.props.init)===null||i===void 0?void 0:i.inline)!==null&&a!==void 0?a:!1,f.boundHandlers={},f}return Object.defineProperty(e.prototype,"view",{get:function(){var t,r;return(r=(t=this.elementRef.current)===null||t===void 0?void 0:t.ownerDocument.defaultView)!==null&&r!==void 0?r:window},enumerable:!1,configurable:!0}),e.prototype.componentDidUpdate=function(t){var r=this,i,a;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(t),this.editor.initialized)){if(this.currentContent=(i=this.currentContent)!==null&&i!==void 0?i:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==t.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var f=this.editor;f.undoManager.transact(function(){var w;if(!r.inline||f.hasFocus())try{w=f.selection.getBookmark(3)}catch{}var T=r.valueCursor;if(f.setContent(r.props.value),!r.inline||f.hasFocus())for(var R=0,V=[w,T];R<V.length;R++){var Q=V[R];if(Q)try{f.selection.moveToBookmark(Q),r.valueCursor=Q;break}catch{}}})}if(this.props.disabled!==t.disabled){var y=(a=this.props.disabled)!==null&&a!==void 0?a:!1;Zb(this.editor,y?"readonly":"design")}}},e.prototype.componentDidMount=function(){var t=this,r,i,a,f,y;if(Xb(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(i=(r=this.props).onScriptsLoadError)===null||i===void 0||i.call(r,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((a=this.elementRef.current)===null||a===void 0)&&a.ownerDocument){var w=function(){var R,V;(V=(R=t.props).onScriptsLoad)===null||V===void 0||V.call(R),t.initialise()},T=function(R){var V,Q;(Q=(V=t.props).onScriptsLoadError)===null||Q===void 0||Q.call(V,R)};yM.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(y=(f=this.props.scriptLoading)===null||f===void 0?void 0:f.delay)!==null&&y!==void 0?y:0,w,T)}},e.prototype.componentWillUnmount=function(){var t=this,r=this.editor;r&&(r.off(em,this.handleEditorChange),r.off(this.beforeInputEvent(),this.handleBeforeInput),r.off("keypress",this.handleEditorChangeSpecial),r.off("keydown",this.handleBeforeInputSpecial),r.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(i){r.off(i,t.boundHandlers[i])}),this.boundHandlers={},r.remove(),this.editor=void 0)},e.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},e.prototype.beforeInputEvent=function(){return fM()?"beforeinput SelectionChange":"SelectionChange"},e.prototype.renderInline=function(){var t=this.props.tagName,r=t===void 0?"div":t;return dt.createElement(r,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},e.prototype.renderIframe=function(){return dt.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},e.prototype.getScriptSources=function(){var t,r,i=(t=this.props.scriptLoading)===null||t===void 0?void 0:t.async,a=(r=this.props.scriptLoading)===null||r===void 0?void 0:r.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:i,defer:a}]:this.props.tinymceScriptSrc.map(function(T){return typeof T=="string"?{src:T,async:i,defer:a}:T});var f=this.props.cloudChannel,y=this.props.apiKey?this.props.apiKey:"no-api-key",w="https://cdn.tiny.cloud/1/".concat(y,"/tinymce/").concat(f,"/tinymce.min.js");return[{src:w,async:i,defer:a}]},e.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},e.prototype.bindHandlers=function(t){var r=this;if(this.editor!==void 0){cM(this.editor,t,this.props,this.boundHandlers,function(y){return r.props[y]});var i=function(y){return y.onEditorChange!==void 0||y.value!==void 0},a=i(t),f=i(this.props);!a&&f?(this.editor.on(em,this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):a&&!f&&(this.editor.off(em,this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},e.propTypes=uM,e.defaultProps={cloudChannel:"7"},e}(dt.Component);const wM=dt.forwardRef(({initialContent:n,onChangeContent:e,disabled:t,onEditorInit:r},i)=>{const a=dt.useRef(null),[f,y]=dt.useState(""),w=dt.useCallback(ee=>{console.log("EditorTinyMCE > setEditorContent"),setTimeout(()=>{var ne,le;(le=(ne=a.current)==null?void 0:ne.editor)==null||le.setContent(ee)},100)},[a]),T=dt.useCallback(()=>{var ee,ne;return console.log("EditorTinyMCE > getEditorContent",a),((ne=(ee=a.current)==null?void 0:ee.editor)==null?void 0:ne.getContent())??""},[a]);dt.useImperativeHandle(i,()=>({setEditorContent:w,getEditorContent:T}));const R=window.location.origin,V=window.location.pathname.split("/").filter(ee=>ee!=""),Q=[`${R}/tinymce/tinymce.min.js`,`${R}/${V[0]}/tinymce/tinymce.min.js`];return dt.useEffect(()=>{Q.forEach(async ee=>{(await fetch(ee)).status==200&&y(ee)})},[]),dt.useEffect(()=>{console.log(f)},[f]),jt.jsxs(jt.Fragment,{children:[f==""&&jt.jsx(jt.Fragment,{children:"Loading..."}),f!=""&&jt.jsx(bM,{licenseKey:"gpl",ref:a,tinymceScriptSrc:`${f}`,onInit:(ee,ne)=>{console.log("Editor Initialized!"),r==null||r()},initialValue:n,init:{inline:!0,menubar:!1,branding:!1,promotion:!1,toolbar:!1,plugins:["quickbars","image","media","link","lists","table","fullscreen","code","help","wordcount"],quickbars_insert_toolbar:"image media table",quickbars_selection_toolbar:"bold italic | alignleft aligncenter alignright | link unlink | image media",quickbars_image_toolbar:"alignleft aligncenter alignright | rotateleft rotateright | imageoptions",contextmenu:"image link media",image_advtab:!0}})]})}),SM=dt.forwardRef(({initialContent:n,onChangeContent:e,disabled:t,onEditorInit:r},i)=>{const a=dt.useRef(null),f=T=>{var R;console.log("Editor > setEditorContent"),(R=a.current)==null||R.setEditorContent(T)},y=()=>{var T;return console.log("Editor > getEditorContent"),((T=a.current)==null?void 0:T.getEditorContent())??""},w=dt.useCallback(()=>{console.log("Editor > handleOnEditorInit",a.current),a.current&&r&&(r(),f(n))},[a]);return dt.useImperativeHandle(i,()=>({setEditorContent:f,getEditorContent:y})),jt.jsx(wM,{ref:a,onEditorInit:w,onChangeContent:()=>{},initialContent:"",disabled:!1})}),kM=nl.memo(({contentId:n,children:e,onContentChange:t})=>{const{addContent:r,getContentHistory:i}=MO(),{authUser:a}=dk(),[f,y]=dt.useState(!1),[w,T]=dt.useState(!1),[R,V]=dt.useState(!0),[Q,ee]=dt.useState(""),[ne,le]=dt.useState(),fe=dt.useRef(null),xe=dt.useMemo(()=>ZN.renderToStaticMarkup(e),[e]),[Ie,Pe]=dt.useState(""),[Ue]=dt.useState("light"),[je]=dt.useState(!1),Oe=rx.debounce(async()=>{var it;const re=(it=fe.current)==null?void 0:it.getEditorContent();if(console.log("debounceAddContent"),re)try{const be=await r(n,{contentValue:re});Y(re),ee(""),le(be)}catch(be){ee(be.toString())}else ee("No changes made");V(!1)},100),q=dt.useCallback(async()=>{},[]),L=dt.useCallback(it=>{var re;console.log("EditableContent > setEditorContent",fe.current),(re=fe.current)==null||re.setEditorContent(it)},[fe]),U=dt.useCallback(()=>{console.log("EditableContent > handleToggleEditorClick"),y(!f),f||L(Ie)},[f,fe]),G=dt.useCallback(()=>{w&&!f&&U()},[w,f,fe]),K=dt.useCallback(()=>{ee("Saving ..."),Oe()},[]),Y=it=>{var re,be;console.log("EditableContent > setContent");const ln=new DOMParser().parseFromString(it,"text/html").querySelector("body");let vn=it;if(ln){let ye=!1;ln.childNodes.forEach(se=>{se.childNodes.length>0&&(ye=!0)}),ye||((be=(re=ln.firstChild)==null?void 0:re.textContent)==null?void 0:be.trim())==""&&(vn="")}Pe(vn),t&&t(vn)};dt.useEffect(()=>{console.log("EditableContent > useEffect",fe.current);const it=async()=>{const re=await i(n);if(re){const be=re.items[0].contentValue;be?(w?(Y(be),le(re)):Y(be),V(!1)):Y(`Empty content for contentId ${n}`)}else Y(xe),V(!1)};V(!0),it(),T(!!a)},[a,n,i,xe,w,fe.current]);const B=()=>{},Rt=dt.useCallback(it=>{const re=ne==null?void 0:ne.items[it];re&&L(re.contentValue)},[ne]);return jt.jsxs(BN,{className:XN({IsShowingEditor:f,canEdit:w}),onClick:G,children:[a&&w&&jt.jsxs(jN,{className:f?"show":"",children:[jt.jsxs(VN,{className:f?"show":"",children:[jt.jsx("button",{onClick:U,children:"Toggle Editor"}),jt.jsx("button",{onClick:K,children:"Save"})]}),Q&&jt.jsx($N,{children:Q})]}),R&&jt.jsxs(jt.Fragment,{children:["Loading ",n," ..."]}),!f&&!R&&jt.jsxs(jt.Fragment,{children:[Ie&&jt.jsx("div",{className:"reactjs-tiptap-editor",children:jt.jsx("div",{className:"tiptap ProseMirror",dangerouslySetInnerHTML:{__html:Ie??""}})}),!Ie&&w&&jt.jsxs("div",{children:["No content for contentId: ",n]})]}),w&&f&&!R&&jt.jsxs(qN,{children:[jt.jsx(SM,{onEditorInit:B,ref:fe,onChangeContent:q,initialContent:Ie,disabled:!1}),jt.jsxs(HN,{children:[jt.jsxs(WN,{children:["History for: ",jt.jsx("span",{children:n})]}),jt.jsx(zN,{multiple:!0,children:ne&&ne.items.map((it,re)=>jt.jsx("option",{onClick:be=>Rt(re),children:rM(it.createdOn,"yyyy-MM-dd hh:mm:ss")},it.documentId))})]})]})]})}),_M=({loginText:n="Login",logoutText:e="Logout"})=>{const{login:t,logout:r,authUser:i}=dk(),a=async()=>{await t()},f=async()=>{await r()};return jt.jsxs(jt.Fragment,{children:[!i&&jt.jsx("button",{onClick:a,children:n}),i&&jt.jsx("button",{onClick:f,children:e})]})},CM=YI.section`
    overflow: auto;
    height: 94vh;
    padding: 10px;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;

    & div {
        align-self: stretch;
    }
`,xM=()=>Af.jsxs(CM,{children:[Af.jsx(_M,{}),Af.jsx("div",{children:Af.jsx(kM,{contentId:"CMS Content",children:"This is some inital content"})})]});export{xM as default};
