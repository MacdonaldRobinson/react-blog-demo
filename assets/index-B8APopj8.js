const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-aA3quUJ3.js","assets/WrapWithBgImage-CzCIyd9L.js","assets/BlogPage-CZJheWnM.js"])))=>i.map(i=>d[i]);
var gw=t=>{throw TypeError(t)};var Bg=(t,e,n)=>e.has(t)||gw("Cannot "+n);var j=(t,e,n)=>(Bg(t,e,"read from private field"),n?n.call(t):e.get(t)),Ue=(t,e,n)=>e.has(t)?gw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Te=(t,e,n,i)=>(Bg(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),at=(t,e,n)=>(Bg(t,e,"access private method"),n);var Qf=(t,e,n,i)=>({set _(a){Te(t,e,a,n)},get _(){return j(t,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var sB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function MO(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jg={exports:{}},Ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw;function PO(){if(yw)return Ic;yw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Ic.Fragment=e,Ic.jsx=n,Ic.jsxs=n,Ic}var vw;function xO(){return vw||(vw=1,jg.exports=PO()),jg.exports}var Fe=xO(),Fg={exports:{}},Qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function kO(){if(_w)return Qe;_w=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=_&&L[_]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,N={};function D(L,le,de){this.props=L,this.context=le,this.refs=N,this.updater=de||S}D.prototype.isReactComponent={},D.prototype.setState=function(L,le){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,le,"setState")},D.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function B(){}B.prototype=D.prototype;function H(L,le,de){this.props=L,this.context=le,this.refs=N,this.updater=de||S}var q=H.prototype=new B;q.constructor=H,R(q,D.prototype),q.isPureReactComponent=!0;var ie=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function O(L,le,de,fe,Se,xe){return de=xe.ref,{$$typeof:t,type:L,key:le,ref:de!==void 0?de:null,props:xe}}function C(L,le){return O(L.type,le,void 0,void 0,void 0,L.props)}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function k(L){var le={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(de){return le[de]})}var U=/\/+/g;function F(L,le){return typeof L=="object"&&L!==null&&L.key!=null?k(""+L.key):le.toString(36)}function x(){}function Ut(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(x,x):(L.status="pending",L.then(function(le){L.status==="pending"&&(L.status="fulfilled",L.value=le)},function(le){L.status==="pending"&&(L.status="rejected",L.reason=le)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function He(L,le,de,fe,Se){var xe=typeof L;(xe==="undefined"||xe==="boolean")&&(L=null);var Ne=!1;if(L===null)Ne=!0;else switch(xe){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(L.$$typeof){case t:case e:Ne=!0;break;case y:return Ne=L._init,He(Ne(L._payload),le,de,fe,Se)}}if(Ne)return Se=Se(L),Ne=fe===""?"."+F(L,0):fe,ie(Se)?(de="",Ne!=null&&(de=Ne.replace(U,"$&/")+"/"),He(Se,le,de,"",function(ut){return ut})):Se!=null&&(I(Se)&&(Se=C(Se,de+(Se.key==null||L&&L.key===Se.key?"":(""+Se.key).replace(U,"$&/")+"/")+Ne)),le.push(Se)),1;Ne=0;var kt=fe===""?".":fe+":";if(ie(L))for(var lt=0;lt<L.length;lt++)fe=L[lt],xe=kt+F(fe,lt),Ne+=He(fe,le,de,xe,Se);else if(lt=w(L),typeof lt=="function")for(L=lt.call(L),lt=0;!(fe=L.next()).done;)fe=fe.value,xe=kt+F(fe,lt++),Ne+=He(fe,le,de,xe,Se);else if(xe==="object"){if(typeof L.then=="function")return He(Ut(L),le,de,fe,Se);throw le=String(L),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function ne(L,le,de){if(L==null)return L;var fe=[],Se=0;return He(L,fe,"","",function(xe){return le.call(de,xe,Se++)}),fe}function me(L){if(L._status===-1){var le=L._result;le=le(),le.then(function(de){(L._status===0||L._status===-1)&&(L._status=1,L._result=de)},function(de){(L._status===0||L._status===-1)&&(L._status=2,L._result=de)}),L._status===-1&&(L._status=0,L._result=le)}if(L._status===1)return L._result.default;throw L._result}var we=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Pe(){}return Qe.Children={map:ne,forEach:function(L,le,de){ne(L,function(){le.apply(this,arguments)},de)},count:function(L){var le=0;return ne(L,function(){le++}),le},toArray:function(L){return ne(L,function(le){return le})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Qe.Component=D,Qe.Fragment=n,Qe.Profiler=a,Qe.PureComponent=H,Qe.StrictMode=i,Qe.Suspense=p,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return M.H.useMemoCache(L)}},Qe.cache=function(L){return function(){return L.apply(null,arguments)}},Qe.cloneElement=function(L,le,de){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var fe=R({},L.props),Se=L.key,xe=void 0;if(le!=null)for(Ne in le.ref!==void 0&&(xe=void 0),le.key!==void 0&&(Se=""+le.key),le)!re.call(le,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&le.ref===void 0||(fe[Ne]=le[Ne]);var Ne=arguments.length-2;if(Ne===1)fe.children=de;else if(1<Ne){for(var kt=Array(Ne),lt=0;lt<Ne;lt++)kt[lt]=arguments[lt+2];fe.children=kt}return O(L.type,Se,void 0,void 0,xe,fe)},Qe.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Qe.createElement=function(L,le,de){var fe,Se={},xe=null;if(le!=null)for(fe in le.key!==void 0&&(xe=""+le.key),le)re.call(le,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Se[fe]=le[fe]);var Ne=arguments.length-2;if(Ne===1)Se.children=de;else if(1<Ne){for(var kt=Array(Ne),lt=0;lt<Ne;lt++)kt[lt]=arguments[lt+2];Se.children=kt}if(L&&L.defaultProps)for(fe in Ne=L.defaultProps,Ne)Se[fe]===void 0&&(Se[fe]=Ne[fe]);return O(L,xe,void 0,void 0,null,Se)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(L){return{$$typeof:d,render:L}},Qe.isValidElement=I,Qe.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:me}},Qe.memo=function(L,le){return{$$typeof:m,type:L,compare:le===void 0?null:le}},Qe.startTransition=function(L){var le=M.T,de={};M.T=de;try{var fe=L(),Se=M.S;Se!==null&&Se(de,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Pe,we)}catch(xe){we(xe)}finally{M.T=le}},Qe.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Qe.use=function(L){return M.H.use(L)},Qe.useActionState=function(L,le,de){return M.H.useActionState(L,le,de)},Qe.useCallback=function(L,le){return M.H.useCallback(L,le)},Qe.useContext=function(L){return M.H.useContext(L)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(L,le){return M.H.useDeferredValue(L,le)},Qe.useEffect=function(L,le,de){var fe=M.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(L,le)},Qe.useId=function(){return M.H.useId()},Qe.useImperativeHandle=function(L,le,de){return M.H.useImperativeHandle(L,le,de)},Qe.useInsertionEffect=function(L,le){return M.H.useInsertionEffect(L,le)},Qe.useLayoutEffect=function(L,le){return M.H.useLayoutEffect(L,le)},Qe.useMemo=function(L,le){return M.H.useMemo(L,le)},Qe.useOptimistic=function(L,le){return M.H.useOptimistic(L,le)},Qe.useReducer=function(L,le,de){return M.H.useReducer(L,le,de)},Qe.useRef=function(L){return M.H.useRef(L)},Qe.useState=function(L){return M.H.useState(L)},Qe.useSyncExternalStore=function(L,le,de){return M.H.useSyncExternalStore(L,le,de)},Qe.useTransition=function(){return M.H.useTransition()},Qe.version="19.1.0",Qe}var Ew;function Nv(){return Ew||(Ew=1,Fg.exports=kO()),Fg.exports}var K=Nv();const Vi=MO(K);var qg={exports:{}},Dc={},Hg={exports:{}},Gg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function LO(){return Tw||(Tw=1,function(t){function e(ne,me){var we=ne.length;ne.push(me);e:for(;0<we;){var Pe=we-1>>>1,L=ne[Pe];if(0<a(L,me))ne[Pe]=me,ne[we]=L,we=Pe;else break e}}function n(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var me=ne[0],we=ne.pop();if(we!==me){ne[0]=we;e:for(var Pe=0,L=ne.length,le=L>>>1;Pe<le;){var de=2*(Pe+1)-1,fe=ne[de],Se=de+1,xe=ne[Se];if(0>a(fe,we))Se<L&&0>a(xe,fe)?(ne[Pe]=xe,ne[Se]=we,Pe=Se):(ne[Pe]=fe,ne[de]=we,Pe=de);else if(Se<L&&0>a(xe,we))ne[Pe]=xe,ne[Se]=we,Pe=Se;else break e}}return me}function a(ne,me){var we=ne.sortIndex-me.sortIndex;return we!==0?we:ne.id-me.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var p=[],m=[],y=1,_=null,w=3,S=!1,R=!1,N=!1,D=!1,B=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ie(ne){for(var me=n(m);me!==null;){if(me.callback===null)i(m);else if(me.startTime<=ne)i(m),me.sortIndex=me.expirationTime,e(p,me);else break;me=n(m)}}function M(ne){if(N=!1,ie(ne),!R)if(n(p)!==null)R=!0,re||(re=!0,F());else{var me=n(m);me!==null&&He(M,me.startTime-ne)}}var re=!1,O=-1,C=5,I=-1;function k(){return D?!0:!(t.unstable_now()-I<C)}function U(){if(D=!1,re){var ne=t.unstable_now();I=ne;var me=!0;try{e:{R=!1,N&&(N=!1,H(O),O=-1),S=!0;var we=w;try{t:{for(ie(ne),_=n(p);_!==null&&!(_.expirationTime>ne&&k());){var Pe=_.callback;if(typeof Pe=="function"){_.callback=null,w=_.priorityLevel;var L=Pe(_.expirationTime<=ne);if(ne=t.unstable_now(),typeof L=="function"){_.callback=L,ie(ne),me=!0;break t}_===n(p)&&i(p),ie(ne)}else i(p);_=n(p)}if(_!==null)me=!0;else{var le=n(m);le!==null&&He(M,le.startTime-ne),me=!1}}break e}finally{_=null,w=we,S=!1}me=void 0}}finally{me?F():re=!1}}}var F;if(typeof q=="function")F=function(){q(U)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Ut=x.port2;x.port1.onmessage=U,F=function(){Ut.postMessage(null)}}else F=function(){B(U,0)};function He(ne,me){O=B(function(){ne(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(ne){switch(w){case 1:case 2:case 3:var me=3;break;default:me=w}var we=w;w=me;try{return ne()}finally{w=we}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var we=w;w=ne;try{return me()}finally{w=we}},t.unstable_scheduleCallback=function(ne,me,we){var Pe=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Pe+we:Pe):we=Pe,ne){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=we+L,ne={id:y++,callback:me,priorityLevel:ne,startTime:we,expirationTime:L,sortIndex:-1},we>Pe?(ne.sortIndex=we,e(m,ne),n(p)===null&&ne===n(m)&&(N?(H(O),O=-1):N=!0,He(M,we-Pe))):(ne.sortIndex=L,e(p,ne),R||S||(R=!0,re||(re=!0,F()))),ne},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(ne){var me=w;return function(){var we=w;w=me;try{return ne.apply(this,arguments)}finally{w=we}}}}(Gg)),Gg}var ww;function VO(){return ww||(ww=1,Hg.exports=LO()),Hg.exports}var $g={exports:{}},Mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function UO(){if(bw)return Mn;bw=1;var t=Nv();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:p,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Mn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,y)},Mn.flushSync=function(p){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=y,i.d.f()}},Mn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},Mn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Mn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,_=d(y,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:S}):y==="script"&&i.d.X(p,{crossOrigin:_,integrity:w,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Mn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},Mn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=d(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Mn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=d(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},Mn.requestFormReset=function(p){i.d.r(p)},Mn.unstable_batchedUpdates=function(p,m){return p(m)},Mn.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},Mn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Mn.version="19.1.0",Mn}var Sw;function DA(){if(Sw)return $g.exports;Sw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$g.exports=UO(),$g.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function zO(){if(Aw)return Dc;Aw=1;var t=VO(),e=Nv(),n=DA();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),r;if(g===u)return d(f),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=g;else{for(var T=!1,b=f.child;b;){if(b===o){T=!0,o=f,u=g;break}if(b===u){T=!0,u=f,o=g;break}b=b.sibling}if(!T){for(b=g.child;b;){if(b===o){T=!0,o=g,u=f;break}if(b===u){T=!0,u=g,o=f;break}b=b.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var x=Symbol.for("react.client.reference");function Ut(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===x?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case D:return"Profiler";case N:return"StrictMode";case M:return"Suspense";case re:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case q:return(r.displayName||"Context")+".Provider";case H:return(r._context.displayName||"Context")+".Consumer";case ie:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return s=r.displayName||null,s!==null?s:Ut(r.type)||"Memo";case C:s=r._payload,r=r._init;try{return Ut(r(s))}catch{}}return null}var He=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},Pe=[],L=-1;function le(r){return{current:r}}function de(r){0>L||(r.current=Pe[L],Pe[L]=null,L--)}function fe(r,s){L++,Pe[L]=r.current,r.current=s}var Se=le(null),xe=le(null),Ne=le(null),kt=le(null);function lt(r,s){switch(fe(Ne,s),fe(xe,r),fe(Se,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?HT(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=HT(s),r=GT(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}de(Se),fe(Se,r)}function ut(){de(Se),de(xe),de(Ne)}function an(r){r.memoizedState!==null&&fe(kt,r);var s=Se.current,o=GT(s,r.type);s!==o&&(fe(xe,r),fe(Se,o))}function Tn(r){xe.current===r&&(de(Se),de(xe)),kt.current===r&&(de(kt),bc._currentValue=we)}var fn=Object.prototype.hasOwnProperty,Bn=t.unstable_scheduleCallback,qi=t.unstable_cancelCallback,Pa=t.unstable_shouldYield,xa=t.unstable_requestPaint,Xn=t.unstable_now,Ou=t.unstable_getCurrentPriorityLevel,ka=t.unstable_ImmediatePriority,Ps=t.unstable_UserBlockingPriority,jn=t.unstable_NormalPriority,Hi=t.unstable_LowPriority,Gi=t.unstable_IdlePriority,$i=t.log,ar=t.unstable_setDisableYieldValue,mt=null,gt=null;function wn(r){if(typeof $i=="function"&&ar(r),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(mt,r)}catch{}}var dn=Math.clz32?Math.clz32:oi,or=Math.log,Ko=Math.LN2;function oi(r){return r>>>=0,r===0?32:31-(or(r)/Ko|0)|0}var li=256,Ki=4194304;function Wn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function qr(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,g=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var b=u&134217727;return b!==0?(u=b&~g,u!==0?f=Wn(u):(T&=b,T!==0?f=Wn(T):o||(o=b&~r,o!==0&&(f=Wn(o))))):(b=u&~g,b!==0?f=Wn(b):T!==0?f=Wn(T):o||(o=u&~r,o!==0&&(f=Wn(o)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:f}function ui(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Qi(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function La(){var r=li;return li<<=1,(li&4194048)===0&&(li=256),r}function xs(){var r=Ki;return Ki<<=1,(Ki&62914560)===0&&(Ki=4194304),r}function Hr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Tr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ci(r,s,o,u,f,g){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var b=r.entanglements,P=r.expirationTimes,X=r.hiddenUpdates;for(o=T&~o;0<o;){var se=31-dn(o),ue=1<<se;b[se]=0,P[se]=-1;var W=X[se];if(W!==null)for(X[se]=null,se=0;se<W.length;se++){var J=W[se];J!==null&&(J.lane&=-536870913)}o&=~ue}u!==0&&Fn(r,u,0),g!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=g&~(T&~s))}function Fn(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-dn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Va(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-dn(o),f=1<<u;f&s|r[u]&s&&(r[u]|=s),o&=~f}}function hi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function V(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function $(){var r=me.p;return r!==0?r:(r=window.event,r===void 0?32:cw(r.type))}function Z(r,s){var o=me.p;try{return me.p=r,s()}finally{me.p=o}}var ae=Math.random().toString(36).slice(2),pe="__reactFiber$"+ae,ve="__reactProps$"+ae,Ae="__reactContainer$"+ae,Re="__reactEvents$"+ae,Ie="__reactListeners$"+ae,ye="__reactHandles$"+ae,Ce="__reactResources$"+ae,Oe="__reactMarker$"+ae;function $e(r){delete r[pe],delete r[ve],delete r[Re],delete r[Ie],delete r[ye]}function yt(r){var s=r[pe];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Ae]||o[pe]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=YT(r);r!==null;){if(o=r[pe])return o;r=YT(r)}return s}r=o,o=r.parentNode}return null}function Mt(r){if(r=r[pe]||r[Ae]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function _t(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Je(r){var s=r[Ce];return s||(s=r[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ke(r){r[Oe]=!0}var wr=new Set,br={};function Gt(r,s){Xt(r,s),Xt(r+"Capture",s)}function Xt(r,s){for(br[r]=s,r=0;r<s.length;r++)wr.add(s[r])}var ks=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fi={},qn={};function Yi(r){return fn.call(qn,r)?!0:fn.call(fi,r)?!1:ks.test(r)?qn[r]=!0:(fi[r]=!0,!1)}function lr(r,s,o){if(Yi(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function et(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function ct(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var Sr,di;function Tt(r){if(Sr===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Sr=s&&s[1]||"",di=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sr+r+di}var ur=!1;function Xi(r,s){if(!r||ur)return"";ur=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(J){var W=J}Reflect.construct(r,[],ue)}else{try{ue.call()}catch(J){W=J}r.call(ue.prototype)}}else{try{throw Error()}catch(J){W=J}(ue=r())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],b=g[1];if(T&&b){var P=T.split(`
`),X=b.split(`
`);for(f=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;if(u===P.length||f===X.length)for(u=P.length-1,f=X.length-1;1<=u&&0<=f&&P[u]!==X[f];)f--;for(;1<=u&&0<=f;u--,f--)if(P[u]!==X[f]){if(u!==1||f!==1)do if(u--,f--,0>f||P[u]!==X[f]){var se=`
`+P[u].replace(" at new "," at ");return r.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",r.displayName)),se}while(1<=u&&0<=f);break}}}finally{ur=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Tt(o):""}function Ua(r){switch(r.tag){case 26:case 27:case 5:return Tt(r.type);case 16:return Tt("Lazy");case 13:return Tt("Suspense");case 19:return Tt("SuspenseList");case 0:case 15:return Xi(r.type,!1);case 11:return Xi(r.type.render,!1);case 1:return Xi(r.type,!0);case 31:return Tt("Activity");default:return""}}function Qo(r){try{var s="";do s+=Ua(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Hn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Nu(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Hp(r){var s=Nu(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){u=""+T,g.call(this,T)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Yo(r){r._valueTracker||(r._valueTracker=Hp(r))}function Mu(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Nu(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function za(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Gp=/[\n"\\]/g;function Wt(r){return r.replace(Gp,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function cr(r,s,o,u,f,g,T,b){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Hn(s)):r.value!==""+Hn(s)&&(r.value=""+Hn(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?Ls(r,T,Hn(s)):o!=null?Ls(r,T,Hn(o)):u!=null&&r.removeAttribute("value"),f==null&&g!=null&&(r.defaultChecked=!!g),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.name=""+Hn(b):r.removeAttribute("name")}function Ba(r,s,o,u,f,g,T,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+Hn(o):"",s=s!=null?""+Hn(s):o,b||s===r.value||(r.value=s),r.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=b?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function Ls(r,s,o){s==="number"&&za(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Wi(r,s,o,u){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Hn(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function It(r,s,o){if(s!=null&&(s=""+Hn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Hn(o):""}function ja(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(He(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Hn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Ar(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Fa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mh(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Fa.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Pu(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Mh(r,f,u)}else for(var g in s)s.hasOwnProperty(g)&&Mh(r,g,s[g])}function xu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $p=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xo(r){return Kp.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ji=null;function Rr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Zi=null,es=null;function ku(r){var s=Mt(r);if(s&&(r=s.stateNode)){var o=r[ve]||null;e:switch(r=s.stateNode,s.type){case"input":if(cr(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Wt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var f=u[ve]||null;if(!f)throw Error(i(90));cr(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Mu(u)}break e;case"textarea":It(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Wi(r,!!o.multiple,s,!1)}}}var pi=!1;function Ph(r,s,o){if(pi)return r(s,o);pi=!0;try{var u=r(s);return u}finally{if(pi=!1,(Zi!==null||es!==null)&&(Cf(),Zi&&(s=Zi,r=es,es=Zi=null,ku(s),r)))for(s=0;s<r.length;s++)ku(r[s])}}function qa(r,s){var o=r.stateNode;if(o===null)return null;var u=o[ve]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Gr)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{Cr=!1}var mi=null,Vs=null,ts=null;function Lu(){if(ts)return ts;var r,s=Vs,o=s.length,u,f="value"in mi?mi.value:mi.textContent,g=f.length;for(r=0;r<o&&s[r]===f[r];r++);var T=o-r;for(u=1;u<=T&&s[o-u]===f[g-u];u++);return ts=f.slice(r,1<u?1-u:void 0)}function gi(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function yi(){return!0}function Vu(){return!1}function pn(r){function s(o,u,f,g,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(o=r[b],this[b]=o?o(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?yi:Vu,this.isPropagationStopped=Vu,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),s}var wt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wo=pn(wt),Ga=y({},wt,{view:0,detail:0}),xh=pn(Ga),Jo,Zo,vi,$a=y({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==vi&&(vi&&r.type==="mousemove"?(Jo=r.screenX-vi.screenX,Zo=r.screenY-vi.screenY):Zo=Jo=0,vi=r),Jo)},movementY:function(r){return"movementY"in r?r.movementY:Zo}}),Ir=pn($a),kh=y({},$a,{dataTransfer:0}),Qp=pn(kh),Ka=y({},Ga,{relatedTarget:0}),el=pn(Ka),Uu=y({},wt,{animationName:0,elapsedTime:0,pseudoElement:0}),tl=pn(Uu),Lh=y({},wt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),nl=pn(Lh),Yp=y({},wt,{data:0}),zu=pn(Yp),Qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Uh[r])?!!s[r]:!1}function Ya(){return Bu}var zh=y({},Ga,{key:function(r){if(r.key){var s=Qa[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=gi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Vh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(r){return r.type==="keypress"?gi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?gi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),rl=pn(zh),Bh=y({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ju=pn(Bh),ns=y({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),jh=pn(ns),Fh=y({},wt,{propertyName:0,elapsedTime:0,pseudoElement:0}),qh=pn(Fh),Hh=y({},$a,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),il=pn(Hh),Gn=y({},wt,{newState:0,oldState:0}),Gh=pn(Gn),$h=[9,13,27,32],_i=Gr&&"CompositionEvent"in window,h=null;Gr&&"documentMode"in document&&(h=document.documentMode);var v=Gr&&"TextEvent"in window&&!h,E=Gr&&(!_i||h&&8<h&&11>=h),A=" ",Q=!1;function ee(r,s){switch(r){case"keyup":return $h.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ht=!1;function on(r,s){switch(r){case"compositionend":return ge(s);case"keypress":return s.which!==32?null:(Q=!0,A);case"textInput":return r=s.data,r===A&&Q?null:r;default:return null}}function ft(r,s){if(ht)return r==="compositionend"||!_i&&ee(r,s)?(r=Lu(),ts=Vs=mi=null,ht=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ln(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!mn[r.type]:s==="textarea"}function rs(r,s,o,u){Zi?es?es.push(u):es=[u]:Zi=u,s=Pf(s,"onChange"),0<s.length&&(o=new Wo("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var bn=null,Ei=null;function Fu(r){zT(r,0)}function Kh(r){var s=_t(r);if(Mu(s))return r}function a0(r,s){if(r==="change")return s}var o0=!1;if(Gr){var Xp;if(Gr){var Wp="oninput"in document;if(!Wp){var l0=document.createElement("div");l0.setAttribute("oninput","return;"),Wp=typeof l0.oninput=="function"}Xp=Wp}else Xp=!1;o0=Xp&&(!document.documentMode||9<document.documentMode)}function u0(){bn&&(bn.detachEvent("onpropertychange",c0),Ei=bn=null)}function c0(r){if(r.propertyName==="value"&&Kh(Ei)){var s=[];rs(s,Ei,r,Rr(r)),Ph(Fu,s)}}function lD(r,s,o){r==="focusin"?(u0(),bn=s,Ei=o,bn.attachEvent("onpropertychange",c0)):r==="focusout"&&u0()}function uD(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Kh(Ei)}function cD(r,s){if(r==="click")return Kh(s)}function hD(r,s){if(r==="input"||r==="change")return Kh(s)}function fD(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var hr=typeof Object.is=="function"?Object.is:fD;function qu(r,s){if(hr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!fn.call(s,f)||!hr(r[f],s[f]))return!1}return!0}function h0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function f0(r,s){var o=h0(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=h0(o)}}function d0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?d0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function p0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=za(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=za(r.document)}return s}function Jp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var dD=Gr&&"documentMode"in document&&11>=document.documentMode,sl=null,Zp=null,Hu=null,em=!1;function m0(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;em||sl==null||sl!==za(u)||(u=sl,"selectionStart"in u&&Jp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Hu&&qu(Hu,u)||(Hu=u,u=Pf(Zp,"onSelect"),0<u.length&&(s=new Wo("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=sl)))}function Xa(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var al={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},tm={},g0={};Gr&&(g0=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function Wa(r){if(tm[r])return tm[r];if(!al[r])return r;var s=al[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in g0)return tm[r]=s[o];return r}var y0=Wa("animationend"),v0=Wa("animationiteration"),_0=Wa("animationstart"),pD=Wa("transitionrun"),mD=Wa("transitionstart"),gD=Wa("transitioncancel"),E0=Wa("transitionend"),T0=new Map,nm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nm.push("scrollEnd");function $r(r,s){T0.set(r,s),Gt(s,[r])}var w0=new WeakMap;function Dr(r,s){if(typeof r=="object"&&r!==null){var o=w0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Qo(s)},w0.set(r,s),s)}return{value:r,source:s,stack:Qo(s)}}var Or=[],ol=0,rm=0;function Qh(){for(var r=ol,s=rm=ol=0;s<r;){var o=Or[s];Or[s++]=null;var u=Or[s];Or[s++]=null;var f=Or[s];Or[s++]=null;var g=Or[s];if(Or[s++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}g!==0&&b0(o,f,g)}}function Yh(r,s,o,u){Or[ol++]=r,Or[ol++]=s,Or[ol++]=o,Or[ol++]=u,rm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function im(r,s,o,u){return Yh(r,s,o,u),Xh(r)}function ll(r,s){return Yh(r,null,null,s),Xh(r)}function b0(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(f=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,f&&s!==null&&(f=31-dn(o),r=g.hiddenUpdates,u=r[f],u===null?r[f]=[s]:u.push(s),s.lane=o|536870912),g):null}function Xh(r){if(50<mc)throw mc=0,cg=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var ul={};function yD(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(r,s,o,u){return new yD(r,s,o,u)}function sm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function is(r,s){var o=r.alternate;return o===null?(o=fr(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function S0(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Wh(r,s,o,u,f,g){var T=0;if(u=r,typeof r=="function")sm(r)&&(T=1);else if(typeof r=="string")T=_O(r,o,Se.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=fr(31,o,s,f),r.elementType=I,r.lanes=g,r;case R:return Ja(o.children,f,g,s);case N:T=8,f|=24;break;case D:return r=fr(12,o,s,f|2),r.elementType=D,r.lanes=g,r;case M:return r=fr(13,o,s,f),r.elementType=M,r.lanes=g,r;case re:return r=fr(19,o,s,f),r.elementType=re,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case B:case q:T=10;break e;case H:T=9;break e;case ie:T=11;break e;case O:T=14;break e;case C:T=16,u=null;break e}T=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=fr(T,o,s,f),s.elementType=r,s.type=u,s.lanes=g,s}function Ja(r,s,o,u){return r=fr(7,r,u,s),r.lanes=o,r}function am(r,s,o){return r=fr(6,r,null,s),r.lanes=o,r}function om(r,s,o){return s=fr(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var cl=[],hl=0,Jh=null,Zh=0,Nr=[],Mr=0,Za=null,ss=1,as="";function eo(r,s){cl[hl++]=Zh,cl[hl++]=Jh,Jh=r,Zh=s}function A0(r,s,o){Nr[Mr++]=ss,Nr[Mr++]=as,Nr[Mr++]=Za,Za=r;var u=ss;r=as;var f=32-dn(u)-1;u&=~(1<<f),o+=1;var g=32-dn(s)+f;if(30<g){var T=f-f%5;g=(u&(1<<T)-1).toString(32),u>>=T,f-=T,ss=1<<32-dn(s)+f|o<<f|u,as=g+r}else ss=1<<g|o<<f|u,as=r}function lm(r){r.return!==null&&(eo(r,1),A0(r,1,0))}function um(r){for(;r===Jh;)Jh=cl[--hl],cl[hl]=null,Zh=cl[--hl],cl[hl]=null;for(;r===Za;)Za=Nr[--Mr],Nr[Mr]=null,as=Nr[--Mr],Nr[Mr]=null,ss=Nr[--Mr],Nr[Mr]=null}var $n=null,Ft=null,Et=!1,to=null,Ti=!1,cm=Error(i(519));function no(r){var s=Error(i(418,""));throw Ku(Dr(s,r)),cm}function R0(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[pe]=r,s[ve]=u,o){case"dialog":nt("cancel",s),nt("close",s);break;case"iframe":case"object":case"embed":nt("load",s);break;case"video":case"audio":for(o=0;o<yc.length;o++)nt(yc[o],s);break;case"source":nt("error",s);break;case"img":case"image":case"link":nt("error",s),nt("load",s);break;case"details":nt("toggle",s);break;case"input":nt("invalid",s),Ba(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Yo(s);break;case"select":nt("invalid",s);break;case"textarea":nt("invalid",s),ja(s,u.value,u.defaultValue,u.children),Yo(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||qT(s.textContent,o)?(u.popover!=null&&(nt("beforetoggle",s),nt("toggle",s)),u.onScroll!=null&&nt("scroll",s),u.onScrollEnd!=null&&nt("scrollend",s),u.onClick!=null&&(s.onclick=xf),s=!0):s=!1,s||no(r)}function C0(r){for($n=r.return;$n;)switch($n.tag){case 5:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:$n=$n.return}}function Gu(r){if(r!==$n)return!1;if(!Et)return C0(r),Et=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Rg(r.type,r.memoizedProps)),o=!o),o&&Ft&&no(r),C0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Ft=Qr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Ft=null}}else s===27?(s=Ft,Zs(r.type)?(r=Og,Og=null,Ft=r):Ft=s):Ft=$n?Qr(r.stateNode.nextSibling):null;return!0}function $u(){Ft=$n=null,Et=!1}function I0(){var r=to;return r!==null&&(er===null?er=r:er.push.apply(er,r),to=null),r}function Ku(r){to===null?to=[r]:to.push(r)}var hm=le(null),ro=null,os=null;function Us(r,s,o){fe(hm,s._currentValue),s._currentValue=o}function ls(r){r._currentValue=hm.current,de(hm)}function fm(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function dm(r,s,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var g=f.dependencies;if(g!==null){var T=f.child;g=g.firstContext;e:for(;g!==null;){var b=g;g=f;for(var P=0;P<s.length;P++)if(b.context===s[P]){g.lanes|=o,b=g.alternate,b!==null&&(b.lanes|=o),fm(g.return,o,r),u||(T=null);break e}g=b.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),fm(T,o,r),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===r){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Qu(r,s,o,u){r=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var b=f.type;hr(f.pendingProps.value,T.value)||(r!==null?r.push(b):r=[b])}}else if(f===kt.current){if(T=f.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(bc):r=[bc])}f=f.return}r!==null&&dm(s,r,o,u),s.flags|=262144}function ef(r){for(r=r.firstContext;r!==null;){if(!hr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function io(r){ro=r,os=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Nn(r){return D0(ro,r)}function tf(r,s){return ro===null&&io(r),D0(r,s)}function D0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},os===null){if(r===null)throw Error(i(308));os=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else os=os.next=s;return o}var vD=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},_D=t.unstable_scheduleCallback,ED=t.unstable_NormalPriority,un={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pm(){return{controller:new vD,data:new Map,refCount:0}}function Yu(r){r.refCount--,r.refCount===0&&_D(ED,function(){r.controller.abort()})}var Xu=null,mm=0,fl=0,dl=null;function TD(r,s){if(Xu===null){var o=Xu=[];mm=0,fl=yg(),dl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return mm++,s.then(O0,O0),s}function O0(){if(--mm===0&&Xu!==null){dl!==null&&(dl.status="fulfilled");var r=Xu;Xu=null,fl=0,dl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function wD(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var N0=ne.S;ne.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&TD(r,s),N0!==null&&N0(r,s)};var so=le(null);function gm(){var r=so.current;return r!==null?r:xt.pooledCache}function nf(r,s){s===null?fe(so,so.current):fe(so,s.pool)}function M0(){var r=gm();return r===null?null:{parent:un._currentValue,pool:r}}var Wu=Error(i(460)),P0=Error(i(474)),rf=Error(i(542)),ym={then:function(){}};function x0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function sf(){}function k0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(sf,sf),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,V0(r),r;default:if(typeof s.status=="string")s.then(sf,sf);else{if(r=xt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,V0(r),r}throw Ju=s,Wu}}var Ju=null;function L0(){if(Ju===null)throw Error(i(459));var r=Ju;return Ju=null,r}function V0(r){if(r===Wu||r===rf)throw Error(i(483))}var zs=!1;function vm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _m(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Bs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function js(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Rt&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Xh(r),b0(r,null,o),s}return Yh(r,u,s,o),Xh(r)}function Zu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Va(r,o)}}function Em(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?f=g=s:g=g.next=s}else f=g=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Tm=!1;function ec(){if(Tm){var r=dl;if(r!==null)throw r}}function tc(r,s,o,u){Tm=!1;var f=r.updateQueue;zs=!1;var g=f.firstBaseUpdate,T=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var P=b,X=P.next;P.next=null,T===null?g=X:T.next=X,T=P;var se=r.alternate;se!==null&&(se=se.updateQueue,b=se.lastBaseUpdate,b!==T&&(b===null?se.firstBaseUpdate=X:b.next=X,se.lastBaseUpdate=P))}if(g!==null){var ue=f.baseState;T=0,se=X=P=null,b=g;do{var W=b.lane&-536870913,J=W!==b.lane;if(J?(dt&W)===W:(u&W)===W){W!==0&&W===fl&&(Tm=!0),se!==null&&(se=se.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Ve=r,ke=b;W=s;var Nt=o;switch(ke.tag){case 1:if(Ve=ke.payload,typeof Ve=="function"){ue=Ve.call(Nt,ue,W);break e}ue=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=ke.payload,W=typeof Ve=="function"?Ve.call(Nt,ue,W):Ve,W==null)break e;ue=y({},ue,W);break e;case 2:zs=!0}}W=b.callback,W!==null&&(r.flags|=64,J&&(r.flags|=8192),J=f.callbacks,J===null?f.callbacks=[W]:J.push(W))}else J={lane:W,tag:b.tag,payload:b.payload,callback:b.callback,next:null},se===null?(X=se=J,P=ue):se=se.next=J,T|=W;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;J=b,b=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);se===null&&(P=ue),f.baseState=P,f.firstBaseUpdate=X,f.lastBaseUpdate=se,g===null&&(f.shared.lanes=0),Ys|=T,r.lanes=T,r.memoizedState=ue}}function U0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function z0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)U0(o[r],s)}var pl=le(null),af=le(0);function B0(r,s){r=ms,fe(af,r),fe(pl,s),ms=r|s.baseLanes}function wm(){fe(af,ms),fe(pl,pl.current)}function bm(){ms=af.current,de(pl),de(af)}var Fs=0,Xe=null,Dt=null,Jt=null,of=!1,ml=!1,ao=!1,lf=0,nc=0,gl=null,bD=0;function $t(){throw Error(i(321))}function Sm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!hr(r[o],s[o]))return!1;return!0}function Am(r,s,o,u,f,g){return Fs=g,Xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ne.H=r===null||r.memoizedState===null?bE:SE,ao=!1,g=o(u,f),ao=!1,ml&&(g=F0(s,o,u,f)),j0(r),g}function j0(r){ne.H=pf;var s=Dt!==null&&Dt.next!==null;if(Fs=0,Jt=Dt=Xe=null,of=!1,nc=0,gl=null,s)throw Error(i(300));r===null||gn||(r=r.dependencies,r!==null&&ef(r)&&(gn=!0))}function F0(r,s,o,u){Xe=r;var f=0;do{if(ml&&(gl=null),nc=0,ml=!1,25<=f)throw Error(i(301));if(f+=1,Jt=Dt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}ne.H=OD,g=s(o,u)}while(ml);return g}function SD(){var r=ne.H,s=r.useState()[0];return s=typeof s.then=="function"?rc(s):s,r=r.useState()[0],(Dt!==null?Dt.memoizedState:null)!==r&&(Xe.flags|=1024),s}function Rm(){var r=lf!==0;return lf=0,r}function Cm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Im(r){if(of){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}of=!1}Fs=0,Jt=Dt=Xe=null,ml=!1,nc=lf=0,gl=null}function Jn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Xe.memoizedState=Jt=r:Jt=Jt.next=r,Jt}function Zt(){if(Dt===null){var r=Xe.alternate;r=r!==null?r.memoizedState:null}else r=Dt.next;var s=Jt===null?Xe.memoizedState:Jt.next;if(s!==null)Jt=s,Dt=r;else{if(r===null)throw Xe.alternate===null?Error(i(467)):Error(i(310));Dt=r,r={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Jt===null?Xe.memoizedState=Jt=r:Jt=Jt.next=r}return Jt}function Dm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rc(r){var s=nc;return nc+=1,gl===null&&(gl=[]),r=k0(gl,r,s),s=Xe,(Jt===null?s.memoizedState:Jt.next)===null&&(s=s.alternate,ne.H=s===null||s.memoizedState===null?bE:SE),r}function uf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return rc(r);if(r.$$typeof===q)return Nn(r)}throw Error(i(438,String(r)))}function Om(r){var s=null,o=Xe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Xe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Dm(),Xe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=k;return s.index++,o}function us(r,s){return typeof s=="function"?s(r):s}function cf(r){var s=Zt();return Nm(s,Dt,r)}function Nm(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=r.baseQueue,g=u.pending;if(g!==null){if(f!==null){var T=f.next;f.next=g.next,g.next=T}s.baseQueue=f=g,u.pending=null}if(g=r.baseState,f===null)r.memoizedState=g;else{s=f.next;var b=T=null,P=null,X=s,se=!1;do{var ue=X.lane&-536870913;if(ue!==X.lane?(dt&ue)===ue:(Fs&ue)===ue){var W=X.revertLane;if(W===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ue===fl&&(se=!0);else if((Fs&W)===W){X=X.next,W===fl&&(se=!0);continue}else ue={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},P===null?(b=P=ue,T=g):P=P.next=ue,Xe.lanes|=W,Ys|=W;ue=X.action,ao&&o(g,ue),g=X.hasEagerState?X.eagerState:o(g,ue)}else W={lane:ue,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},P===null?(b=P=W,T=g):P=P.next=W,Xe.lanes|=ue,Ys|=ue;X=X.next}while(X!==null&&X!==s);if(P===null?T=g:P.next=b,!hr(g,r.memoizedState)&&(gn=!0,se&&(o=dl,o!==null)))throw o;r.memoizedState=g,r.baseState=T,r.baseQueue=P,u.lastRenderedState=g}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Mm(r){var s=Zt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,g=s.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do g=r(g,T.action),T=T.next;while(T!==f);hr(g,s.memoizedState)||(gn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function q0(r,s,o){var u=Xe,f=Zt(),g=Et;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!hr((Dt||f).memoizedState,o);T&&(f.memoizedState=o,gn=!0),f=f.queue;var b=$0.bind(null,u,f,r);if(ic(2048,8,b,[r]),f.getSnapshot!==s||T||Jt!==null&&Jt.memoizedState.tag&1){if(u.flags|=2048,yl(9,hf(),G0.bind(null,u,f,o,s),null),xt===null)throw Error(i(349));g||(Fs&124)!==0||H0(u,s,o)}return o}function H0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Xe.updateQueue,s===null?(s=Dm(),Xe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function G0(r,s,o,u){s.value=o,s.getSnapshot=u,K0(s)&&Q0(r)}function $0(r,s,o){return o(function(){K0(s)&&Q0(r)})}function K0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!hr(r,o)}catch{return!0}}function Q0(r){var s=ll(r,2);s!==null&&yr(s,r,2)}function Pm(r){var s=Jn();if(typeof r=="function"){var o=r;if(r=o(),ao){wn(!0);try{o()}finally{wn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:r},s}function Y0(r,s,o,u){return r.baseState=o,Nm(r,Dt,typeof u=="function"?u:us)}function AD(r,s,o,u,f){if(df(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};ne.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,X0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function X0(r,s){var o=s.action,u=s.payload,f=r.state;if(s.isTransition){var g=ne.T,T={};ne.T=T;try{var b=o(f,u),P=ne.S;P!==null&&P(T,b),W0(r,s,b)}catch(X){xm(r,s,X)}finally{ne.T=g}}else try{g=o(f,u),W0(r,s,g)}catch(X){xm(r,s,X)}}function W0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){J0(r,s,u)},function(u){return xm(r,s,u)}):J0(r,s,o)}function J0(r,s,o){s.status="fulfilled",s.value=o,Z0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,X0(r,o)))}function xm(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Z0(s),s=s.next;while(s!==u)}r.action=null}function Z0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function eE(r,s){return s}function tE(r,s){if(Et){var o=xt.formState;if(o!==null){e:{var u=Xe;if(Et){if(Ft){t:{for(var f=Ft,g=Ti;f.nodeType!==8;){if(!g){f=null;break t}if(f=Qr(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Ft=Qr(f.nextSibling),u=f.data==="F!";break e}}no(u)}u=!1}u&&(s=o[0])}}return o=Jn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eE,lastRenderedState:s},o.queue=u,o=EE.bind(null,Xe,u),u.dispatch=o,u=Pm(!1),g=zm.bind(null,Xe,!1,u.queue),u=Jn(),f={state:s,dispatch:null,action:r,pending:null},u.queue=f,o=AD.bind(null,Xe,f,g,o),f.dispatch=o,u.memoizedState=r,[s,o,!1]}function nE(r){var s=Zt();return rE(s,Dt,r)}function rE(r,s,o){if(s=Nm(r,s,eE)[0],r=cf(us)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=rc(s)}catch(T){throw T===Wu?rf:T}else u=s;s=Zt();var f=s.queue,g=f.dispatch;return o!==s.memoizedState&&(Xe.flags|=2048,yl(9,hf(),RD.bind(null,f,o),null)),[u,g,r]}function RD(r,s){r.action=s}function iE(r){var s=Zt(),o=Dt;if(o!==null)return rE(s,o,r);Zt(),s=s.memoizedState,o=Zt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function yl(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Xe.updateQueue,s===null&&(s=Dm(),Xe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function hf(){return{destroy:void 0,resource:void 0}}function sE(){return Zt().memoizedState}function ff(r,s,o,u){var f=Jn();u=u===void 0?null:u,Xe.flags|=r,f.memoizedState=yl(1|s,hf(),o,u)}function ic(r,s,o,u){var f=Zt();u=u===void 0?null:u;var g=f.memoizedState.inst;Dt!==null&&u!==null&&Sm(u,Dt.memoizedState.deps)?f.memoizedState=yl(s,g,o,u):(Xe.flags|=r,f.memoizedState=yl(1|s,g,o,u))}function aE(r,s){ff(8390656,8,r,s)}function oE(r,s){ic(2048,8,r,s)}function lE(r,s){return ic(4,2,r,s)}function uE(r,s){return ic(4,4,r,s)}function cE(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function hE(r,s,o){o=o!=null?o.concat([r]):null,ic(4,4,cE.bind(null,s,r),o)}function km(){}function fE(r,s){var o=Zt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Sm(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function dE(r,s){var o=Zt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Sm(s,u[1]))return u[0];if(u=r(),ao){wn(!0);try{r()}finally{wn(!1)}}return o.memoizedState=[u,s],u}function Lm(r,s,o){return o===void 0||(Fs&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=gT(),Xe.lanes|=r,Ys|=r,o)}function pE(r,s,o,u){return hr(o,s)?o:pl.current!==null?(r=Lm(r,o,u),hr(r,s)||(gn=!0),r):(Fs&42)===0?(gn=!0,r.memoizedState=o):(r=gT(),Xe.lanes|=r,Ys|=r,s)}function mE(r,s,o,u,f){var g=me.p;me.p=g!==0&&8>g?g:8;var T=ne.T,b={};ne.T=b,zm(r,!1,s,o);try{var P=f(),X=ne.S;if(X!==null&&X(b,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var se=wD(P,u);sc(r,s,se,gr(r))}else sc(r,s,u,gr(r))}catch(ue){sc(r,s,{then:function(){},status:"rejected",reason:ue},gr())}finally{me.p=g,ne.T=T}}function CD(){}function Vm(r,s,o,u){if(r.tag!==5)throw Error(i(476));var f=gE(r).queue;mE(r,f,s,we,o===null?CD:function(){return yE(r),o(u)})}function gE(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:we},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function yE(r){var s=gE(r).next.queue;sc(r,s,{},gr())}function Um(){return Nn(bc)}function vE(){return Zt().memoizedState}function _E(){return Zt().memoizedState}function ID(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=gr();r=Bs(o);var u=js(s,r,o);u!==null&&(yr(u,s,o),Zu(u,s,o)),s={cache:pm()},r.payload=s;return}s=s.return}}function DD(r,s,o){var u=gr();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},df(r)?TE(s,o):(o=im(r,s,o,u),o!==null&&(yr(o,r,u),wE(o,s,u)))}function EE(r,s,o){var u=gr();sc(r,s,o,u)}function sc(r,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(df(r))TE(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,b=g(T,o);if(f.hasEagerState=!0,f.eagerState=b,hr(b,T))return Yh(r,s,f,0),xt===null&&Qh(),!1}catch{}finally{}if(o=im(r,s,f,u),o!==null)return yr(o,r,u),wE(o,s,u),!0}return!1}function zm(r,s,o,u){if(u={lane:2,revertLane:yg(),action:u,hasEagerState:!1,eagerState:null,next:null},df(r)){if(s)throw Error(i(479))}else s=im(r,o,u,2),s!==null&&yr(s,r,2)}function df(r){var s=r.alternate;return r===Xe||s!==null&&s===Xe}function TE(r,s){ml=of=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function wE(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Va(r,o)}}var pf={readContext:Nn,use:uf,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t},bE={readContext:Nn,use:uf,useCallback:function(r,s){return Jn().memoizedState=[r,s===void 0?null:s],r},useContext:Nn,useEffect:aE,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,ff(4194308,4,cE.bind(null,s,r),o)},useLayoutEffect:function(r,s){return ff(4194308,4,r,s)},useInsertionEffect:function(r,s){ff(4,2,r,s)},useMemo:function(r,s){var o=Jn();s=s===void 0?null:s;var u=r();if(ao){wn(!0);try{r()}finally{wn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Jn();if(o!==void 0){var f=o(s);if(ao){wn(!0);try{o(s)}finally{wn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=DD.bind(null,Xe,r),[u.memoizedState,r]},useRef:function(r){var s=Jn();return r={current:r},s.memoizedState=r},useState:function(r){r=Pm(r);var s=r.queue,o=EE.bind(null,Xe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:km,useDeferredValue:function(r,s){var o=Jn();return Lm(o,r,s)},useTransition:function(){var r=Pm(!1);return r=mE.bind(null,Xe,r.queue,!0,!1),Jn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Xe,f=Jn();if(Et){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),xt===null)throw Error(i(349));(dt&124)!==0||H0(u,s,o)}f.memoizedState=o;var g={value:o,getSnapshot:s};return f.queue=g,aE($0.bind(null,u,g,r),[r]),u.flags|=2048,yl(9,hf(),G0.bind(null,u,g,o,s),null),o},useId:function(){var r=Jn(),s=xt.identifierPrefix;if(Et){var o=as,u=ss;o=(u&~(1<<32-dn(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=lf++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=bD++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Um,useFormState:tE,useActionState:tE,useOptimistic:function(r){var s=Jn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=zm.bind(null,Xe,!0,o),o.dispatch=s,[r,s]},useMemoCache:Om,useCacheRefresh:function(){return Jn().memoizedState=ID.bind(null,Xe)}},SE={readContext:Nn,use:uf,useCallback:fE,useContext:Nn,useEffect:oE,useImperativeHandle:hE,useInsertionEffect:lE,useLayoutEffect:uE,useMemo:dE,useReducer:cf,useRef:sE,useState:function(){return cf(us)},useDebugValue:km,useDeferredValue:function(r,s){var o=Zt();return pE(o,Dt.memoizedState,r,s)},useTransition:function(){var r=cf(us)[0],s=Zt().memoizedState;return[typeof r=="boolean"?r:rc(r),s]},useSyncExternalStore:q0,useId:vE,useHostTransitionStatus:Um,useFormState:nE,useActionState:nE,useOptimistic:function(r,s){var o=Zt();return Y0(o,Dt,r,s)},useMemoCache:Om,useCacheRefresh:_E},OD={readContext:Nn,use:uf,useCallback:fE,useContext:Nn,useEffect:oE,useImperativeHandle:hE,useInsertionEffect:lE,useLayoutEffect:uE,useMemo:dE,useReducer:Mm,useRef:sE,useState:function(){return Mm(us)},useDebugValue:km,useDeferredValue:function(r,s){var o=Zt();return Dt===null?Lm(o,r,s):pE(o,Dt.memoizedState,r,s)},useTransition:function(){var r=Mm(us)[0],s=Zt().memoizedState;return[typeof r=="boolean"?r:rc(r),s]},useSyncExternalStore:q0,useId:vE,useHostTransitionStatus:Um,useFormState:iE,useActionState:iE,useOptimistic:function(r,s){var o=Zt();return Dt!==null?Y0(o,Dt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Om,useCacheRefresh:_E},vl=null,ac=0;function mf(r){var s=ac;return ac+=1,vl===null&&(vl=[]),k0(vl,r,s)}function oc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function gf(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function AE(r){var s=r._init;return s(r._payload)}function RE(r){function s(G,z){if(r){var Y=G.deletions;Y===null?(G.deletions=[z],G.flags|=16):Y.push(z)}}function o(G,z){if(!r)return null;for(;z!==null;)s(G,z),z=z.sibling;return null}function u(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function f(G,z){return G=is(G,z),G.index=0,G.sibling=null,G}function g(G,z,Y){return G.index=Y,r?(Y=G.alternate,Y!==null?(Y=Y.index,Y<z?(G.flags|=67108866,z):Y):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function T(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function b(G,z,Y,oe){return z===null||z.tag!==6?(z=am(Y,G.mode,oe),z.return=G,z):(z=f(z,Y),z.return=G,z)}function P(G,z,Y,oe){var be=Y.type;return be===R?se(G,z,Y.props.children,oe,Y.key):z!==null&&(z.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===C&&AE(be)===z.type)?(z=f(z,Y.props),oc(z,Y),z.return=G,z):(z=Wh(Y.type,Y.key,Y.props,null,G.mode,oe),oc(z,Y),z.return=G,z)}function X(G,z,Y,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=om(Y,G.mode,oe),z.return=G,z):(z=f(z,Y.children||[]),z.return=G,z)}function se(G,z,Y,oe,be){return z===null||z.tag!==7?(z=Ja(Y,G.mode,oe,be),z.return=G,z):(z=f(z,Y),z.return=G,z)}function ue(G,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=am(""+z,G.mode,Y),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return Y=Wh(z.type,z.key,z.props,null,G.mode,Y),oc(Y,z),Y.return=G,Y;case S:return z=om(z,G.mode,Y),z.return=G,z;case C:var oe=z._init;return z=oe(z._payload),ue(G,z,Y)}if(He(z)||F(z))return z=Ja(z,G.mode,Y,null),z.return=G,z;if(typeof z.then=="function")return ue(G,mf(z),Y);if(z.$$typeof===q)return ue(G,tf(G,z),Y);gf(G,z)}return null}function W(G,z,Y,oe){var be=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return be!==null?null:b(G,z,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return Y.key===be?P(G,z,Y,oe):null;case S:return Y.key===be?X(G,z,Y,oe):null;case C:return be=Y._init,Y=be(Y._payload),W(G,z,Y,oe)}if(He(Y)||F(Y))return be!==null?null:se(G,z,Y,oe,null);if(typeof Y.then=="function")return W(G,z,mf(Y),oe);if(Y.$$typeof===q)return W(G,z,tf(G,Y),oe);gf(G,Y)}return null}function J(G,z,Y,oe,be){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return G=G.get(Y)||null,b(z,G,""+oe,be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case w:return G=G.get(oe.key===null?Y:oe.key)||null,P(z,G,oe,be);case S:return G=G.get(oe.key===null?Y:oe.key)||null,X(z,G,oe,be);case C:var Ze=oe._init;return oe=Ze(oe._payload),J(G,z,Y,oe,be)}if(He(oe)||F(oe))return G=G.get(Y)||null,se(z,G,oe,be,null);if(typeof oe.then=="function")return J(G,z,Y,mf(oe),be);if(oe.$$typeof===q)return J(G,z,Y,tf(z,oe),be);gf(z,oe)}return null}function Ve(G,z,Y,oe){for(var be=null,Ze=null,De=z,Le=z=0,vn=null;De!==null&&Le<Y.length;Le++){De.index>Le?(vn=De,De=null):vn=De.sibling;var vt=W(G,De,Y[Le],oe);if(vt===null){De===null&&(De=vn);break}r&&De&&vt.alternate===null&&s(G,De),z=g(vt,z,Le),Ze===null?be=vt:Ze.sibling=vt,Ze=vt,De=vn}if(Le===Y.length)return o(G,De),Et&&eo(G,Le),be;if(De===null){for(;Le<Y.length;Le++)De=ue(G,Y[Le],oe),De!==null&&(z=g(De,z,Le),Ze===null?be=De:Ze.sibling=De,Ze=De);return Et&&eo(G,Le),be}for(De=u(De);Le<Y.length;Le++)vn=J(De,G,Le,Y[Le],oe),vn!==null&&(r&&vn.alternate!==null&&De.delete(vn.key===null?Le:vn.key),z=g(vn,z,Le),Ze===null?be=vn:Ze.sibling=vn,Ze=vn);return r&&De.forEach(function(ia){return s(G,ia)}),Et&&eo(G,Le),be}function ke(G,z,Y,oe){if(Y==null)throw Error(i(151));for(var be=null,Ze=null,De=z,Le=z=0,vn=null,vt=Y.next();De!==null&&!vt.done;Le++,vt=Y.next()){De.index>Le?(vn=De,De=null):vn=De.sibling;var ia=W(G,De,vt.value,oe);if(ia===null){De===null&&(De=vn);break}r&&De&&ia.alternate===null&&s(G,De),z=g(ia,z,Le),Ze===null?be=ia:Ze.sibling=ia,Ze=ia,De=vn}if(vt.done)return o(G,De),Et&&eo(G,Le),be;if(De===null){for(;!vt.done;Le++,vt=Y.next())vt=ue(G,vt.value,oe),vt!==null&&(z=g(vt,z,Le),Ze===null?be=vt:Ze.sibling=vt,Ze=vt);return Et&&eo(G,Le),be}for(De=u(De);!vt.done;Le++,vt=Y.next())vt=J(De,G,Le,vt.value,oe),vt!==null&&(r&&vt.alternate!==null&&De.delete(vt.key===null?Le:vt.key),z=g(vt,z,Le),Ze===null?be=vt:Ze.sibling=vt,Ze=vt);return r&&De.forEach(function(NO){return s(G,NO)}),Et&&eo(G,Le),be}function Nt(G,z,Y,oe){if(typeof Y=="object"&&Y!==null&&Y.type===R&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:e:{for(var be=Y.key;z!==null;){if(z.key===be){if(be=Y.type,be===R){if(z.tag===7){o(G,z.sibling),oe=f(z,Y.props.children),oe.return=G,G=oe;break e}}else if(z.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===C&&AE(be)===z.type){o(G,z.sibling),oe=f(z,Y.props),oc(oe,Y),oe.return=G,G=oe;break e}o(G,z);break}else s(G,z);z=z.sibling}Y.type===R?(oe=Ja(Y.props.children,G.mode,oe,Y.key),oe.return=G,G=oe):(oe=Wh(Y.type,Y.key,Y.props,null,G.mode,oe),oc(oe,Y),oe.return=G,G=oe)}return T(G);case S:e:{for(be=Y.key;z!==null;){if(z.key===be)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){o(G,z.sibling),oe=f(z,Y.children||[]),oe.return=G,G=oe;break e}else{o(G,z);break}else s(G,z);z=z.sibling}oe=om(Y,G.mode,oe),oe.return=G,G=oe}return T(G);case C:return be=Y._init,Y=be(Y._payload),Nt(G,z,Y,oe)}if(He(Y))return Ve(G,z,Y,oe);if(F(Y)){if(be=F(Y),typeof be!="function")throw Error(i(150));return Y=be.call(Y),ke(G,z,Y,oe)}if(typeof Y.then=="function")return Nt(G,z,mf(Y),oe);if(Y.$$typeof===q)return Nt(G,z,tf(G,Y),oe);gf(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(o(G,z.sibling),oe=f(z,Y),oe.return=G,G=oe):(o(G,z),oe=am(Y,G.mode,oe),oe.return=G,G=oe),T(G)):o(G,z)}return function(G,z,Y,oe){try{ac=0;var be=Nt(G,z,Y,oe);return vl=null,be}catch(De){if(De===Wu||De===rf)throw De;var Ze=fr(29,De,null,G.mode);return Ze.lanes=oe,Ze.return=G,Ze}finally{}}}var _l=RE(!0),CE=RE(!1),Pr=le(null),wi=null;function qs(r){var s=r.alternate;fe(cn,cn.current&1),fe(Pr,r),wi===null&&(s===null||pl.current!==null||s.memoizedState!==null)&&(wi=r)}function IE(r){if(r.tag===22){if(fe(cn,cn.current),fe(Pr,r),wi===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(wi=r)}}else Hs()}function Hs(){fe(cn,cn.current),fe(Pr,Pr.current)}function cs(r){de(Pr),wi===r&&(wi=null),de(cn)}var cn=le(0);function yf(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Dg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Bm(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var jm={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=gr(),f=Bs(u);f.payload=s,o!=null&&(f.callback=o),s=js(r,f,u),s!==null&&(yr(s,r,u),Zu(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=gr(),f=Bs(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=js(r,f,u),s!==null&&(yr(s,r,u),Zu(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=gr(),u=Bs(o);u.tag=2,s!=null&&(u.callback=s),s=js(r,u,o),s!==null&&(yr(s,r,o),Zu(s,r,o))}};function DE(r,s,o,u,f,g,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,T):s.prototype&&s.prototype.isPureReactComponent?!qu(o,u)||!qu(f,g):!0}function OE(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&jm.enqueueReplaceState(s,s.state,null)}function oo(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=y({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var vf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function NE(r){vf(r)}function ME(r){console.error(r)}function PE(r){vf(r)}function _f(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function xE(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Fm(r,s,o){return o=Bs(o),o.tag=3,o.payload={element:null},o.callback=function(){_f(r,s)},o}function kE(r){return r=Bs(r),r.tag=3,r}function LE(r,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;r.payload=function(){return f(g)},r.callback=function(){xE(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){xE(s,o,u),typeof f!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function ND(r,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Qu(s,o,f,!0),o=Pr.current,o!==null){switch(o.tag){case 13:return wi===null?fg():o.alternate===null&&qt===0&&(qt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===ym?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),pg(r,u,f)),!1;case 22:return o.flags|=65536,u===ym?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),pg(r,u,f)),!1}throw Error(i(435,o.tag))}return pg(r,u,f),fg(),!1}if(Et)return s=Pr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==cm&&(r=Error(i(422),{cause:u}),Ku(Dr(r,o)))):(u!==cm&&(s=Error(i(423),{cause:u}),Ku(Dr(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=Dr(u,o),f=Fm(r.stateNode,u,f),Em(r,f),qt!==4&&(qt=2)),!1;var g=Error(i(520),{cause:u});if(g=Dr(g,o),pc===null?pc=[g]:pc.push(g),qt!==4&&(qt=2),s===null)return!0;u=Dr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=Fm(o.stateNode,u,r),Em(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Xs===null||!Xs.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=kE(f),LE(f,r,o,u),Em(o,f),!1}o=o.return}while(o!==null);return!1}var VE=Error(i(461)),gn=!1;function Sn(r,s,o,u){s.child=r===null?CE(s,null,o,u):_l(s,r.child,o,u)}function UE(r,s,o,u,f){o=o.render;var g=s.ref;if("ref"in u){var T={};for(var b in u)b!=="ref"&&(T[b]=u[b])}else T=u;return io(s),u=Am(r,s,o,T,g,f),b=Rm(),r!==null&&!gn?(Cm(r,s,f),hs(r,s,f)):(Et&&b&&lm(s),s.flags|=1,Sn(r,s,u,f),s.child)}function zE(r,s,o,u,f){if(r===null){var g=o.type;return typeof g=="function"&&!sm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,BE(r,s,g,u,f)):(r=Wh(o.type,null,u,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Xm(r,f)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:qu,o(T,u)&&r.ref===s.ref)return hs(r,s,f)}return s.flags|=1,r=is(g,u),r.ref=s.ref,r.return=s,s.child=r}function BE(r,s,o,u,f){if(r!==null){var g=r.memoizedProps;if(qu(g,u)&&r.ref===s.ref)if(gn=!1,s.pendingProps=u=g,Xm(r,f))(r.flags&131072)!==0&&(gn=!0);else return s.lanes=r.lanes,hs(r,s,f)}return qm(r,s,o,u,f)}function jE(r,s,o){var u=s.pendingProps,f=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(f=s.child=r.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return FE(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&nf(s,g!==null?g.cachePool:null),g!==null?B0(s,g):wm(),IE(s);else return s.lanes=s.childLanes=536870912,FE(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(nf(s,g.cachePool),B0(s,g),Hs(),s.memoizedState=null):(r!==null&&nf(s,null),wm(),Hs());return Sn(r,s,f,o),s.child}function FE(r,s,o,u){var f=gm();return f=f===null?null:{parent:un._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&nf(s,null),wm(),IE(s),r!==null&&Qu(r,s,u,!0),null}function Ef(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function qm(r,s,o,u,f){return io(s),o=Am(r,s,o,u,void 0,f),u=Rm(),r!==null&&!gn?(Cm(r,s,f),hs(r,s,f)):(Et&&u&&lm(s),s.flags|=1,Sn(r,s,o,f),s.child)}function qE(r,s,o,u,f,g){return io(s),s.updateQueue=null,o=F0(s,u,o,f),j0(r),u=Rm(),r!==null&&!gn?(Cm(r,s,g),hs(r,s,g)):(Et&&u&&lm(s),s.flags|=1,Sn(r,s,o,g),s.child)}function HE(r,s,o,u,f){if(io(s),s.stateNode===null){var g=ul,T=o.contextType;typeof T=="object"&&T!==null&&(g=Nn(T)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=jm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},vm(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?Nn(T):ul,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Bm(s,o,T,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&jm.enqueueReplaceState(g,g.state,null),tc(s,u,g,f),ec(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var b=s.memoizedProps,P=oo(o,b);g.props=P;var X=g.context,se=o.contextType;T=ul,typeof se=="object"&&se!==null&&(T=Nn(se));var ue=o.getDerivedStateFromProps;se=typeof ue=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,se||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||X!==T)&&OE(s,g,u,T),zs=!1;var W=s.memoizedState;g.state=W,tc(s,u,g,f),ec(),X=s.memoizedState,b||W!==X||zs?(typeof ue=="function"&&(Bm(s,o,ue,u),X=s.memoizedState),(P=zs||DE(s,o,P,u,W,X,T))?(se||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=X),g.props=u,g.state=X,g.context=T,u=P):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,_m(r,s),T=s.memoizedProps,se=oo(o,T),g.props=se,ue=s.pendingProps,W=g.context,X=o.contextType,P=ul,typeof X=="object"&&X!==null&&(P=Nn(X)),b=o.getDerivedStateFromProps,(X=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ue||W!==P)&&OE(s,g,u,P),zs=!1,W=s.memoizedState,g.state=W,tc(s,u,g,f),ec();var J=s.memoizedState;T!==ue||W!==J||zs||r!==null&&r.dependencies!==null&&ef(r.dependencies)?(typeof b=="function"&&(Bm(s,o,b,u),J=s.memoizedState),(se=zs||DE(s,o,se,u,W,J,P)||r!==null&&r.dependencies!==null&&ef(r.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,J,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,J,P)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=J),g.props=u,g.state=J,g.context=P,u=se):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,Ef(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=_l(s,r.child,null,f),s.child=_l(s,null,o,f)):Sn(r,s,o,f),s.memoizedState=g.state,r=s.child):r=hs(r,s,f),r}function GE(r,s,o,u){return $u(),s.flags|=256,Sn(r,s,o,u),s.child}var Hm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gm(r){return{baseLanes:r,cachePool:M0()}}function $m(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=xr),r}function $E(r,s,o){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=r!==null&&r.memoizedState===null?!1:(cn.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(Et){if(f?qs(s):Hs(),Et){var b=Ft,P;if(P=b){e:{for(P=b,b=Ti;P.nodeType!==8;){if(!b){b=null;break e}if(P=Qr(P.nextSibling),P===null){b=null;break e}}b=P}b!==null?(s.memoizedState={dehydrated:b,treeContext:Za!==null?{id:ss,overflow:as}:null,retryLane:536870912,hydrationErrors:null},P=fr(18,null,null,0),P.stateNode=b,P.return=s,s.child=P,$n=s,Ft=null,P=!0):P=!1}P||no(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Dg(b)?s.lanes=32:s.lanes=536870912,null;cs(s)}return b=u.children,u=u.fallback,f?(Hs(),f=s.mode,b=Tf({mode:"hidden",children:b},f),u=Ja(u,f,o,null),b.return=s,u.return=s,b.sibling=u,s.child=b,f=s.child,f.memoizedState=Gm(o),f.childLanes=$m(r,T,o),s.memoizedState=Hm,u):(qs(s),Km(s,b))}if(P=r.memoizedState,P!==null&&(b=P.dehydrated,b!==null)){if(g)s.flags&256?(qs(s),s.flags&=-257,s=Qm(r,s,o)):s.memoizedState!==null?(Hs(),s.child=r.child,s.flags|=128,s=null):(Hs(),f=u.fallback,b=s.mode,u=Tf({mode:"visible",children:u.children},b),f=Ja(f,b,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,_l(s,r.child,null,o),u=s.child,u.memoizedState=Gm(o),u.childLanes=$m(r,T,o),s.memoizedState=Hm,s=f);else if(qs(s),Dg(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var X=T.dgst;T=X,u=Error(i(419)),u.stack="",u.digest=T,Ku({value:u,source:null,stack:null}),s=Qm(r,s,o)}else if(gn||Qu(r,s,o,!1),T=(o&r.childLanes)!==0,gn||T){if(T=xt,T!==null&&(u=o&-o,u=(u&42)!==0?1:hi(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==P.retryLane))throw P.retryLane=u,ll(r,u),yr(T,r,u),VE;b.data==="$?"||fg(),s=Qm(r,s,o)}else b.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=P.treeContext,Ft=Qr(b.nextSibling),$n=s,Et=!0,to=null,Ti=!1,r!==null&&(Nr[Mr++]=ss,Nr[Mr++]=as,Nr[Mr++]=Za,ss=r.id,as=r.overflow,Za=s),s=Km(s,u.children),s.flags|=4096);return s}return f?(Hs(),f=u.fallback,b=s.mode,P=r.child,X=P.sibling,u=is(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,X!==null?f=is(X,f):(f=Ja(f,b,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,b=r.child.memoizedState,b===null?b=Gm(o):(P=b.cachePool,P!==null?(X=un._currentValue,P=P.parent!==X?{parent:X,pool:X}:P):P=M0(),b={baseLanes:b.baseLanes|o,cachePool:P}),f.memoizedState=b,f.childLanes=$m(r,T,o),s.memoizedState=Hm,u):(qs(s),o=r.child,r=o.sibling,o=is(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function Km(r,s){return s=Tf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Tf(r,s){return r=fr(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Qm(r,s,o){return _l(s,r.child,null,o),r=Km(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function KE(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),fm(r.return,s,o)}function Ym(r,s,o,u,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function QE(r,s,o){var u=s.pendingProps,f=u.revealOrder,g=u.tail;if(Sn(r,s,u.children,o),u=cn.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&KE(r,o,s);else if(r.tag===19)KE(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(fe(cn,u),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&yf(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Ym(s,!1,f,o,g);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&yf(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Ym(s,!0,o,null,g);break;case"together":Ym(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function hs(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Ys|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Qu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=is(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=is(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Xm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&ef(r)))}function MD(r,s,o){switch(s.tag){case 3:lt(s,s.stateNode.containerInfo),Us(s,un,r.memoizedState.cache),$u();break;case 27:case 5:an(s);break;case 4:lt(s,s.stateNode.containerInfo);break;case 10:Us(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(qs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?$E(r,s,o):(qs(s),r=hs(r,s,o),r!==null?r.sibling:null);qs(s);break;case 19:var f=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Qu(r,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return QE(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),fe(cn,cn.current),u)break;return null;case 22:case 23:return s.lanes=0,jE(r,s,o);case 24:Us(s,un,r.memoizedState.cache)}return hs(r,s,o)}function YE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)gn=!0;else{if(!Xm(r,o)&&(s.flags&128)===0)return gn=!1,MD(r,s,o);gn=(r.flags&131072)!==0}else gn=!1,Et&&(s.flags&1048576)!==0&&A0(s,Zh,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")sm(u)?(r=oo(u,r),s.tag=1,s=HE(null,s,u,r,o)):(s.tag=0,s=qm(null,s,u,r,o));else{if(u!=null){if(f=u.$$typeof,f===ie){s.tag=11,s=UE(null,s,u,r,o);break e}else if(f===O){s.tag=14,s=zE(null,s,u,r,o);break e}}throw s=Ut(u)||u,Error(i(306,s,""))}}return s;case 0:return qm(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=oo(u,s.pendingProps),HE(r,s,u,f,o);case 3:e:{if(lt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;f=g.element,_m(r,s),tc(s,u,null,o);var T=s.memoizedState;if(u=T.cache,Us(s,un,u),u!==g.cache&&dm(s,[un],o,!0),ec(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=GE(r,s,u,o);break e}else if(u!==f){f=Dr(Error(i(424)),s),Ku(f),s=GE(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ft=Qr(r.firstChild),$n=s,Et=!0,to=null,Ti=!0,o=CE(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if($u(),u===f){s=hs(r,s,o);break e}Sn(r,s,u,o)}s=s.child}return s;case 26:return Ef(r,s),r===null?(o=ZT(s.type,null,s.pendingProps,null))?s.memoizedState=o:Et||(o=s.type,r=s.pendingProps,u=kf(Ne.current).createElement(o),u[pe]=s,u[ve]=r,Rn(u,o,r),Ke(u),s.stateNode=u):s.memoizedState=ZT(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return an(s),r===null&&Et&&(u=s.stateNode=XT(s.type,s.pendingProps,Ne.current),$n=s,Ti=!0,f=Ft,Zs(s.type)?(Og=f,Ft=Qr(u.firstChild)):Ft=f),Sn(r,s,s.pendingProps.children,o),Ef(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Et&&((f=u=Ft)&&(u=aO(u,s.type,s.pendingProps,Ti),u!==null?(s.stateNode=u,$n=s,Ft=Qr(u.firstChild),Ti=!1,f=!0):f=!1),f||no(s)),an(s),f=s.type,g=s.pendingProps,T=r!==null?r.memoizedProps:null,u=g.children,Rg(f,g)?u=null:T!==null&&Rg(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=Am(r,s,SD,null,null,o),bc._currentValue=f),Ef(r,s),Sn(r,s,u,o),s.child;case 6:return r===null&&Et&&((r=o=Ft)&&(o=oO(o,s.pendingProps,Ti),o!==null?(s.stateNode=o,$n=s,Ft=null,r=!0):r=!1),r||no(s)),null;case 13:return $E(r,s,o);case 4:return lt(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=_l(s,null,u,o):Sn(r,s,u,o),s.child;case 11:return UE(r,s,s.type,s.pendingProps,o);case 7:return Sn(r,s,s.pendingProps,o),s.child;case 8:return Sn(r,s,s.pendingProps.children,o),s.child;case 12:return Sn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Us(s,s.type,u.value),Sn(r,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,io(s),f=Nn(f),u=u(f),s.flags|=1,Sn(r,s,u,o),s.child;case 14:return zE(r,s,s.type,s.pendingProps,o);case 15:return BE(r,s,s.type,s.pendingProps,o);case 19:return QE(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=Tf(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=is(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return jE(r,s,o);case 24:return io(s),u=Nn(un),r===null?(f=gm(),f===null&&(f=xt,g=pm(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),s.memoizedState={parent:u,cache:f},vm(s),Us(s,un,f)):((r.lanes&o)!==0&&(_m(r,s),tc(s,null,null,o),ec()),f=r.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Us(s,un,u)):(u=g.cache,Us(s,un,u),u!==f.cache&&dm(s,[un],o,!0))),Sn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function fs(r){r.flags|=4}function XE(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!iw(s)){if(s=Pr.current,s!==null&&((dt&4194048)===dt?wi!==null:(dt&62914560)!==dt&&(dt&536870912)===0||s!==wi))throw Ju=ym,P0;r.flags|=8192}}function wf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?xs():536870912,r.lanes|=s,bl|=s)}function lc(r,s){if(!Et)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Bt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function PD(r,s,o){var u=s.pendingProps;switch(um(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(s),null;case 1:return Bt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ls(un),ut(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Gu(s)?fs(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,I0())),Bt(s),null;case 26:return o=s.memoizedState,r===null?(fs(s),o!==null?(Bt(s),XE(s,o)):(Bt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(fs(s),Bt(s),XE(s,o)):(Bt(s),s.flags&=-16777217):(r.memoizedProps!==u&&fs(s),Bt(s),s.flags&=-16777217),null;case 27:Tn(s),o=Ne.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&fs(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Bt(s),null}r=Se.current,Gu(s)?R0(s):(r=XT(f,u,o),s.stateNode=r,fs(s))}return Bt(s),null;case 5:if(Tn(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&fs(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Bt(s),null}if(r=Se.current,Gu(s))R0(s);else{switch(f=kf(Ne.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}r[pe]=s,r[ve]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(Rn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&fs(s)}}return Bt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&fs(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ne.current,Gu(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,f=$n,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[pe]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||qT(r.nodeValue,o)),r||no(s)}else r=kf(r).createTextNode(u),r[pe]=s,s.stateNode=r}return Bt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Gu(s),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[pe]=s}else $u(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Bt(s),f=!1}else f=I0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(cs(s),s):(cs(s),null)}if(cs(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),wf(s,s.updateQueue),Bt(s),null;case 4:return ut(),r===null&&Tg(s.stateNode.containerInfo),Bt(s),null;case 10:return ls(s.type),Bt(s),null;case 19:if(de(cn),f=s.memoizedState,f===null)return Bt(s),null;if(u=(s.flags&128)!==0,g=f.rendering,g===null)if(u)lc(f,!1);else{if(qt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=yf(r),g!==null){for(s.flags|=128,lc(f,!1),r=g.updateQueue,s.updateQueue=r,wf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)S0(o,r),o=o.sibling;return fe(cn,cn.current&1|2),s.child}r=r.sibling}f.tail!==null&&Xn()>Af&&(s.flags|=128,u=!0,lc(f,!1),s.lanes=4194304)}else{if(!u)if(r=yf(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,wf(s,r),lc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Et)return Bt(s),null}else 2*Xn()-f.renderingStartTime>Af&&o!==536870912&&(s.flags|=128,u=!0,lc(f,!1),s.lanes=4194304);f.isBackwards?(g.sibling=s.child,s.child=g):(r=f.last,r!==null?r.sibling=g:s.child=g,f.last=g)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Xn(),s.sibling=null,r=cn.current,fe(cn,u?r&1|2:r&1),s):(Bt(s),null);case 22:case 23:return cs(s),bm(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Bt(s),s.subtreeFlags&6&&(s.flags|=8192)):Bt(s),o=s.updateQueue,o!==null&&wf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&de(so),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ls(un),Bt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function xD(r,s){switch(um(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ls(un),ut(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Tn(s),null;case 13:if(cs(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));$u()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return de(cn),null;case 4:return ut(),null;case 10:return ls(s.type),null;case 22:case 23:return cs(s),bm(),r!==null&&de(so),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ls(un),null;case 25:return null;default:return null}}function WE(r,s){switch(um(s),s.tag){case 3:ls(un),ut();break;case 26:case 27:case 5:Tn(s);break;case 4:ut();break;case 13:cs(s);break;case 19:de(cn);break;case 10:ls(s.type);break;case 22:case 23:cs(s),bm(),r!==null&&de(so);break;case 24:ls(un)}}function uc(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==f)}}catch(b){Pt(s,s.return,b)}}function Gs(r,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&r)===r){var T=u.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,f=s;var P=o,X=b;try{X()}catch(se){Pt(f,P,se)}}}u=u.next}while(u!==g)}}catch(se){Pt(s,s.return,se)}}function JE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{z0(s,o)}catch(u){Pt(r,r.return,u)}}}function ZE(r,s,o){o.props=oo(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){Pt(r,s,u)}}function cc(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){Pt(r,s,f)}}function bi(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Pt(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Pt(r,s,f)}else o.current=null}function eT(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Pt(r,r.return,f)}}function Wm(r,s,o){try{var u=r.stateNode;tO(u,r.type,o,s),u[ve]=s}catch(f){Pt(r,r.return,f)}}function tT(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Zs(r.type)||r.tag===4}function Jm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||tT(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Zs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Zm(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=xf));else if(u!==4&&(u===27&&Zs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Zm(r,s,o),r=r.sibling;r!==null;)Zm(r,s,o),r=r.sibling}function bf(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&Zs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(bf(r,s,o),r=r.sibling;r!==null;)bf(r,s,o),r=r.sibling}function nT(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Rn(s,u,o),s[pe]=r,s[ve]=o}catch(g){Pt(r,r.return,g)}}var ds=!1,Kt=!1,eg=!1,rT=typeof WeakSet=="function"?WeakSet:Set,yn=null;function kD(r,s){if(r=r.containerInfo,Sg=jf,r=p0(r),Jp(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,b=-1,P=-1,X=0,se=0,ue=r,W=null;t:for(;;){for(var J;ue!==o||f!==0&&ue.nodeType!==3||(b=T+f),ue!==g||u!==0&&ue.nodeType!==3||(P=T+u),ue.nodeType===3&&(T+=ue.nodeValue.length),(J=ue.firstChild)!==null;)W=ue,ue=J;for(;;){if(ue===r)break t;if(W===o&&++X===f&&(b=T),W===g&&++se===u&&(P=T),(J=ue.nextSibling)!==null)break;ue=W,W=ue.parentNode}ue=J}o=b===-1||P===-1?null:{start:b,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ag={focusedElem:r,selectionRange:o},jf=!1,yn=s;yn!==null;)if(s=yn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,yn=r;else for(;yn!==null;){switch(s=yn,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ve=oo(o.type,f,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Ve,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(ke){Pt(o,o.return,ke)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Ig(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Ig(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,yn=r;break}yn=s.return}}function iT(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:$s(r,o),u&4&&uc(5,o);break;case 1:if($s(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){Pt(o,o.return,T)}else{var f=oo(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){Pt(o,o.return,T)}}u&64&&JE(o),u&512&&cc(o,o.return);break;case 3:if($s(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{z0(r,s)}catch(T){Pt(o,o.return,T)}}break;case 27:s===null&&u&4&&nT(o);case 26:case 5:$s(r,o),s===null&&u&4&&eT(o),u&512&&cc(o,o.return);break;case 12:$s(r,o);break;case 13:$s(r,o),u&4&&oT(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=HD.bind(null,o),lO(r,o))));break;case 22:if(u=o.memoizedState!==null||ds,!u){s=s!==null&&s.memoizedState!==null||Kt,f=ds;var g=Kt;ds=u,(Kt=s)&&!g?Ks(r,o,(o.subtreeFlags&8772)!==0):$s(r,o),ds=f,Kt=g}break;case 30:break;default:$s(r,o)}}function sT(r){var s=r.alternate;s!==null&&(r.alternate=null,sT(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&$e(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var zt=null,Zn=!1;function ps(r,s,o){for(o=o.child;o!==null;)aT(r,s,o),o=o.sibling}function aT(r,s,o){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(mt,o)}catch{}switch(o.tag){case 26:Kt||bi(o,s),ps(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Kt||bi(o,s);var u=zt,f=Zn;Zs(o.type)&&(zt=o.stateNode,Zn=!1),ps(r,s,o),_c(o.stateNode),zt=u,Zn=f;break;case 5:Kt||bi(o,s);case 6:if(u=zt,f=Zn,zt=null,ps(r,s,o),zt=u,Zn=f,zt!==null)if(Zn)try{(zt.nodeType===9?zt.body:zt.nodeName==="HTML"?zt.ownerDocument.body:zt).removeChild(o.stateNode)}catch(g){Pt(o,s,g)}else try{zt.removeChild(o.stateNode)}catch(g){Pt(o,s,g)}break;case 18:zt!==null&&(Zn?(r=zt,QT(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Cc(r)):QT(zt,o.stateNode));break;case 4:u=zt,f=Zn,zt=o.stateNode.containerInfo,Zn=!0,ps(r,s,o),zt=u,Zn=f;break;case 0:case 11:case 14:case 15:Kt||Gs(2,o,s),Kt||Gs(4,o,s),ps(r,s,o);break;case 1:Kt||(bi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&ZE(o,s,u)),ps(r,s,o);break;case 21:ps(r,s,o);break;case 22:Kt=(u=Kt)||o.memoizedState!==null,ps(r,s,o),Kt=u;break;default:ps(r,s,o)}}function oT(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Cc(r)}catch(o){Pt(s,s.return,o)}}function LD(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new rT),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new rT),s;default:throw Error(i(435,r.tag))}}function tg(r,s){var o=LD(r);s.forEach(function(u){var f=GD.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}function dr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=r,T=s,b=T;e:for(;b!==null;){switch(b.tag){case 27:if(Zs(b.type)){zt=b.stateNode,Zn=!1;break e}break;case 5:zt=b.stateNode,Zn=!1;break e;case 3:case 4:zt=b.stateNode.containerInfo,Zn=!0;break e}b=b.return}if(zt===null)throw Error(i(160));aT(g,T,f),zt=null,Zn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)lT(s,r),s=s.sibling}var Kr=null;function lT(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:dr(s,r),pr(r),u&4&&(Gs(3,r,r.return),uc(3,r),Gs(5,r,r.return));break;case 1:dr(s,r),pr(r),u&512&&(Kt||o===null||bi(o,o.return)),u&64&&ds&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Kr;if(dr(s,r),pr(r),u&512&&(Kt||o===null||bi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Oe]||g[pe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Rn(g,u,o),g[pe]=r,Ke(g),u=g;break e;case"link":var T=nw("link","href",f).get(u+(o.href||""));if(T){for(var b=0;b<T.length;b++)if(g=T[b],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(b,1);break t}}g=f.createElement(u),Rn(g,u,o),f.head.appendChild(g);break;case"meta":if(T=nw("meta","content",f).get(u+(o.content||""))){for(b=0;b<T.length;b++)if(g=T[b],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(b,1);break t}}g=f.createElement(u),Rn(g,u,o),f.head.appendChild(g);break;default:throw Error(i(468,u))}g[pe]=r,Ke(g),u=g}r.stateNode=u}else rw(f,r.type,r.stateNode);else r.stateNode=tw(f,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?rw(f,r.type,r.stateNode):tw(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Wm(r,r.memoizedProps,o.memoizedProps)}break;case 27:dr(s,r),pr(r),u&512&&(Kt||o===null||bi(o,o.return)),o!==null&&u&4&&Wm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(dr(s,r),pr(r),u&512&&(Kt||o===null||bi(o,o.return)),r.flags&32){f=r.stateNode;try{Ar(f,"")}catch(J){Pt(r,r.return,J)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,Wm(r,f,o!==null?o.memoizedProps:f)),u&1024&&(eg=!0);break;case 6:if(dr(s,r),pr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(J){Pt(r,r.return,J)}}break;case 3:if(Uf=null,f=Kr,Kr=Lf(s.containerInfo),dr(s,r),Kr=f,pr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Cc(s.containerInfo)}catch(J){Pt(r,r.return,J)}eg&&(eg=!1,uT(r));break;case 4:u=Kr,Kr=Lf(r.stateNode.containerInfo),dr(s,r),pr(r),Kr=u;break;case 12:dr(s,r),pr(r);break;case 13:dr(s,r),pr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(og=Xn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,tg(r,u)));break;case 22:f=r.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,X=ds,se=Kt;if(ds=X||f,Kt=se||P,dr(s,r),Kt=se,ds=X,pr(r),u&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||P||ds||Kt||lo(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){P=o=s;try{if(g=P.stateNode,f)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=P.stateNode;var ue=P.memoizedProps.style,W=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;b.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(J){Pt(P,P.return,J)}}}else if(s.tag===6){if(o===null){P=s;try{P.stateNode.nodeValue=f?"":P.memoizedProps}catch(J){Pt(P,P.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,tg(r,o))));break;case 19:dr(s,r),pr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,tg(r,u)));break;case 30:break;case 21:break;default:dr(s,r),pr(r)}}function pr(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(tT(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,g=Jm(r);bf(r,g,f);break;case 5:var T=o.stateNode;o.flags&32&&(Ar(T,""),o.flags&=-33);var b=Jm(r);bf(r,b,T);break;case 3:case 4:var P=o.stateNode.containerInfo,X=Jm(r);Zm(r,X,P);break;default:throw Error(i(161))}}catch(se){Pt(r,r.return,se)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function uT(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;uT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function $s(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)iT(r,s.alternate,s),s=s.sibling}function lo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Gs(4,s,s.return),lo(s);break;case 1:bi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&ZE(s,s.return,o),lo(s);break;case 27:_c(s.stateNode);case 26:case 5:bi(s,s.return),lo(s);break;case 22:s.memoizedState===null&&lo(s);break;case 30:lo(s);break;default:lo(s)}r=r.sibling}}function Ks(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=r,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:Ks(f,g,o),uc(4,g);break;case 1:if(Ks(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(X){Pt(u,u.return,X)}if(u=g,f=u.updateQueue,f!==null){var b=u.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)U0(P[f],b)}catch(X){Pt(u,u.return,X)}}o&&T&64&&JE(g),cc(g,g.return);break;case 27:nT(g);case 26:case 5:Ks(f,g,o),o&&u===null&&T&4&&eT(g),cc(g,g.return);break;case 12:Ks(f,g,o);break;case 13:Ks(f,g,o),o&&T&4&&oT(f,g);break;case 22:g.memoizedState===null&&Ks(f,g,o),cc(g,g.return);break;case 30:break;default:Ks(f,g,o)}s=s.sibling}}function ng(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Yu(o))}function rg(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Yu(r))}function Si(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cT(r,s,o,u),s=s.sibling}function cT(r,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Si(r,s,o,u),f&2048&&uc(9,s);break;case 1:Si(r,s,o,u);break;case 3:Si(r,s,o,u),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Yu(r)));break;case 12:if(f&2048){Si(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,T=g.id,b=g.onPostCommit;typeof b=="function"&&b(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(P){Pt(s,s.return,P)}}else Si(r,s,o,u);break;case 13:Si(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?Si(r,s,o,u):hc(r,s):g._visibility&2?Si(r,s,o,u):(g._visibility|=2,El(r,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&ng(T,s);break;case 24:Si(r,s,o,u),f&2048&&rg(s.alternate,s);break;default:Si(r,s,o,u)}}function El(r,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,T=s,b=o,P=u,X=T.flags;switch(T.tag){case 0:case 11:case 15:El(g,T,b,P,f),uc(8,T);break;case 23:break;case 22:var se=T.stateNode;T.memoizedState!==null?se._visibility&2?El(g,T,b,P,f):hc(g,T):(se._visibility|=2,El(g,T,b,P,f)),f&&X&2048&&ng(T.alternate,T);break;case 24:El(g,T,b,P,f),f&&X&2048&&rg(T.alternate,T);break;default:El(g,T,b,P,f)}s=s.sibling}}function hc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,f=u.flags;switch(u.tag){case 22:hc(o,u),f&2048&&ng(u.alternate,u);break;case 24:hc(o,u),f&2048&&rg(u.alternate,u);break;default:hc(o,u)}s=s.sibling}}var fc=8192;function Tl(r){if(r.subtreeFlags&fc)for(r=r.child;r!==null;)hT(r),r=r.sibling}function hT(r){switch(r.tag){case 26:Tl(r),r.flags&fc&&r.memoizedState!==null&&TO(Kr,r.memoizedState,r.memoizedProps);break;case 5:Tl(r);break;case 3:case 4:var s=Kr;Kr=Lf(r.stateNode.containerInfo),Tl(r),Kr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=fc,fc=16777216,Tl(r),fc=s):Tl(r));break;default:Tl(r)}}function fT(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function dc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];yn=u,pT(u,r)}fT(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)dT(r),r=r.sibling}function dT(r){switch(r.tag){case 0:case 11:case 15:dc(r),r.flags&2048&&Gs(9,r,r.return);break;case 3:dc(r);break;case 12:dc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Sf(r)):dc(r);break;default:dc(r)}}function Sf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];yn=u,pT(u,r)}fT(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Gs(8,s,s.return),Sf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Sf(s));break;default:Sf(s)}r=r.sibling}}function pT(r,s){for(;yn!==null;){var o=yn;switch(o.tag){case 0:case 11:case 15:Gs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Yu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,yn=u;else e:for(o=r;yn!==null;){u=yn;var f=u.sibling,g=u.return;if(sT(u),u===o){yn=null;break e}if(f!==null){f.return=g,yn=f;break e}yn=g}}}var VD={getCacheForType:function(r){var s=Nn(un),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},UD=typeof WeakMap=="function"?WeakMap:Map,Rt=0,xt=null,tt=null,dt=0,Ct=0,mr=null,Qs=!1,wl=!1,ig=!1,ms=0,qt=0,Ys=0,uo=0,sg=0,xr=0,bl=0,pc=null,er=null,ag=!1,og=0,Af=1/0,Rf=null,Xs=null,An=0,Ws=null,Sl=null,Al=0,lg=0,ug=null,mT=null,mc=0,cg=null;function gr(){if((Rt&2)!==0&&dt!==0)return dt&-dt;if(ne.T!==null){var r=fl;return r!==0?r:yg()}return $()}function gT(){xr===0&&(xr=(dt&536870912)===0||Et?La():536870912);var r=Pr.current;return r!==null&&(r.flags|=32),xr}function yr(r,s,o){(r===xt&&(Ct===2||Ct===9)||r.cancelPendingCommit!==null)&&(Rl(r,0),Js(r,dt,xr,!1)),Tr(r,o),((Rt&2)===0||r!==xt)&&(r===xt&&((Rt&2)===0&&(uo|=o),qt===4&&Js(r,dt,xr,!1)),Ai(r))}function yT(r,s,o){if((Rt&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||ui(r,s),f=u?jD(r,s):dg(r,s,!0),g=u;do{if(f===0){wl&&!u&&Js(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!zD(o)){f=dg(r,s,!1),g=!1;continue}if(f===2){if(g=s,r.errorRecoveryDisabledLanes&g)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var b=r;f=pc;var P=b.current.memoizedState.isDehydrated;if(P&&(Rl(b,T).flags|=256),T=dg(b,T,!1),T!==2){if(ig&&!P){b.errorRecoveryDisabledLanes|=g,uo|=g,f=4;break e}g=er,er=f,g!==null&&(er===null?er=g:er.push.apply(er,g))}f=T}if(g=!1,f!==2)continue}}if(f===1){Rl(r,0),Js(r,s,0,!0);break}e:{switch(u=r,g=f,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Js(u,s,xr,!Qs);break e;case 2:er=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=og+300-Xn(),10<f)){if(Js(u,s,xr,!Qs),qr(u,0,!0)!==0)break e;u.timeoutHandle=$T(vT.bind(null,u,o,er,Rf,ag,s,xr,uo,bl,Qs,g,2,-0,0),f);break e}vT(u,o,er,Rf,ag,s,xr,uo,bl,Qs,g,0,-0,0)}}break}while(!0);Ai(r)}function vT(r,s,o,u,f,g,T,b,P,X,se,ue,W,J){if(r.timeoutHandle=-1,ue=s.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(wc={stylesheets:null,count:0,unsuspend:EO},hT(s),ue=wO(),ue!==null)){r.cancelPendingCommit=ue(AT.bind(null,r,s,g,o,u,f,T,b,P,se,1,W,J)),Js(r,g,T,!X);return}AT(r,s,g,o,u,f,T,b,P)}function zD(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!hr(g(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Js(r,s,o,u){s&=~sg,s&=~uo,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var f=s;0<f;){var g=31-dn(f),T=1<<g;u[g]=-1,f&=~T}o!==0&&Fn(r,o,s)}function Cf(){return(Rt&6)===0?(gc(0),!1):!0}function hg(){if(tt!==null){if(Ct===0)var r=tt.return;else r=tt,os=ro=null,Im(r),vl=null,ac=0,r=tt;for(;r!==null;)WE(r.alternate,r),r=r.return;tt=null}}function Rl(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,rO(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),hg(),xt=r,tt=o=is(r.current,null),dt=s,Ct=0,mr=null,Qs=!1,wl=ui(r,s),ig=!1,bl=xr=sg=uo=Ys=qt=0,er=pc=null,ag=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var f=31-dn(u),g=1<<f;s|=r[f],u&=~g}return ms=s,Qh(),o}function _T(r,s){Xe=null,ne.H=pf,s===Wu||s===rf?(s=L0(),Ct=3):s===P0?(s=L0(),Ct=4):Ct=s===VE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,mr=s,tt===null&&(qt=1,_f(r,Dr(s,r.current)))}function ET(){var r=ne.H;return ne.H=pf,r===null?pf:r}function TT(){var r=ne.A;return ne.A=VD,r}function fg(){qt=4,Qs||(dt&4194048)!==dt&&Pr.current!==null||(wl=!0),(Ys&134217727)===0&&(uo&134217727)===0||xt===null||Js(xt,dt,xr,!1)}function dg(r,s,o){var u=Rt;Rt|=2;var f=ET(),g=TT();(xt!==r||dt!==s)&&(Rf=null,Rl(r,s)),s=!1;var T=qt;e:do try{if(Ct!==0&&tt!==null){var b=tt,P=mr;switch(Ct){case 8:hg(),T=6;break e;case 3:case 2:case 9:case 6:Pr.current===null&&(s=!0);var X=Ct;if(Ct=0,mr=null,Cl(r,b,P,X),o&&wl){T=0;break e}break;default:X=Ct,Ct=0,mr=null,Cl(r,b,P,X)}}BD(),T=qt;break}catch(se){_T(r,se)}while(!0);return s&&r.shellSuspendCounter++,os=ro=null,Rt=u,ne.H=f,ne.A=g,tt===null&&(xt=null,dt=0,Qh()),T}function BD(){for(;tt!==null;)wT(tt)}function jD(r,s){var o=Rt;Rt|=2;var u=ET(),f=TT();xt!==r||dt!==s?(Rf=null,Af=Xn()+500,Rl(r,s)):wl=ui(r,s);e:do try{if(Ct!==0&&tt!==null){s=tt;var g=mr;t:switch(Ct){case 1:Ct=0,mr=null,Cl(r,s,g,1);break;case 2:case 9:if(x0(g)){Ct=0,mr=null,bT(s);break}s=function(){Ct!==2&&Ct!==9||xt!==r||(Ct=7),Ai(r)},g.then(s,s);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:x0(g)?(Ct=0,mr=null,bT(s)):(Ct=0,mr=null,Cl(r,s,g,7));break;case 5:var T=null;switch(tt.tag){case 26:T=tt.memoizedState;case 5:case 27:var b=tt;if(!T||iw(T)){Ct=0,mr=null;var P=b.sibling;if(P!==null)tt=P;else{var X=b.return;X!==null?(tt=X,If(X)):tt=null}break t}}Ct=0,mr=null,Cl(r,s,g,5);break;case 6:Ct=0,mr=null,Cl(r,s,g,6);break;case 8:hg(),qt=6;break e;default:throw Error(i(462))}}FD();break}catch(se){_T(r,se)}while(!0);return os=ro=null,ne.H=u,ne.A=f,Rt=o,tt!==null?0:(xt=null,dt=0,Qh(),qt)}function FD(){for(;tt!==null&&!Pa();)wT(tt)}function wT(r){var s=YE(r.alternate,r,ms);r.memoizedProps=r.pendingProps,s===null?If(r):tt=s}function bT(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=qE(o,s,s.pendingProps,s.type,void 0,dt);break;case 11:s=qE(o,s,s.pendingProps,s.type.render,s.ref,dt);break;case 5:Im(s);default:WE(o,s),s=tt=S0(s,ms),s=YE(o,s,ms)}r.memoizedProps=r.pendingProps,s===null?If(r):tt=s}function Cl(r,s,o,u){os=ro=null,Im(s),vl=null,ac=0;var f=s.return;try{if(ND(r,f,s,o,dt)){qt=1,_f(r,Dr(o,r.current)),tt=null;return}}catch(g){if(f!==null)throw tt=f,g;qt=1,_f(r,Dr(o,r.current)),tt=null;return}s.flags&32768?(Et||u===1?r=!0:wl||(dt&536870912)!==0?r=!1:(Qs=r=!0,(u===2||u===9||u===3||u===6)&&(u=Pr.current,u!==null&&u.tag===13&&(u.flags|=16384))),ST(s,r)):If(s)}function If(r){var s=r;do{if((s.flags&32768)!==0){ST(s,Qs);return}r=s.return;var o=PD(s.alternate,s,ms);if(o!==null){tt=o;return}if(s=s.sibling,s!==null){tt=s;return}tt=s=r}while(s!==null);qt===0&&(qt=5)}function ST(r,s){do{var o=xD(r.alternate,r);if(o!==null){o.flags&=32767,tt=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){tt=r;return}tt=r=o}while(r!==null);qt=6,tt=null}function AT(r,s,o,u,f,g,T,b,P){r.cancelPendingCommit=null;do Df();while(An!==0);if((Rt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=rm,ci(r,o,g,T,b,P),r===xt&&(tt=xt=null,dt=0),Sl=s,Ws=r,Al=o,lg=g,ug=f,mT=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,$D(jn,function(){return OT(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=ne.T,ne.T=null,f=me.p,me.p=2,T=Rt,Rt|=4;try{kD(r,s,o)}finally{Rt=T,me.p=f,ne.T=u}}An=1,RT(),CT(),IT()}}function RT(){if(An===1){An=0;var r=Ws,s=Sl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=ne.T,ne.T=null;var u=me.p;me.p=2;var f=Rt;Rt|=4;try{lT(s,r);var g=Ag,T=p0(r.containerInfo),b=g.focusedElem,P=g.selectionRange;if(T!==b&&b&&b.ownerDocument&&d0(b.ownerDocument.documentElement,b)){if(P!==null&&Jp(b)){var X=P.start,se=P.end;if(se===void 0&&(se=X),"selectionStart"in b)b.selectionStart=X,b.selectionEnd=Math.min(se,b.value.length);else{var ue=b.ownerDocument||document,W=ue&&ue.defaultView||window;if(W.getSelection){var J=W.getSelection(),Ve=b.textContent.length,ke=Math.min(P.start,Ve),Nt=P.end===void 0?ke:Math.min(P.end,Ve);!J.extend&&ke>Nt&&(T=Nt,Nt=ke,ke=T);var G=f0(b,ke),z=f0(b,Nt);if(G&&z&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==z.node||J.focusOffset!==z.offset)){var Y=ue.createRange();Y.setStart(G.node,G.offset),J.removeAllRanges(),ke>Nt?(J.addRange(Y),J.extend(z.node,z.offset)):(Y.setEnd(z.node,z.offset),J.addRange(Y))}}}}for(ue=[],J=b;J=J.parentNode;)J.nodeType===1&&ue.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ue.length;b++){var oe=ue[b];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}jf=!!Sg,Ag=Sg=null}finally{Rt=f,me.p=u,ne.T=o}}r.current=s,An=2}}function CT(){if(An===2){An=0;var r=Ws,s=Sl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=ne.T,ne.T=null;var u=me.p;me.p=2;var f=Rt;Rt|=4;try{iT(r,s.alternate,s)}finally{Rt=f,me.p=u,ne.T=o}}An=3}}function IT(){if(An===4||An===3){An=0,xa();var r=Ws,s=Sl,o=Al,u=mT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?An=5:(An=0,Sl=Ws=null,DT(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(Xs=null),V(o),s=s.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(mt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=ne.T,f=me.p,me.p=2,ne.T=null;try{for(var g=r.onRecoverableError,T=0;T<u.length;T++){var b=u[T];g(b.value,{componentStack:b.stack})}}finally{ne.T=s,me.p=f}}(Al&3)!==0&&Df(),Ai(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===cg?mc++:(mc=0,cg=r):mc=0,gc(0)}}function DT(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Yu(s)))}function Df(r){return RT(),CT(),IT(),OT()}function OT(){if(An!==5)return!1;var r=Ws,s=lg;lg=0;var o=V(Al),u=ne.T,f=me.p;try{me.p=32>o?32:o,ne.T=null,o=ug,ug=null;var g=Ws,T=Al;if(An=0,Sl=Ws=null,Al=0,(Rt&6)!==0)throw Error(i(331));var b=Rt;if(Rt|=4,dT(g.current),cT(g,g.current,T,o),Rt=b,gc(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(mt,g)}catch{}return!0}finally{me.p=f,ne.T=u,DT(r,s)}}function NT(r,s,o){s=Dr(o,s),s=Fm(r.stateNode,s,2),r=js(r,s,2),r!==null&&(Tr(r,2),Ai(r))}function Pt(r,s,o){if(r.tag===3)NT(r,r,o);else for(;s!==null;){if(s.tag===3){NT(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Xs===null||!Xs.has(u))){r=Dr(o,r),o=kE(2),u=js(s,o,2),u!==null&&(LE(o,u,s,r),Tr(u,2),Ai(u));break}}s=s.return}}function pg(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new UD;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(ig=!0,f.add(o),r=qD.bind(null,r,s,o),s.then(r,r))}function qD(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,xt===r&&(dt&o)===o&&(qt===4||qt===3&&(dt&62914560)===dt&&300>Xn()-og?(Rt&2)===0&&Rl(r,0):sg|=o,bl===dt&&(bl=0)),Ai(r)}function MT(r,s){s===0&&(s=xs()),r=ll(r,s),r!==null&&(Tr(r,s),Ai(r))}function HD(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),MT(r,o)}function GD(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),MT(r,o)}function $D(r,s){return Bn(r,s)}var Of=null,Il=null,mg=!1,Nf=!1,gg=!1,co=0;function Ai(r){r!==Il&&r.next===null&&(Il===null?Of=Il=r:Il=Il.next=r),Nf=!0,mg||(mg=!0,QD())}function gc(r,s){if(!gg&&Nf){gg=!0;do for(var o=!1,u=Of;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var T=u.suspendedLanes,b=u.pingedLanes;g=(1<<31-dn(42|r)+1)-1,g&=f&~(T&~b),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,LT(u,g))}else g=dt,g=qr(u,u===xt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ui(u,g)||(o=!0,LT(u,g));u=u.next}while(o);gg=!1}}function KD(){PT()}function PT(){Nf=mg=!1;var r=0;co!==0&&(nO()&&(r=co),co=0);for(var s=Xn(),o=null,u=Of;u!==null;){var f=u.next,g=xT(u,s);g===0?(u.next=null,o===null?Of=f:o.next=f,f===null&&(Il=o)):(o=u,(r!==0||(g&3)!==0)&&(Nf=!0)),u=f}gc(r)}function xT(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var T=31-dn(g),b=1<<T,P=f[T];P===-1?((b&o)===0||(b&u)!==0)&&(f[T]=Qi(b,s)):P<=s&&(r.expiredLanes|=b),g&=~b}if(s=xt,o=dt,o=qr(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(Ct===2||Ct===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&qi(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ui(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&qi(u),V(o)){case 2:case 8:o=Ps;break;case 32:o=jn;break;case 268435456:o=Gi;break;default:o=jn}return u=kT.bind(null,r),o=Bn(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&qi(u),r.callbackPriority=2,r.callbackNode=null,2}function kT(r,s){if(An!==0&&An!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Df()&&r.callbackNode!==o)return null;var u=dt;return u=qr(r,r===xt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(yT(r,u,s),xT(r,Xn()),r.callbackNode!=null&&r.callbackNode===o?kT.bind(null,r):null)}function LT(r,s){if(Df())return null;yT(r,s,!0)}function QD(){iO(function(){(Rt&6)!==0?Bn(ka,KD):PT()})}function yg(){return co===0&&(co=La()),co}function VT(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Xo(""+r)}function UT(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function YD(r,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var g=VT((f[ve]||null).action),T=u.submitter;T&&(s=(s=T[ve]||null)?VT(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var b=new Wo("action","action",null,u,f);r.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(co!==0){var P=T?UT(f,T):new FormData(f);Vm(o,{pending:!0,data:P,method:f.method,action:g},null,P)}}else typeof g=="function"&&(b.preventDefault(),P=T?UT(f,T):new FormData(f),Vm(o,{pending:!0,data:P,method:f.method,action:g},g,P))},currentTarget:f}]})}}for(var vg=0;vg<nm.length;vg++){var _g=nm[vg],XD=_g.toLowerCase(),WD=_g[0].toUpperCase()+_g.slice(1);$r(XD,"on"+WD)}$r(y0,"onAnimationEnd"),$r(v0,"onAnimationIteration"),$r(_0,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(pD,"onTransitionRun"),$r(mD,"onTransitionStart"),$r(gD,"onTransitionCancel"),$r(E0,"onTransitionEnd"),Xt("onMouseEnter",["mouseout","mouseover"]),Xt("onMouseLeave",["mouseout","mouseover"]),Xt("onPointerEnter",["pointerout","pointerover"]),Xt("onPointerLeave",["pointerout","pointerover"]),Gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yc));function zT(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var T=u.length-1;0<=T;T--){var b=u[T],P=b.instance,X=b.currentTarget;if(b=b.listener,P!==g&&f.isPropagationStopped())break e;g=b,f.currentTarget=X;try{g(f)}catch(se){vf(se)}f.currentTarget=null,g=P}else for(T=0;T<u.length;T++){if(b=u[T],P=b.instance,X=b.currentTarget,b=b.listener,P!==g&&f.isPropagationStopped())break e;g=b,f.currentTarget=X;try{g(f)}catch(se){vf(se)}f.currentTarget=null,g=P}}}}function nt(r,s){var o=s[Re];o===void 0&&(o=s[Re]=new Set);var u=r+"__bubble";o.has(u)||(BT(s,r,2,!1),o.add(u))}function Eg(r,s,o){var u=0;s&&(u|=4),BT(o,r,u,s)}var Mf="_reactListening"+Math.random().toString(36).slice(2);function Tg(r){if(!r[Mf]){r[Mf]=!0,wr.forEach(function(o){o!=="selectionchange"&&(JD.has(o)||Eg(o,!1,r),Eg(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Mf]||(s[Mf]=!0,Eg("selectionchange",!1,s))}}function BT(r,s,o,u){switch(cw(s)){case 2:var f=AO;break;case 8:f=RO;break;default:f=kg}o=f.bind(null,s,o,r),f=void 0,!Cr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function wg(r,s,o,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var b=u.stateNode.containerInfo;if(b===f)break;if(T===4)for(T=u.return;T!==null;){var P=T.tag;if((P===3||P===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;b!==null;){if(T=yt(b),T===null)return;if(P=T.tag,P===5||P===6||P===26||P===27){u=g=T;continue e}b=b.parentNode}}u=u.return}Ph(function(){var X=g,se=Rr(o),ue=[];e:{var W=T0.get(r);if(W!==void 0){var J=Wo,Ve=r;switch(r){case"keypress":if(gi(o)===0)break e;case"keydown":case"keyup":J=rl;break;case"focusin":Ve="focus",J=el;break;case"focusout":Ve="blur",J=el;break;case"beforeblur":case"afterblur":J=el;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Ir;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Qp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=jh;break;case y0:case v0:case _0:J=tl;break;case E0:J=qh;break;case"scroll":case"scrollend":J=xh;break;case"wheel":J=il;break;case"copy":case"cut":case"paste":J=nl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=ju;break;case"toggle":case"beforetoggle":J=Gh}var ke=(s&4)!==0,Nt=!ke&&(r==="scroll"||r==="scrollend"),G=ke?W!==null?W+"Capture":null:W;ke=[];for(var z=X,Y;z!==null;){var oe=z;if(Y=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Y===null||G===null||(oe=qa(z,G),oe!=null&&ke.push(vc(z,oe,Y))),Nt)break;z=z.return}0<ke.length&&(W=new J(W,Ve,null,o,se),ue.push({event:W,listeners:ke}))}}if((s&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",W&&o!==Ji&&(Ve=o.relatedTarget||o.fromElement)&&(yt(Ve)||Ve[Ae]))break e;if((J||W)&&(W=se.window===se?se:(W=se.ownerDocument)?W.defaultView||W.parentWindow:window,J?(Ve=o.relatedTarget||o.toElement,J=X,Ve=Ve?yt(Ve):null,Ve!==null&&(Nt=l(Ve),ke=Ve.tag,Ve!==Nt||ke!==5&&ke!==27&&ke!==6)&&(Ve=null)):(J=null,Ve=X),J!==Ve)){if(ke=Ir,oe="onMouseLeave",G="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(ke=ju,oe="onPointerLeave",G="onPointerEnter",z="pointer"),Nt=J==null?W:_t(J),Y=Ve==null?W:_t(Ve),W=new ke(oe,z+"leave",J,o,se),W.target=Nt,W.relatedTarget=Y,oe=null,yt(se)===X&&(ke=new ke(G,z+"enter",Ve,o,se),ke.target=Y,ke.relatedTarget=Nt,oe=ke),Nt=oe,J&&Ve)t:{for(ke=J,G=Ve,z=0,Y=ke;Y;Y=Dl(Y))z++;for(Y=0,oe=G;oe;oe=Dl(oe))Y++;for(;0<z-Y;)ke=Dl(ke),z--;for(;0<Y-z;)G=Dl(G),Y--;for(;z--;){if(ke===G||G!==null&&ke===G.alternate)break t;ke=Dl(ke),G=Dl(G)}ke=null}else ke=null;J!==null&&jT(ue,W,J,ke,!1),Ve!==null&&Nt!==null&&jT(ue,Nt,Ve,ke,!0)}}e:{if(W=X?_t(X):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var be=a0;else if(ln(W))if(o0)be=hD;else{be=uD;var Ze=lD}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&xu(X.elementType)&&(be=a0):be=cD;if(be&&(be=be(r,X))){rs(ue,be,o,se);break e}Ze&&Ze(r,W,X),r==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&Ls(W,"number",W.value)}switch(Ze=X?_t(X):window,r){case"focusin":(ln(Ze)||Ze.contentEditable==="true")&&(sl=Ze,Zp=X,Hu=null);break;case"focusout":Hu=Zp=sl=null;break;case"mousedown":em=!0;break;case"contextmenu":case"mouseup":case"dragend":em=!1,m0(ue,o,se);break;case"selectionchange":if(dD)break;case"keydown":case"keyup":m0(ue,o,se)}var De;if(_i)e:{switch(r){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ht?ee(r,o)&&(Le="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&(E&&o.locale!=="ko"&&(ht||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ht&&(De=Lu()):(mi=se,Vs="value"in mi?mi.value:mi.textContent,ht=!0)),Ze=Pf(X,Le),0<Ze.length&&(Le=new zu(Le,r,null,o,se),ue.push({event:Le,listeners:Ze}),De?Le.data=De:(De=ge(o),De!==null&&(Le.data=De)))),(De=v?on(r,o):ft(r,o))&&(Le=Pf(X,"onBeforeInput"),0<Le.length&&(Ze=new zu("onBeforeInput","beforeinput",null,o,se),ue.push({event:Ze,listeners:Le}),Ze.data=De)),YD(ue,r,X,o,se)}zT(ue,s)})}function vc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Pf(r,s){for(var o=s+"Capture",u=[];r!==null;){var f=r,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=qa(r,o),f!=null&&u.unshift(vc(r,f,g)),f=qa(r,s),f!=null&&u.push(vc(r,f,g))),r.tag===3)return u;r=r.return}return[]}function Dl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function jT(r,s,o,u,f){for(var g=s._reactName,T=[];o!==null&&o!==u;){var b=o,P=b.alternate,X=b.stateNode;if(b=b.tag,P!==null&&P===u)break;b!==5&&b!==26&&b!==27||X===null||(P=X,f?(X=qa(o,g),X!=null&&T.unshift(vc(o,X,P))):f||(X=qa(o,g),X!=null&&T.push(vc(o,X,P)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var ZD=/\r\n?/g,eO=/\u0000|\uFFFD/g;function FT(r){return(typeof r=="string"?r:""+r).replace(ZD,`
`).replace(eO,"")}function qT(r,s){return s=FT(s),FT(r)===s}function xf(){}function Ot(r,s,o,u,f,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Ar(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Ar(r,""+u);break;case"className":et(r,"class",u);break;case"tabIndex":et(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":et(r,o,u);break;case"style":Pu(r,u,g);break;case"data":if(s!=="object"){et(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Xo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Ot(r,s,"name",f.name,f,null),Ot(r,s,"formEncType",f.formEncType,f,null),Ot(r,s,"formMethod",f.formMethod,f,null),Ot(r,s,"formTarget",f.formTarget,f,null)):(Ot(r,s,"encType",f.encType,f,null),Ot(r,s,"method",f.method,f,null),Ot(r,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Xo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=xf);break;case"onScroll":u!=null&&nt("scroll",r);break;case"onScrollEnd":u!=null&&nt("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Xo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":nt("beforetoggle",r),nt("toggle",r),lr(r,"popover",u);break;case"xlinkActuate":ct(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ct(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ct(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ct(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ct(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ct(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ct(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ct(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ct(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":lr(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=$p.get(o)||o,lr(r,o,u))}}function bg(r,s,o,u,f,g){switch(o){case"style":Pu(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Ar(r,u):(typeof u=="number"||typeof u=="bigint")&&Ar(r,""+u);break;case"onScroll":u!=null&&nt("scroll",r);break;case"onScrollEnd":u!=null&&nt("scrollend",r);break;case"onClick":u!=null&&(r.onclick=xf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!br.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),g=r[ve]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):lr(r,o,u)}}}function Rn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",r),nt("load",r);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ot(r,s,g,T,o,null)}}f&&Ot(r,s,"srcSet",o.srcSet,o,null),u&&Ot(r,s,"src",o.src,o,null);return;case"input":nt("invalid",r);var b=g=T=f=null,P=null,X=null;for(u in o)if(o.hasOwnProperty(u)){var se=o[u];if(se!=null)switch(u){case"name":f=se;break;case"type":T=se;break;case"checked":P=se;break;case"defaultChecked":X=se;break;case"value":g=se;break;case"defaultValue":b=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,s));break;default:Ot(r,s,u,se,o,null)}}Ba(r,g,b,P,X,T,f,!1),Yo(r);return;case"select":nt("invalid",r),u=T=g=null;for(f in o)if(o.hasOwnProperty(f)&&(b=o[f],b!=null))switch(f){case"value":g=b;break;case"defaultValue":T=b;break;case"multiple":u=b;default:Ot(r,s,f,b,o,null)}s=g,o=T,r.multiple=!!u,s!=null?Wi(r,!!u,s,!1):o!=null&&Wi(r,!!u,o,!0);return;case"textarea":nt("invalid",r),g=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(b=o[T],b!=null))switch(T){case"value":u=b;break;case"defaultValue":f=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:Ot(r,s,T,b,o,null)}ja(r,u,f,g),Yo(r);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(u=o[P],u!=null))switch(P){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ot(r,s,P,u,o,null)}return;case"dialog":nt("beforetoggle",r),nt("toggle",r),nt("cancel",r),nt("close",r);break;case"iframe":case"object":nt("load",r);break;case"video":case"audio":for(u=0;u<yc.length;u++)nt(yc[u],r);break;case"image":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"embed":case"source":case"link":nt("error",r),nt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(u=o[X],u!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ot(r,s,X,u,o,null)}return;default:if(xu(s)){for(se in o)o.hasOwnProperty(se)&&(u=o[se],u!==void 0&&bg(r,s,se,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&Ot(r,s,b,u,o,null))}function tO(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,T=null,b=null,P=null,X=null,se=null;for(J in o){var ue=o[J];if(o.hasOwnProperty(J)&&ue!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":P=ue;default:u.hasOwnProperty(J)||Ot(r,s,J,null,u,ue)}}for(var W in u){var J=u[W];if(ue=o[W],u.hasOwnProperty(W)&&(J!=null||ue!=null))switch(W){case"type":g=J;break;case"name":f=J;break;case"checked":X=J;break;case"defaultChecked":se=J;break;case"value":T=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:J!==ue&&Ot(r,s,W,J,u,ue)}}cr(r,T,b,P,X,se,g,f);return;case"select":J=T=b=W=null;for(g in o)if(P=o[g],o.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":J=P;default:u.hasOwnProperty(g)||Ot(r,s,g,null,u,P)}for(f in u)if(g=u[f],P=o[f],u.hasOwnProperty(f)&&(g!=null||P!=null))switch(f){case"value":W=g;break;case"defaultValue":b=g;break;case"multiple":T=g;default:g!==P&&Ot(r,s,f,g,u,P)}s=b,o=T,u=J,W!=null?Wi(r,!!o,W,!1):!!u!=!!o&&(s!=null?Wi(r,!!o,s,!0):Wi(r,!!o,o?[]:"",!1));return;case"textarea":J=W=null;for(b in o)if(f=o[b],o.hasOwnProperty(b)&&f!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ot(r,s,b,null,u,f)}for(T in u)if(f=u[T],g=o[T],u.hasOwnProperty(T)&&(f!=null||g!=null))switch(T){case"value":W=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&Ot(r,s,T,f,u,g)}It(r,W,J);return;case"option":for(var Ve in o)if(W=o[Ve],o.hasOwnProperty(Ve)&&W!=null&&!u.hasOwnProperty(Ve))switch(Ve){case"selected":r.selected=!1;break;default:Ot(r,s,Ve,null,u,W)}for(P in u)if(W=u[P],J=o[P],u.hasOwnProperty(P)&&W!==J&&(W!=null||J!=null))switch(P){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Ot(r,s,P,W,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in o)W=o[ke],o.hasOwnProperty(ke)&&W!=null&&!u.hasOwnProperty(ke)&&Ot(r,s,ke,null,u,W);for(X in u)if(W=u[X],J=o[X],u.hasOwnProperty(X)&&W!==J&&(W!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:Ot(r,s,X,W,u,J)}return;default:if(xu(s)){for(var Nt in o)W=o[Nt],o.hasOwnProperty(Nt)&&W!==void 0&&!u.hasOwnProperty(Nt)&&bg(r,s,Nt,void 0,u,W);for(se in u)W=u[se],J=o[se],!u.hasOwnProperty(se)||W===J||W===void 0&&J===void 0||bg(r,s,se,W,u,J);return}}for(var G in o)W=o[G],o.hasOwnProperty(G)&&W!=null&&!u.hasOwnProperty(G)&&Ot(r,s,G,null,u,W);for(ue in u)W=u[ue],J=o[ue],!u.hasOwnProperty(ue)||W===J||W==null&&J==null||Ot(r,s,ue,W,u,J)}var Sg=null,Ag=null;function kf(r){return r.nodeType===9?r:r.ownerDocument}function HT(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GT(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Rg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cg=null;function nO(){var r=window.event;return r&&r.type==="popstate"?r===Cg?!1:(Cg=r,!0):(Cg=null,!1)}var $T=typeof setTimeout=="function"?setTimeout:void 0,rO=typeof clearTimeout=="function"?clearTimeout:void 0,KT=typeof Promise=="function"?Promise:void 0,iO=typeof queueMicrotask=="function"?queueMicrotask:typeof KT<"u"?function(r){return KT.resolve(null).then(r).catch(sO)}:$T;function sO(r){setTimeout(function(){throw r})}function Zs(r){return r==="head"}function QT(r,s){var o=s,u=0,f=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var T=r.ownerDocument;if(o&1&&_c(T.documentElement),o&2&&_c(T.body),o&4)for(o=T.head,_c(o),T=o.firstChild;T;){var b=T.nextSibling,P=T.nodeName;T[Oe]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=b}}if(f===0){r.removeChild(g),Cc(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Cc(s)}function Ig(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ig(o),$e(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function aO(r,s,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Oe])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Qr(r.nextSibling),r===null)break}return null}function oO(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Qr(r.nextSibling),r===null))return null;return r}function Dg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function lO(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Qr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Og=null;function YT(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function XT(r,s,o){switch(s=kf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function _c(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);$e(r)}var kr=new Map,WT=new Set;function Lf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var gs=me.d;me.d={f:uO,r:cO,D:hO,C:fO,L:dO,m:pO,X:gO,S:mO,M:yO};function uO(){var r=gs.f(),s=Cf();return r||s}function cO(r){var s=Mt(r);s!==null&&s.tag===5&&s.type==="form"?yE(s):gs.r(r)}var Ol=typeof document>"u"?null:document;function JT(r,s,o){var u=Ol;if(u&&typeof s=="string"&&s){var f=Wt(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),WT.has(f)||(WT.add(f),r={rel:r,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),Rn(s,"link",r),Ke(s),u.head.appendChild(s)))}}function hO(r){gs.D(r),JT("dns-prefetch",r,null)}function fO(r,s){gs.C(r,s),JT("preconnect",r,s)}function dO(r,s,o){gs.L(r,s,o);var u=Ol;if(u&&r&&s){var f='link[rel="preload"][as="'+Wt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Wt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Wt(o.imageSizes)+'"]')):f+='[href="'+Wt(r)+'"]';var g=f;switch(s){case"style":g=Nl(r);break;case"script":g=Ml(r)}kr.has(g)||(r=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),kr.set(g,r),u.querySelector(f)!==null||s==="style"&&u.querySelector(Ec(g))||s==="script"&&u.querySelector(Tc(g))||(s=u.createElement("link"),Rn(s,"link",r),Ke(s),u.head.appendChild(s)))}}function pO(r,s){gs.m(r,s);var o=Ol;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Wt(u)+'"][href="'+Wt(r)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ml(r)}if(!kr.has(g)&&(r=y({rel:"modulepreload",href:r},s),kr.set(g,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Tc(g)))return}u=o.createElement("link"),Rn(u,"link",r),Ke(u),o.head.appendChild(u)}}}function mO(r,s,o){gs.S(r,s,o);var u=Ol;if(u&&r){var f=Je(u).hoistableStyles,g=Nl(r);s=s||"default";var T=f.get(g);if(!T){var b={loading:0,preload:null};if(T=u.querySelector(Ec(g)))b.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},o),(o=kr.get(g))&&Ng(r,o);var P=T=u.createElement("link");Ke(P),Rn(P,"link",r),P._p=new Promise(function(X,se){P.onload=X,P.onerror=se}),P.addEventListener("load",function(){b.loading|=1}),P.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Vf(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:b},f.set(g,T)}}}function gO(r,s){gs.X(r,s);var o=Ol;if(o&&r){var u=Je(o).hoistableScripts,f=Ml(r),g=u.get(f);g||(g=o.querySelector(Tc(f)),g||(r=y({src:r,async:!0},s),(s=kr.get(f))&&Mg(r,s),g=o.createElement("script"),Ke(g),Rn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function yO(r,s){gs.M(r,s);var o=Ol;if(o&&r){var u=Je(o).hoistableScripts,f=Ml(r),g=u.get(f);g||(g=o.querySelector(Tc(f)),g||(r=y({src:r,async:!0,type:"module"},s),(s=kr.get(f))&&Mg(r,s),g=o.createElement("script"),Ke(g),Rn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function ZT(r,s,o,u){var f=(f=Ne.current)?Lf(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Nl(o.href),o=Je(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Nl(o.href);var g=Je(f).hoistableStyles,T=g.get(r);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,T),(g=f.querySelector(Ec(r)))&&!g._p&&(T.instance=g,T.state.loading=5),kr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},kr.set(r,o),g||vO(f,r,o,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ml(o),o=Je(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Nl(r){return'href="'+Wt(r)+'"'}function Ec(r){return'link[rel="stylesheet"]['+r+"]"}function ew(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function vO(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Rn(s,"link",o),Ke(s),r.head.appendChild(s))}function Ml(r){return'[src="'+Wt(r)+'"]'}function Tc(r){return"script[async]"+r}function tw(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Wt(o.href)+'"]');if(u)return s.instance=u,Ke(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Ke(u),Rn(u,"style",f),Vf(u,o.precedence,r),s.instance=u;case"stylesheet":f=Nl(o.href);var g=r.querySelector(Ec(f));if(g)return s.state.loading|=4,s.instance=g,Ke(g),g;u=ew(o),(f=kr.get(f))&&Ng(u,f),g=(r.ownerDocument||r).createElement("link"),Ke(g);var T=g;return T._p=new Promise(function(b,P){T.onload=b,T.onerror=P}),Rn(g,"link",u),s.state.loading|=4,Vf(g,o.precedence,r),s.instance=g;case"script":return g=Ml(o.src),(f=r.querySelector(Tc(g)))?(s.instance=f,Ke(f),f):(u=o,(f=kr.get(g))&&(u=y({},o),Mg(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),Ke(f),Rn(f,"link",u),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Vf(u,o.precedence,r));return s.instance}function Vf(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,T=0;T<u.length;T++){var b=u[T];if(b.dataset.precedence===s)g=b;else if(g!==f)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Ng(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Mg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Uf=null;function nw(r,s,o){if(Uf===null){var u=new Map,f=Uf=new Map;f.set(o,u)}else f=Uf,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var g=o[f];if(!(g[Oe]||g[pe]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=r+T;var b=u.get(T);b?b.push(g):u.set(T,[g])}}return u}function rw(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function _O(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function iw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var wc=null;function EO(){}function TO(r,s,o){if(wc===null)throw Error(i(475));var u=wc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Nl(o.href),g=r.querySelector(Ec(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=zf.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,Ke(g);return}g=r.ownerDocument||r,o=ew(o),(f=kr.get(f))&&Ng(o,f),g=g.createElement("link"),Ke(g);var T=g;T._p=new Promise(function(b,P){T.onload=b,T.onerror=P}),Rn(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=zf.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function wO(){if(wc===null)throw Error(i(475));var r=wc;return r.stylesheets&&r.count===0&&Pg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Pg(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function zf(){if(this.count--,this.count===0){if(this.stylesheets)Pg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Bf=null;function Pg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Bf=new Map,s.forEach(bO,r),Bf=null,zf.call(r))}function bO(r,s){if(!(s.state.loading&4)){var o=Bf.get(r);if(o)var u=o.get(null);else{o=new Map,Bf.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var T=f[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=s.instance,T=f.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,f),o.set(T,f),this.count++,u=zf.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var bc={$$typeof:q,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function SO(r,s,o,u,f,g,T,b){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.hiddenUpdates=Hr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function sw(r,s,o,u,f,g,T,b,P,X,se,ue){return r=new SO(r,s,o,T,b,P,X,ue),s=1,g===!0&&(s|=24),g=fr(3,null,null,s),r.current=g,g.stateNode=r,s=pm(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},vm(g),r}function aw(r){return r?(r=ul,r):ul}function ow(r,s,o,u,f,g){f=aw(f),u.context===null?u.context=f:u.pendingContext=f,u=Bs(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=js(r,u,s),o!==null&&(yr(o,r,s),Zu(o,r,s))}function lw(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function xg(r,s){lw(r,s),(r=r.alternate)&&lw(r,s)}function uw(r){if(r.tag===13){var s=ll(r,67108864);s!==null&&yr(s,r,67108864),xg(r,67108864)}}var jf=!0;function AO(r,s,o,u){var f=ne.T;ne.T=null;var g=me.p;try{me.p=2,kg(r,s,o,u)}finally{me.p=g,ne.T=f}}function RO(r,s,o,u){var f=ne.T;ne.T=null;var g=me.p;try{me.p=8,kg(r,s,o,u)}finally{me.p=g,ne.T=f}}function kg(r,s,o,u){if(jf){var f=Lg(u);if(f===null)wg(r,s,u,Ff,o),hw(r,u);else if(IO(f,r,s,o,u))u.stopPropagation();else if(hw(r,u),s&4&&-1<CO.indexOf(r)){for(;f!==null;){var g=Mt(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Wn(g.pendingLanes);if(T!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var P=1<<31-dn(T);b.entanglements[1]|=P,T&=~P}Ai(g),(Rt&6)===0&&(Af=Xn()+500,gc(0))}}break;case 13:b=ll(g,2),b!==null&&yr(b,g,2),Cf(),xg(g,2)}if(g=Lg(u),g===null&&wg(r,s,u,Ff,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else wg(r,s,u,null,o)}}function Lg(r){return r=Rr(r),Vg(r)}var Ff=null;function Vg(r){if(Ff=null,r=yt(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Ff=r,null}function cw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ou()){case ka:return 2;case Ps:return 8;case jn:case Hi:return 32;case Gi:return 268435456;default:return 32}default:return 32}}var Ug=!1,ea=null,ta=null,na=null,Sc=new Map,Ac=new Map,ra=[],CO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hw(r,s){switch(r){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":Sc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ac.delete(s.pointerId)}}function Rc(r,s,o,u,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Mt(s),s!==null&&uw(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function IO(r,s,o,u,f){switch(s){case"focusin":return ea=Rc(ea,r,s,o,u,f),!0;case"dragenter":return ta=Rc(ta,r,s,o,u,f),!0;case"mouseover":return na=Rc(na,r,s,o,u,f),!0;case"pointerover":var g=f.pointerId;return Sc.set(g,Rc(Sc.get(g)||null,r,s,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Ac.set(g,Rc(Ac.get(g)||null,r,s,o,u,f)),!0}return!1}function fw(r){var s=yt(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,Z(r.priority,function(){if(o.tag===13){var u=gr();u=hi(u);var f=ll(o,u);f!==null&&yr(f,o,u),xg(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function qf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Lg(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Ji=u,o.target.dispatchEvent(u),Ji=null}else return s=Mt(o),s!==null&&uw(s),r.blockedOn=o,!1;s.shift()}return!0}function dw(r,s,o){qf(r)&&o.delete(s)}function DO(){Ug=!1,ea!==null&&qf(ea)&&(ea=null),ta!==null&&qf(ta)&&(ta=null),na!==null&&qf(na)&&(na=null),Sc.forEach(dw),Ac.forEach(dw)}function Hf(r,s){r.blockedOn===s&&(r.blockedOn=null,Ug||(Ug=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,DO)))}var Gf=null;function pw(r){Gf!==r&&(Gf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Gf===r&&(Gf=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],f=r[s+2];if(typeof u!="function"){if(Vg(u||o)===null)continue;break}var g=Mt(o);g!==null&&(r.splice(s,3),s-=3,Vm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Cc(r){function s(P){return Hf(P,r)}ea!==null&&Hf(ea,r),ta!==null&&Hf(ta,r),na!==null&&Hf(na,r),Sc.forEach(s),Ac.forEach(s);for(var o=0;o<ra.length;o++){var u=ra[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ra.length&&(o=ra[0],o.blockedOn===null);)fw(o),o.blockedOn===null&&ra.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],T=f[ve]||null;if(typeof g=="function")T||pw(o);else if(T){var b=null;if(g&&g.hasAttribute("formAction")){if(f=g,T=g[ve]||null)b=T.formAction;else if(Vg(f)!==null)continue}else b=T.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),pw(o)}}}function zg(r){this._internalRoot=r}$f.prototype.render=zg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=gr();ow(o,u,r,s,null,null)},$f.prototype.unmount=zg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ow(r.current,2,null,r,null,null),Cf(),s[Ae]=null}};function $f(r){this._internalRoot=r}$f.prototype.unstable_scheduleHydration=function(r){if(r){var s=$();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ra.length&&s!==0&&s<ra[o].priority;o++);ra.splice(o,0,r),o===0&&fw(r)}};var mw=e.version;if(mw!=="19.1.0")throw Error(i(527,mw,"19.1.0"));me.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var OO={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kf.isDisabled&&Kf.supportsFiber)try{mt=Kf.inject(OO),gt=Kf}catch{}}return Dc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",f=NE,g=ME,T=PE,b=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=sw(r,1,!1,null,null,o,u,f,g,T,b,null),r[Ae]=s.current,Tg(r),new zg(s)},Dc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,f="",g=NE,T=ME,b=PE,P=null,X=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks),o.formState!==void 0&&(X=o.formState)),s=sw(r,1,!0,s,o??null,u,f,g,T,b,P,X),s.context=aw(null),o=s.current,u=gr(),u=hi(u),f=Bs(u),f.callback=null,js(o,f,u),o=u,s.current.lanes=o,Tr(s,o),Ai(s),r[Ae]=s.current,Tg(r),new $f(s)},Dc.version="19.1.0",Dc}var Rw;function BO(){if(Rw)return qg.exports;Rw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qg.exports=zO(),qg.exports}var jO=BO();const FO="modulepreload",qO=function(t){return"/react-blog-demo/"+t},Cw={},Mv=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=Promise.allSettled(n.map(p=>{if(p=qO(p),p in Cw)return;Cw[p]=!0;const m=p.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":FO,m||(_.as="script"),_.crossOrigin="",_.href=p,d&&_.setAttribute("nonce",d),document.head.appendChild(_),m)return new Promise((w,S)=>{_.addEventListener("load",w),_.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};var yh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mo=typeof window>"u"||"Deno"in globalThis;function Vr(){}function HO(t,e){return typeof t=="function"?t(e):t}function Cy(t){return typeof t=="number"&&t>=0&&t!==1/0}function OA(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Bl(t,e){return typeof t=="function"?t(e):t}function Jr(t,e){return typeof t=="function"?t(e):t}function Iw(t,e){const{type:n="all",exact:i,fetchStatus:a,predicate:l,queryKey:c,stale:d}=t;if(c){if(i){if(e.queryHash!==Pv(c,e.options))return!1}else if(!Xc(e.queryKey,c))return!1}if(n!=="all"){const p=e.isActive();if(n==="active"&&!p||n==="inactive"&&p)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||a&&a!==e.state.fetchStatus||l&&!l(e))}function Dw(t,e){const{exact:n,status:i,predicate:a,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(n){if(Yc(e.options.mutationKey)!==Yc(l))return!1}else if(!Xc(e.options.mutationKey,l))return!1}return!(i&&e.state.status!==i||a&&!a(e))}function Pv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Yc)(t)}function Yc(t){return JSON.stringify(t,(e,n)=>Dy(n)?Object.keys(n).sort().reduce((i,a)=>(i[a]=n[a],i),{}):n)}function Xc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Xc(t[n],e[n])):!1}function NA(t,e){if(t===e)return t;const n=Ow(t)&&Ow(e);if(n||Dy(t)&&Dy(e)){const i=n?t:Object.keys(t),a=i.length,l=n?e:Object.keys(e),c=l.length,d=n?[]:{};let p=0;for(let m=0;m<c;m++){const y=n?m:l[m];(!n&&i.includes(y)||n)&&t[y]===void 0&&e[y]===void 0?(d[y]=void 0,p++):(d[y]=NA(t[y],e[y]),d[y]===t[y]&&t[y]!==void 0&&p++)}return a===c&&p===a?t:d}return e}function Iy(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Ow(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Dy(t){if(!Nw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Nw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Nw(t){return Object.prototype.toString.call(t)==="[object Object]"}function GO(t){return new Promise(e=>{setTimeout(e,t)})}function Oy(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?NA(t,e):e}function $O(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function KO(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var xv=Symbol();function MA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===xv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Eo,da,Gl,EA,QO=(EA=class extends yh{constructor(){super();Ue(this,Eo);Ue(this,da);Ue(this,Gl);Te(this,Gl,e=>{if(!Mo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){j(this,da)||this.setEventListener(j(this,Gl))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,da))==null||e.call(this),Te(this,da,void 0))}setEventListener(e){var n;Te(this,Gl,e),(n=j(this,da))==null||n.call(this),Te(this,da,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){j(this,Eo)!==e&&(Te(this,Eo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof j(this,Eo)=="boolean"?j(this,Eo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Eo=new WeakMap,da=new WeakMap,Gl=new WeakMap,EA),kv=new QO,$l,pa,Kl,TA,YO=(TA=class extends yh{constructor(){super();Ue(this,$l,!0);Ue(this,pa);Ue(this,Kl);Te(this,Kl,e=>{if(!Mo&&window.addEventListener){const n=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){j(this,pa)||this.setEventListener(j(this,Kl))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,pa))==null||e.call(this),Te(this,pa,void 0))}setEventListener(e){var n;Te(this,Kl,e),(n=j(this,pa))==null||n.call(this),Te(this,pa,e(this.setOnline.bind(this)))}setOnline(e){j(this,$l)!==e&&(Te(this,$l,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return j(this,$l)}},$l=new WeakMap,pa=new WeakMap,Kl=new WeakMap,TA),Id=new YO;function Ny(){let t,e;const n=new Promise((a,l)=>{t=a,e=l});n.status="pending",n.catch(()=>{});function i(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{i({status:"fulfilled",value:a}),t(a)},n.reject=a=>{i({status:"rejected",reason:a}),e(a)},n}function XO(t){return Math.min(1e3*2**t,3e4)}function PA(t){return(t??"online")==="online"?Id.isOnline():!0}var xA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Kg(t){return t instanceof xA}function kA(t){let e=!1,n=0,i=!1,a;const l=Ny(),c=N=>{var D;i||(w(new xA(N)),(D=t.abort)==null||D.call(t))},d=()=>{e=!0},p=()=>{e=!1},m=()=>kv.isFocused()&&(t.networkMode==="always"||Id.isOnline())&&t.canRun(),y=()=>PA(t.networkMode)&&t.canRun(),_=N=>{var D;i||(i=!0,(D=t.onSuccess)==null||D.call(t,N),a==null||a(),l.resolve(N))},w=N=>{var D;i||(i=!0,(D=t.onError)==null||D.call(t,N),a==null||a(),l.reject(N))},S=()=>new Promise(N=>{var D;a=B=>{(i||m())&&N(B)},(D=t.onPause)==null||D.call(t)}).then(()=>{var N;a=void 0,i||(N=t.onContinue)==null||N.call(t)}),R=()=>{if(i)return;let N;const D=n===0?t.initialPromise:void 0;try{N=D??t.fn()}catch(B){N=Promise.reject(B)}Promise.resolve(N).then(_).catch(B=>{var re;if(i)return;const H=t.retry??(Mo?0:3),q=t.retryDelay??XO,ie=typeof q=="function"?q(n,B):q,M=H===!0||typeof H=="number"&&n<H||typeof H=="function"&&H(n,B);if(e||!M){w(B);return}n++,(re=t.onFail)==null||re.call(t,n,B),GO(ie).then(()=>m()?void 0:S()).then(()=>{e?w(B):R()})})};return{promise:l,cancel:c,continue:()=>(a==null||a(),l),cancelRetry:d,continueRetry:p,canStart:y,start:()=>(y()?R():S().then(R),l)}}var WO=t=>setTimeout(t,0);function JO(){let t=[],e=0,n=d=>{d()},i=d=>{d()},a=WO;const l=d=>{e?t.push(d):a(()=>{n(d)})},c=()=>{const d=t;t=[],d.length&&a(()=>{i(()=>{d.forEach(p=>{n(p)})})})};return{batch:d=>{let p;e++;try{p=d()}finally{e--,e||c()}return p},batchCalls:d=>(...p)=>{l(()=>{d(...p)})},schedule:l,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{i=d},setScheduler:d=>{a=d}}}var In=JO(),To,wA,LA=(wA=class{constructor(){Ue(this,To)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cy(this.gcTime)&&Te(this,To,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Mo?1/0:5*60*1e3))}clearGcTimeout(){j(this,To)&&(clearTimeout(j(this,To)),Te(this,To,void 0))}},To=new WeakMap,wA),Ql,Yl,Lr,wo,xn,dh,bo,Yr,ys,bA,ZO=(bA=class extends LA{constructor(n){super();Ue(this,Yr);Ue(this,Ql);Ue(this,Yl);Ue(this,Lr);Ue(this,wo);Ue(this,xn);Ue(this,dh);Ue(this,bo);Te(this,bo,!1),Te(this,dh,n.defaultOptions),this.setOptions(n.options),this.observers=[],Te(this,wo,n.client),Te(this,Lr,j(this,wo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Te(this,Ql,eN(this.options)),this.state=n.state??j(this,Ql),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=j(this,xn))==null?void 0:n.promise}setOptions(n){this.options={...j(this,dh),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,Lr).remove(this)}setData(n,i){const a=Oy(this.state.data,n,this.options);return at(this,Yr,ys).call(this,{data:a,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt,manual:i==null?void 0:i.manual}),a}setState(n,i){at(this,Yr,ys).call(this,{type:"setState",state:n,setStateOptions:i})}cancel(n){var a,l;const i=(a=j(this,xn))==null?void 0:a.promise;return(l=j(this,xn))==null||l.cancel(n),i?i.then(Vr).catch(Vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,Ql))}isActive(){return this.observers.some(n=>Jr(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!OA(this.state.dataUpdatedAt,n)}onFocus(){var i;const n=this.observers.find(a=>a.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(i=j(this,xn))==null||i.continue()}onOnline(){var i;const n=this.observers.find(a=>a.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(i=j(this,xn))==null||i.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),j(this,Lr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(i=>i!==n),this.observers.length||(j(this,xn)&&(j(this,bo)?j(this,xn).cancel({revert:!0}):j(this,xn).cancelRetry()),this.scheduleGc()),j(this,Lr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||at(this,Yr,ys).call(this,{type:"invalidate"})}fetch(n,i){var m,y,_;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(j(this,xn))return j(this,xn).continueRetry(),j(this,xn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const w=this.observers.find(S=>S.options.queryFn);w&&this.setOptions(w.options)}const a=new AbortController,l=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(Te(this,bo,!0),a.signal)})},c=()=>{const w=MA(this.options,i),S={client:j(this,wo),queryKey:this.queryKey,meta:this.meta};return l(S),Te(this,bo,!1),this.options.persister?this.options.persister(w,S,this):w(S)},d={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:j(this,wo),state:this.state,fetchFn:c};l(d),(m=this.options.behavior)==null||m.onFetch(d,this),Te(this,Yl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=d.fetchOptions)==null?void 0:y.meta))&&at(this,Yr,ys).call(this,{type:"fetch",meta:(_=d.fetchOptions)==null?void 0:_.meta});const p=w=>{var S,R,N,D;Kg(w)&&w.silent||at(this,Yr,ys).call(this,{type:"error",error:w}),Kg(w)||((R=(S=j(this,Lr).config).onError)==null||R.call(S,w,this),(D=(N=j(this,Lr).config).onSettled)==null||D.call(N,this.state.data,w,this)),this.scheduleGc()};return Te(this,xn,kA({initialPromise:i==null?void 0:i.initialPromise,fn:d.fetchFn,abort:a.abort.bind(a),onSuccess:w=>{var S,R,N,D;if(w===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(w)}catch(B){p(B);return}(R=(S=j(this,Lr).config).onSuccess)==null||R.call(S,w,this),(D=(N=j(this,Lr).config).onSettled)==null||D.call(N,w,this.state.error,this),this.scheduleGc()},onError:p,onFail:(w,S)=>{at(this,Yr,ys).call(this,{type:"failed",failureCount:w,error:S})},onPause:()=>{at(this,Yr,ys).call(this,{type:"pause"})},onContinue:()=>{at(this,Yr,ys).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),j(this,xn).start()}},Ql=new WeakMap,Yl=new WeakMap,Lr=new WeakMap,wo=new WeakMap,xn=new WeakMap,dh=new WeakMap,bo=new WeakMap,Yr=new WeakSet,ys=function(n){const i=a=>{switch(n.type){case"failed":return{...a,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...VA(a.data,this.options),fetchMeta:n.meta??null};case"success":return{...a,data:n.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const l=n.error;return Kg(l)&&l.revert&&j(this,Yl)?{...j(this,Yl),fetchStatus:"idle"}:{...a,error:l,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...n.state}}};this.state=i(this.state),In.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),j(this,Lr).notify({query:this,type:"updated",action:n})})},bA);function VA(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function eN(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ii,SA,tN=(SA=class extends yh{constructor(e={}){super();Ue(this,Ii);this.config=e,Te(this,Ii,new Map)}build(e,n,i){const a=n.queryKey,l=n.queryHash??Pv(a,n);let c=this.get(l);return c||(c=new ZO({client:e,queryKey:a,queryHash:l,options:e.defaultQueryOptions(n),state:i,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){j(this,Ii).has(e.queryHash)||(j(this,Ii).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=j(this,Ii).get(e.queryHash);n&&(e.destroy(),n===e&&j(this,Ii).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){In.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return j(this,Ii).get(e)}getAll(){return[...j(this,Ii).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(i=>Iw(n,i))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(i=>Iw(e,i)):n}notify(e){In.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){In.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){In.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ii=new WeakMap,SA),Di,Kn,So,Oi,aa,AA,nN=(AA=class extends LA{constructor(n){super();Ue(this,Oi);Ue(this,Di);Ue(this,Kn);Ue(this,So);this.mutationId=n.mutationId,Te(this,Kn,n.mutationCache),Te(this,Di,[]),this.state=n.state||rN(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){j(this,Di).includes(n)||(j(this,Di).push(n),this.clearGcTimeout(),j(this,Kn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Te(this,Di,j(this,Di).filter(i=>i!==n)),this.scheduleGc(),j(this,Kn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){j(this,Di).length||(this.state.status==="pending"?this.scheduleGc():j(this,Kn).remove(this))}continue(){var n;return((n=j(this,So))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var l,c,d,p,m,y,_,w,S,R,N,D,B,H,q,ie,M,re,O,C;Te(this,So,kA({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,k)=>{at(this,Oi,aa).call(this,{type:"failed",failureCount:I,error:k})},onPause:()=>{at(this,Oi,aa).call(this,{type:"pause"})},onContinue:()=>{at(this,Oi,aa).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,Kn).canRun(this)}));const i=this.state.status==="pending",a=!j(this,So).canStart();try{if(!i){at(this,Oi,aa).call(this,{type:"pending",variables:n,isPaused:a}),await((c=(l=j(this,Kn).config).onMutate)==null?void 0:c.call(l,n,this));const k=await((p=(d=this.options).onMutate)==null?void 0:p.call(d,n));k!==this.state.context&&at(this,Oi,aa).call(this,{type:"pending",context:k,variables:n,isPaused:a})}const I=await j(this,So).start();return await((y=(m=j(this,Kn).config).onSuccess)==null?void 0:y.call(m,I,n,this.state.context,this)),await((w=(_=this.options).onSuccess)==null?void 0:w.call(_,I,n,this.state.context)),await((R=(S=j(this,Kn).config).onSettled)==null?void 0:R.call(S,I,null,this.state.variables,this.state.context,this)),await((D=(N=this.options).onSettled)==null?void 0:D.call(N,I,null,n,this.state.context)),at(this,Oi,aa).call(this,{type:"success",data:I}),I}catch(I){try{throw await((H=(B=j(this,Kn).config).onError)==null?void 0:H.call(B,I,n,this.state.context,this)),await((ie=(q=this.options).onError)==null?void 0:ie.call(q,I,n,this.state.context)),await((re=(M=j(this,Kn).config).onSettled)==null?void 0:re.call(M,void 0,I,this.state.variables,this.state.context,this)),await((C=(O=this.options).onSettled)==null?void 0:C.call(O,void 0,I,n,this.state.context)),I}finally{at(this,Oi,aa).call(this,{type:"error",error:I})}}finally{j(this,Kn).runNext(this)}}},Di=new WeakMap,Kn=new WeakMap,So=new WeakMap,Oi=new WeakSet,aa=function(n){const i=a=>{switch(n.type){case"failed":return{...a,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...a,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:n.error,failureCount:a.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=i(this.state),In.batch(()=>{j(this,Di).forEach(a=>{a.onMutationUpdate(n)}),j(this,Kn).notify({mutation:this,type:"updated",action:n})})},AA);function rN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Es,Xr,ph,RA,iN=(RA=class extends yh{constructor(e={}){super();Ue(this,Es);Ue(this,Xr);Ue(this,ph);this.config=e,Te(this,Es,new Set),Te(this,Xr,new Map),Te(this,ph,0)}build(e,n,i){const a=new nN({mutationCache:this,mutationId:++Qf(this,ph)._,options:e.defaultMutationOptions(n),state:i});return this.add(a),a}add(e){j(this,Es).add(e);const n=Yf(e);if(typeof n=="string"){const i=j(this,Xr).get(n);i?i.push(e):j(this,Xr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(j(this,Es).delete(e)){const n=Yf(e);if(typeof n=="string"){const i=j(this,Xr).get(n);if(i)if(i.length>1){const a=i.indexOf(e);a!==-1&&i.splice(a,1)}else i[0]===e&&j(this,Xr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Yf(e);if(typeof n=="string"){const i=j(this,Xr).get(n),a=i==null?void 0:i.find(l=>l.state.status==="pending");return!a||a===e}else return!0}runNext(e){var i;const n=Yf(e);if(typeof n=="string"){const a=(i=j(this,Xr).get(n))==null?void 0:i.find(l=>l!==e&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){In.batch(()=>{j(this,Es).forEach(e=>{this.notify({type:"removed",mutation:e})}),j(this,Es).clear(),j(this,Xr).clear()})}getAll(){return Array.from(j(this,Es))}find(e){const n={exact:!0,...e};return this.getAll().find(i=>Dw(n,i))}findAll(e={}){return this.getAll().filter(n=>Dw(e,n))}notify(e){In.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return In.batch(()=>Promise.all(e.map(n=>n.continue().catch(Vr))))}},Es=new WeakMap,Xr=new WeakMap,ph=new WeakMap,RA);function Yf(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Mw(t){return{onFetch:(e,n)=>{var y,_,w,S,R;const i=e.options,a=(w=(_=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:_.fetchMore)==null?void 0:w.direction,l=((S=e.state.data)==null?void 0:S.pages)||[],c=((R=e.state.data)==null?void 0:R.pageParams)||[];let d={pages:[],pageParams:[]},p=0;const m=async()=>{let N=!1;const D=q=>{Object.defineProperty(q,"signal",{enumerable:!0,get:()=>(e.signal.aborted?N=!0:e.signal.addEventListener("abort",()=>{N=!0}),e.signal)})},B=MA(e.options,e.fetchOptions),H=async(q,ie,M)=>{if(N)return Promise.reject();if(ie==null&&q.pages.length)return Promise.resolve(q);const re={client:e.client,queryKey:e.queryKey,pageParam:ie,direction:M?"backward":"forward",meta:e.options.meta};D(re);const O=await B(re),{maxPages:C}=e.options,I=M?KO:$O;return{pages:I(q.pages,O,C),pageParams:I(q.pageParams,ie,C)}};if(a&&l.length){const q=a==="backward",ie=q?sN:Pw,M={pages:l,pageParams:c},re=ie(i,M);d=await H(M,re,q)}else{const q=t??l.length;do{const ie=p===0?c[0]??i.initialPageParam:Pw(i,d);if(p>0&&ie==null)break;d=await H(d,ie),p++}while(p<q)}return d};e.options.persister?e.fetchFn=()=>{var N,D;return(D=(N=e.options).persister)==null?void 0:D.call(N,m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=m}}}function Pw(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function sN(t,{pages:e,pageParams:n}){var i;return e.length>0?(i=t.getPreviousPageParam)==null?void 0:i.call(t,e[0],e,n[0],n):void 0}var Ht,ma,ga,Xl,Wl,ya,Jl,Zl,CA,aN=(CA=class{constructor(t={}){Ue(this,Ht);Ue(this,ma);Ue(this,ga);Ue(this,Xl);Ue(this,Wl);Ue(this,ya);Ue(this,Jl);Ue(this,Zl);Te(this,Ht,t.queryCache||new tN),Te(this,ma,t.mutationCache||new iN),Te(this,ga,t.defaultOptions||{}),Te(this,Xl,new Map),Te(this,Wl,new Map),Te(this,ya,0)}mount(){Qf(this,ya)._++,j(this,ya)===1&&(Te(this,Jl,kv.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,Ht).onFocus())})),Te(this,Zl,Id.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,Ht).onOnline())})))}unmount(){var t,e;Qf(this,ya)._--,j(this,ya)===0&&((t=j(this,Jl))==null||t.call(this),Te(this,Jl,void 0),(e=j(this,Zl))==null||e.call(this),Te(this,Zl,void 0))}isFetching(t){return j(this,Ht).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return j(this,ma).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,Ht).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=j(this,Ht).build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Bl(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return j(this,Ht).findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),a=j(this,Ht).get(i.queryHash),l=a==null?void 0:a.state.data,c=HO(e,l);if(c!==void 0)return j(this,Ht).build(this,i).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return In.batch(()=>j(this,Ht).findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,Ht).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=j(this,Ht);In.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=j(this,Ht);return In.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=In.batch(()=>j(this,Ht).findAll(t).map(a=>a.cancel(n)));return Promise.all(i).then(Vr).catch(Vr)}invalidateQueries(t,e={}){return In.batch(()=>(j(this,Ht).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=In.batch(()=>j(this,Ht).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let l=a.fetch(void 0,n);return n.throwOnError||(l=l.catch(Vr)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(Vr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=j(this,Ht).build(this,e);return n.isStaleByTime(Bl(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vr).catch(Vr)}fetchInfiniteQuery(t){return t.behavior=Mw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vr).catch(Vr)}ensureInfiniteQueryData(t){return t.behavior=Mw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Id.isOnline()?j(this,ma).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,Ht)}getMutationCache(){return j(this,ma)}getDefaultOptions(){return j(this,ga)}setDefaultOptions(t){Te(this,ga,t)}setQueryDefaults(t,e){j(this,Xl).set(Yc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...j(this,Xl).values()],n={};return e.forEach(i=>{Xc(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){j(this,Wl).set(Yc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...j(this,Wl).values()],n={};return e.forEach(i=>{Xc(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...j(this,ga).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Pv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===xv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...j(this,ga).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){j(this,Ht).clear(),j(this,ma).clear()}},Ht=new WeakMap,ma=new WeakMap,ga=new WeakMap,Xl=new WeakMap,Wl=new WeakMap,ya=new WeakMap,Jl=new WeakMap,Zl=new WeakMap,CA),tr,ot,mh,Qn,Ao,eu,va,Ni,gh,tu,nu,Ro,Co,_a,ru,St,kc,My,Py,xy,ky,Ly,Vy,Uy,UA,IA,oN=(IA=class extends yh{constructor(e,n){super();Ue(this,St);Ue(this,tr);Ue(this,ot);Ue(this,mh);Ue(this,Qn);Ue(this,Ao);Ue(this,eu);Ue(this,va);Ue(this,Ni);Ue(this,gh);Ue(this,tu);Ue(this,nu);Ue(this,Ro);Ue(this,Co);Ue(this,_a);Ue(this,ru,new Set);this.options=n,Te(this,tr,e),Te(this,Ni,null),Te(this,va,Ny()),this.options.experimental_prefetchInRender||j(this,va).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(j(this,ot).addObserver(this),xw(j(this,ot),this.options)?at(this,St,kc).call(this):this.updateResult(),at(this,St,ky).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return zy(j(this,ot),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return zy(j(this,ot),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,at(this,St,Ly).call(this),at(this,St,Vy).call(this),j(this,ot).removeObserver(this)}setOptions(e){const n=this.options,i=j(this,ot);if(this.options=j(this,tr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Jr(this.options.enabled,j(this,ot))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");at(this,St,Uy).call(this),j(this,ot).setOptions(this.options),n._defaulted&&!Iy(this.options,n)&&j(this,tr).getQueryCache().notify({type:"observerOptionsUpdated",query:j(this,ot),observer:this});const a=this.hasListeners();a&&kw(j(this,ot),i,this.options,n)&&at(this,St,kc).call(this),this.updateResult(),a&&(j(this,ot)!==i||Jr(this.options.enabled,j(this,ot))!==Jr(n.enabled,j(this,ot))||Bl(this.options.staleTime,j(this,ot))!==Bl(n.staleTime,j(this,ot)))&&at(this,St,My).call(this);const l=at(this,St,Py).call(this);a&&(j(this,ot)!==i||Jr(this.options.enabled,j(this,ot))!==Jr(n.enabled,j(this,ot))||l!==j(this,_a))&&at(this,St,xy).call(this,l)}getOptimisticResult(e){const n=j(this,tr).getQueryCache().build(j(this,tr),e),i=this.createResult(n,e);return uN(this,i)&&(Te(this,Qn,i),Te(this,eu,this.options),Te(this,Ao,j(this,ot).state)),i}getCurrentResult(){return j(this,Qn)}trackResult(e,n){const i={};return Object.keys(e).forEach(a=>{Object.defineProperty(i,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),n==null||n(a),e[a])})}),i}trackProp(e){j(this,ru).add(e)}getCurrentQuery(){return j(this,ot)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=j(this,tr).defaultQueryOptions(e),i=j(this,tr).getQueryCache().build(j(this,tr),n);return i.fetch().then(()=>this.createResult(i,n))}fetch(e){return at(this,St,kc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),j(this,Qn)))}createResult(e,n){var C;const i=j(this,ot),a=this.options,l=j(this,Qn),c=j(this,Ao),d=j(this,eu),m=e!==i?e.state:j(this,mh),{state:y}=e;let _={...y},w=!1,S;if(n._optimisticResults){const I=this.hasListeners(),k=!I&&xw(e,n),U=I&&kw(e,i,n,a);(k||U)&&(_={..._,...VA(y.data,e.options)}),n._optimisticResults==="isRestoring"&&(_.fetchStatus="idle")}let{error:R,errorUpdatedAt:N,status:D}=_;if(n.select&&_.data!==void 0)if(l&&_.data===(c==null?void 0:c.data)&&n.select===j(this,gh))S=j(this,tu);else try{Te(this,gh,n.select),S=n.select(_.data),S=Oy(l==null?void 0:l.data,S,n),Te(this,tu,S),Te(this,Ni,null)}catch(I){Te(this,Ni,I)}else S=_.data;if(n.placeholderData!==void 0&&S===void 0&&D==="pending"){let I;if(l!=null&&l.isPlaceholderData&&n.placeholderData===(d==null?void 0:d.placeholderData))I=l.data;else if(I=typeof n.placeholderData=="function"?n.placeholderData((C=j(this,nu))==null?void 0:C.state.data,j(this,nu)):n.placeholderData,n.select&&I!==void 0)try{I=n.select(I),Te(this,Ni,null)}catch(k){Te(this,Ni,k)}I!==void 0&&(D="success",S=Oy(l==null?void 0:l.data,I,n),w=!0)}j(this,Ni)&&(R=j(this,Ni),S=j(this,tu),N=Date.now(),D="error");const B=_.fetchStatus==="fetching",H=D==="pending",q=D==="error",ie=H&&B,M=S!==void 0,O={status:D,fetchStatus:_.fetchStatus,isPending:H,isSuccess:D==="success",isError:q,isInitialLoading:ie,isLoading:ie,data:S,dataUpdatedAt:_.dataUpdatedAt,error:R,errorUpdatedAt:N,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>m.dataUpdateCount||_.errorUpdateCount>m.errorUpdateCount,isFetching:B,isRefetching:B&&!H,isLoadingError:q&&!M,isPaused:_.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:q&&M,isStale:Lv(e,n),refetch:this.refetch,promise:j(this,va)};if(this.options.experimental_prefetchInRender){const I=F=>{O.status==="error"?F.reject(O.error):O.data!==void 0&&F.resolve(O.data)},k=()=>{const F=Te(this,va,O.promise=Ny());I(F)},U=j(this,va);switch(U.status){case"pending":e.queryHash===i.queryHash&&I(U);break;case"fulfilled":(O.status==="error"||O.data!==U.value)&&k();break;case"rejected":(O.status!=="error"||O.error!==U.reason)&&k();break}}return O}updateResult(){const e=j(this,Qn),n=this.createResult(j(this,ot),this.options);if(Te(this,Ao,j(this,ot).state),Te(this,eu,this.options),j(this,Ao).data!==void 0&&Te(this,nu,j(this,ot)),Iy(n,e))return;Te(this,Qn,n);const i=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!j(this,ru).size)return!0;const c=new Set(l??j(this,ru));return this.options.throwOnError&&c.add("error"),Object.keys(j(this,Qn)).some(d=>{const p=d;return j(this,Qn)[p]!==e[p]&&c.has(p)})};at(this,St,UA).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&at(this,St,ky).call(this)}},tr=new WeakMap,ot=new WeakMap,mh=new WeakMap,Qn=new WeakMap,Ao=new WeakMap,eu=new WeakMap,va=new WeakMap,Ni=new WeakMap,gh=new WeakMap,tu=new WeakMap,nu=new WeakMap,Ro=new WeakMap,Co=new WeakMap,_a=new WeakMap,ru=new WeakMap,St=new WeakSet,kc=function(e){at(this,St,Uy).call(this);let n=j(this,ot).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Vr)),n},My=function(){at(this,St,Ly).call(this);const e=Bl(this.options.staleTime,j(this,ot));if(Mo||j(this,Qn).isStale||!Cy(e))return;const i=OA(j(this,Qn).dataUpdatedAt,e)+1;Te(this,Ro,setTimeout(()=>{j(this,Qn).isStale||this.updateResult()},i))},Py=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(j(this,ot)):this.options.refetchInterval)??!1},xy=function(e){at(this,St,Vy).call(this),Te(this,_a,e),!(Mo||Jr(this.options.enabled,j(this,ot))===!1||!Cy(j(this,_a))||j(this,_a)===0)&&Te(this,Co,setInterval(()=>{(this.options.refetchIntervalInBackground||kv.isFocused())&&at(this,St,kc).call(this)},j(this,_a)))},ky=function(){at(this,St,My).call(this),at(this,St,xy).call(this,at(this,St,Py).call(this))},Ly=function(){j(this,Ro)&&(clearTimeout(j(this,Ro)),Te(this,Ro,void 0))},Vy=function(){j(this,Co)&&(clearInterval(j(this,Co)),Te(this,Co,void 0))},Uy=function(){const e=j(this,tr).getQueryCache().build(j(this,tr),this.options);if(e===j(this,ot))return;const n=j(this,ot);Te(this,ot,e),Te(this,mh,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},UA=function(e){In.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(j(this,Qn))}),j(this,tr).getQueryCache().notify({query:j(this,ot),type:"observerResultsUpdated"})})},IA);function lN(t,e){return Jr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function xw(t,e){return lN(t,e)||t.state.data!==void 0&&zy(t,e,e.refetchOnMount)}function zy(t,e,n){if(Jr(e.enabled,t)!==!1){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&Lv(t,e)}return!1}function kw(t,e,n,i){return(t!==e||Jr(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Lv(t,n)}function Lv(t,e){return Jr(e.enabled,t)!==!1&&t.isStaleByTime(Bl(e.staleTime,t))}function uN(t,e){return!Iy(t.getCurrentResult(),e)}var zA=K.createContext(void 0),cN=t=>{const e=K.useContext(zA);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},hN=({client:t,children:e})=>(K.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),Fe.jsx(zA.Provider,{value:t,children:e})),BA=K.createContext(!1),fN=()=>K.useContext(BA);BA.Provider;function dN(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var pN=K.createContext(dN()),mN=()=>K.useContext(pN);function gN(t,e){return typeof t=="function"?t(...e):!!t}function Lw(){}var yN=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},vN=t=>{K.useEffect(()=>{t.clearReset()},[t])},_N=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(a&&t.data===void 0||gN(n,[t.error,i])),EN=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},TN=(t,e)=>t.isLoading&&t.isFetching&&!e,wN=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Vw=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function bN(t,e,n){var _,w,S,R,N;const i=cN(),a=fN(),l=mN(),c=i.defaultQueryOptions(t);(w=(_=i.getDefaultOptions().queries)==null?void 0:_._experimental_beforeQuery)==null||w.call(_,c),c._optimisticResults=a?"isRestoring":"optimistic",EN(c),yN(c,l),vN(l);const d=!i.getQueryCache().get(c.queryHash),[p]=K.useState(()=>new e(i,c)),m=p.getOptimisticResult(c),y=!a&&t.subscribed!==!1;if(K.useSyncExternalStore(K.useCallback(D=>{const B=y?p.subscribe(In.batchCalls(D)):Lw;return p.updateResult(),B},[p,y]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),K.useEffect(()=>{p.setOptions(c)},[c,p]),wN(c,m))throw Vw(c,p,l);if(_N({result:m,errorResetBoundary:l,throwOnError:c.throwOnError,query:i.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw m.error;if((R=(S=i.getDefaultOptions().queries)==null?void 0:S._experimental_afterQuery)==null||R.call(S,c,m),c.experimental_prefetchInRender&&!Mo&&TN(m,a)){const D=d?Vw(c,p,l):(N=i.getQueryCache().get(c.queryHash))==null?void 0:N.promise;D==null||D.catch(Lw).finally(()=>{p.updateResult()})}return c.notifyOnChangeProps?m:p.trackResult(m)}function SN(t,e){return bN(t,oN)}var Oc={},Uw;function AN(){if(Uw)return Oc;Uw=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.parse=c,Oc.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,S){const R=new l,N=w.length;if(N<2)return R;const D=(S==null?void 0:S.decode)||y;let B=0;do{const H=w.indexOf("=",B);if(H===-1)break;const q=w.indexOf(";",B),ie=q===-1?N:q;if(H>ie){B=w.lastIndexOf(";",H-1)+1;continue}const M=d(w,B,H),re=p(w,H,M),O=w.slice(M,re);if(R[O]===void 0){let C=d(w,H+1,ie),I=p(w,ie,C);const k=D(w.slice(C,I));R[O]=k}B=ie+1}while(B<N);return R}function d(w,S,R){do{const N=w.charCodeAt(S);if(N!==32&&N!==9)return S}while(++S<R);return R}function p(w,S,R){for(;S>R;){const N=w.charCodeAt(--S);if(N!==32&&N!==9)return S+1}return R}function m(w,S,R){const N=(R==null?void 0:R.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const D=N(S);if(!e.test(D))throw new TypeError(`argument val is invalid: ${S}`);let B=w+"="+D;if(!R)return B;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);B+="; Max-Age="+R.maxAge}if(R.domain){if(!n.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);B+="; Domain="+R.domain}if(R.path){if(!i.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);B+="; Path="+R.path}if(R.expires){if(!_(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);B+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(B+="; HttpOnly"),R.secure&&(B+="; Secure"),R.partitioned&&(B+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return B}function y(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return a.call(w)==="[object Date]"}return Oc}AN();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jA=t=>{throw TypeError(t)},RN=(t,e,n)=>e.has(t)||jA("Cannot "+n),Qg=(t,e,n)=>(RN(t,e,"read from private field"),n?n.call(t):e.get(t)),CN=(t,e,n)=>e.has(t)?jA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),zw="popstate";function IN(t={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return Wc("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Sa(a)}return ON(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DN(){return Math.random().toString(36).substring(2,10)}function Bw(t,e){return{usr:t.state,key:t.key,idx:e}}function Wc(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Na(e):e,state:n,key:e&&e.key||i||DN()}}function Sa({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function ON(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let D=y(),B=D==null?null:D-m;m=D,p&&p({action:d,location:N.location,delta:B})}function w(D,B){d="PUSH";let H=Wc(N.location,D,B);m=y()+1;let q=Bw(H,m),ie=N.createHref(H);try{c.pushState(q,"",ie)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(ie)}l&&p&&p({action:d,location:N.location,delta:1})}function S(D,B){d="REPLACE";let H=Wc(N.location,D,B);m=y();let q=Bw(H,m),ie=N.createHref(H);c.replaceState(q,"",ie),l&&p&&p({action:d,location:N.location,delta:0})}function R(D){let B=a.location.origin!=="null"?a.location.origin:a.location.href,H=typeof D=="string"?D:Sa(D);return H=H.replace(/ $/,"%20"),rt(B,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,B)}let N={get action(){return d},get location(){return t(a,c)},listen(D){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(zw,_),p=D,()=>{a.removeEventListener(zw,_),p=null}},createHref(D){return e(a,D)},createURL:R,encodeLocation(D){let B=R(D);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:S,go(D){return c.go(D)}};return N}var Lc,jw=class{constructor(t){if(CN(this,Lc,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Qg(this,Lc).has(t))return Qg(this,Lc).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Qg(this,Lc).set(t,e)}};Lc=new WeakMap;var NN=new Set(["lazy","caseSensitive","path","id","index","children"]);function MN(t){return NN.has(t)}var PN=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function xN(t){return PN.has(t)}function kN(t){return t.index===!0}function Dd(t,e,n=[],i={}){return t.map((a,l)=>{let c=[...n,String(l)],d=typeof a.id=="string"?a.id:c.join("-");if(rt(a.index!==!0||!a.children,"Cannot specify children on an index route"),rt(!i[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),kN(a)){let p={...a,...e(a),id:d};return i[d]=p,p}else{let p={...a,...e(a),id:d,children:void 0};return i[d]=p,a.children&&(p.children=Dd(a.children,e,c,i)),p}})}function ua(t,e,n="/"){return ad(t,e,n,!1)}function ad(t,e,n,i){let a=typeof e=="string"?Na(e):e,l=jr(a.pathname||"/",n);if(l==null)return null;let c=FA(t);VN(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=QN(l);d=$N(c[p],m,i)}return d}function LN(t,e){let{route:n,pathname:i,params:a}=t;return{id:n.id,pathname:i,params:a,data:e[n.id],handle:n.handle}}function FA(t,e=[],n=[],i=""){let a=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=Pi([i,p.relativePath]),y=n.concat(p);l.children&&l.children.length>0&&(rt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),FA(l.children,e,y,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:HN(m,l.index),routesMeta:y})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let p of qA(l.path))a(l,c,p)}),e}function qA(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=qA(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>t.startsWith("/")&&p===""?"/":p)}function VN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GN(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var UN=/^:[\w-]+$/,zN=3,BN=2,jN=1,FN=10,qN=-2,Fw=t=>t==="*";function HN(t,e){let n=t.split("/"),i=n.length;return n.some(Fw)&&(i+=qN),e&&(i+=BN),n.filter(a=>!Fw(a)).reduce((a,l)=>a+(UN.test(l)?zN:l===""?jN:FN),i)}function GN(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function $N(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],m=d===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Od({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),w=p.route;if(!_&&m&&n&&!i[i.length-1].route.index&&(_=Od({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Pi([l,_.pathname]),pathnameBase:WN(Pi([l,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(l=Pi([l,_.pathnameBase]))}return c}function Od(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=KN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:_},w)=>{if(y==="*"){let R=d[w]||"";c=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const S=d[w];return _&&!S?m[y]=void 0:m[y]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function KN(t,e=!1,n=!0){rn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function QN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function jr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function YN(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Na(t):t;return{pathname:n?n.startsWith("/")?n:XN(n,e):e,search:JN(i),hash:ZN(a)}}function XN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Yg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vv(t){let e=HA(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Uv(t,e,n,i=!1){let a;typeof t=="string"?a=Na(t):(a={...t},rt(!a.pathname||!a.pathname.includes("?"),Yg("?","pathname","search",a)),rt(!a.pathname||!a.pathname.includes("#"),Yg("#","pathname","hash",a)),rt(!a.search||!a.search.includes("#"),Yg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),_-=1;a.pathname=w.join("/")}d=_>=0?e[_]:"/"}let p=YN(a,d),m=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var Pi=t=>t.join("/").replace(/\/\/+/g,"/"),WN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Nd=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Jc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var GA=["POST","PUT","PATCH","DELETE"],eM=new Set(GA),tM=["GET",...GA],nM=new Set(tM),rM=new Set([301,302,303,307,308]),iM=new Set([307,308]),Xg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Nc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},zv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aM=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),$A="remix-router-transitions",KA=Symbol("ResetLoaderData");function oM(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";rt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=t.mapRouteProperties||aM,a={},l=Dd(t.routes,i,void 0,a),c,d=t.basename||"/",p=t.dataStrategy||dM,m={unstable_middleware:!1,...t.future},y=null,_=new Set,w=null,S=null,R=null,N=t.hydrationData!=null,D=ua(l,t.history.location,d),B=!1,H=null;if(D==null&&!t.patchRoutesOnNavigation){let V=Ur(404,{pathname:t.history.location.pathname}),{matches:$,route:Z}=nb(l);D=$,H={[Z.id]:V}}D&&!t.hydrationData&&ci(D,l,t.history.location.pathname).active&&(D=null);let q;if(D)if(D.some(V=>V.route.lazy))q=!1;else if(!D.some(V=>V.route.loader))q=!0;else{let V=t.hydrationData?t.hydrationData.loaderData:null,$=t.hydrationData?t.hydrationData.errors:null;if($){let Z=D.findIndex(ae=>$[ae.route.id]!==void 0);q=D.slice(0,Z+1).every(ae=>!jy(ae.route,V,$))}else q=D.every(Z=>!jy(Z.route,V,$))}else{q=!1,D=[];let V=ci(null,l,t.history.location.pathname);V.active&&V.matches&&(B=!0,D=V.matches)}let ie,M={historyAction:t.history.action,location:t.history.location,matches:D,initialized:q,navigation:Xg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||H,fetchers:new Map,blockers:new Map},re="POP",O=!1,C,I=!1,k=new Map,U=null,F=!1,x=!1,Ut=new Set,He=new Map,ne=0,me=-1,we=new Map,Pe=new Set,L=new Map,le=new Map,de=new Set,fe=new Map,Se,xe=null;function Ne(){if(y=t.history.listen(({action:V,location:$,delta:Z})=>{if(Se){Se(),Se=void 0;return}rn(fe.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ae=ui({currentLocation:M.location,nextLocation:$,historyAction:V});if(ae&&Z!=null){let pe=new Promise(ve=>{Se=ve});t.history.go(Z*-1),qr(ae,{state:"blocked",location:$,proceed(){qr(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),pe.then(()=>t.history.go(Z))},reset(){let ve=new Map(M.blockers);ve.set(ae,Nc),ut({blockers:ve})}});return}return Bn(V,$)}),n){AM(e,k);let V=()=>RM(e,k);e.addEventListener("pagehide",V),U=()=>e.removeEventListener("pagehide",V)}return M.initialized||Bn("POP",M.location,{initialHydration:!0}),ie}function kt(){y&&y(),U&&U(),_.clear(),C&&C.abort(),M.fetchers.forEach((V,$)=>wn($)),M.blockers.forEach((V,$)=>Wn($))}function lt(V){return _.add(V),()=>_.delete(V)}function ut(V,$={}){M={...M,...V};let Z=[],ae=[];M.fetchers.forEach((pe,ve)=>{pe.state==="idle"&&(de.has(ve)?Z.push(ve):ae.push(ve))}),de.forEach(pe=>{!M.fetchers.has(pe)&&!He.has(pe)&&Z.push(pe)}),[..._].forEach(pe=>pe(M,{deletedFetchers:Z,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),Z.forEach(pe=>wn(pe)),ae.forEach(pe=>M.fetchers.delete(pe))}function an(V,$,{flushSync:Z}={}){var ye,Ce;let ae=M.actionData!=null&&M.navigation.formMethod!=null&&Wr(M.navigation.formMethod)&&M.navigation.state==="loading"&&((ye=V.state)==null?void 0:ye._isRedirect)!==!0,pe;$.actionData?Object.keys($.actionData).length>0?pe=$.actionData:pe=null:ae?pe=M.actionData:pe=null;let ve=$.loaderData?eb(M.loaderData,$.loaderData,$.matches||[],$.errors):M.loaderData,Ae=M.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach((Oe,$e)=>Ae.set($e,Nc)));let Re=O===!0||M.navigation.formMethod!=null&&Wr(M.navigation.formMethod)&&((Ce=V.state)==null?void 0:Ce._isRedirect)!==!0;c&&(l=c,c=void 0),F||re==="POP"||(re==="PUSH"?t.history.push(V,V.state):re==="REPLACE"&&t.history.replace(V,V.state));let Ie;if(re==="POP"){let Oe=k.get(M.location.pathname);Oe&&Oe.has(V.pathname)?Ie={currentLocation:M.location,nextLocation:V}:k.has(V.pathname)&&(Ie={currentLocation:V,nextLocation:M.location})}else if(I){let Oe=k.get(M.location.pathname);Oe?Oe.add(V.pathname):(Oe=new Set([V.pathname]),k.set(M.location.pathname,Oe)),Ie={currentLocation:M.location,nextLocation:V}}ut({...$,actionData:pe,loaderData:ve,historyAction:re,location:V,initialized:!0,navigation:Xg,revalidation:"idle",restoreScrollPosition:Tr(V,$.matches||M.matches),preventScrollReset:Re,blockers:Ae},{viewTransitionOpts:Ie,flushSync:Z===!0}),re="POP",O=!1,I=!1,F=!1,x=!1,xe==null||xe.resolve(),xe=null}async function Tn(V,$){if(typeof V=="number"){t.history.go(V);return}let Z=By(M.location,M.matches,d,V,$==null?void 0:$.fromRouteId,$==null?void 0:$.relative),{path:ae,submission:pe,error:ve}=qw(!1,Z,$),Ae=M.location,Re=Wc(M.location,ae,$&&$.state);Re={...Re,...t.history.encodeLocation(Re)};let Ie=$&&$.replace!=null?$.replace:void 0,ye="PUSH";Ie===!0?ye="REPLACE":Ie===!1||pe!=null&&Wr(pe.formMethod)&&pe.formAction===M.location.pathname+M.location.search&&(ye="REPLACE");let Ce=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,Oe=($&&$.flushSync)===!0,$e=ui({currentLocation:Ae,nextLocation:Re,historyAction:ye});if($e){qr($e,{state:"blocked",location:Re,proceed(){qr($e,{state:"proceeding",proceed:void 0,reset:void 0,location:Re}),Tn(V,$)},reset(){let yt=new Map(M.blockers);yt.set($e,Nc),ut({blockers:yt})}});return}await Bn(ye,Re,{submission:pe,pendingError:ve,preventScrollReset:Ce,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:Oe})}function fn(){xe||(xe=CM()),$i(),ut({revalidation:"loading"});let V=xe.promise;return M.navigation.state==="submitting"?V:M.navigation.state==="idle"?(Bn(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),V):(Bn(re||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:I===!0}),V)}async function Bn(V,$,Z){C&&C.abort(),C=null,re=V,F=(Z&&Z.startUninterruptedRevalidation)===!0,Hr(M.location,M.matches),O=(Z&&Z.preventScrollReset)===!0,I=(Z&&Z.enableViewTransition)===!0;let ae=c||l,pe=Z&&Z.overrideNavigation,ve=Z!=null&&Z.initialHydration&&M.matches&&M.matches.length>0&&!B?M.matches:ua(ae,$,d),Ae=(Z&&Z.flushSync)===!0;if(ve&&M.initialized&&!x&&EM(M.location,$)&&!(Z&&Z.submission&&Wr(Z.submission.formMethod))){an($,{matches:ve},{flushSync:Ae});return}let Re=ci(ve,ae,$.pathname);if(Re.active&&Re.matches&&(ve=Re.matches),!ve){let{error:_t,notFoundMatches:Je,route:Ke}=Qi($.pathname);an($,{matches:Je,loaderData:{},errors:{[Ke.id]:_t}},{flushSync:Ae});return}C=new AbortController;let Ie=Pl(t.history,$,C.signal,Z&&Z.submission),ye=new jw(t.unstable_getContext?await t.unstable_getContext():void 0),Ce;if(Z&&Z.pendingError)Ce=[fo(ve).route.id,{type:"error",error:Z.pendingError}];else if(Z&&Z.submission&&Wr(Z.submission.formMethod)){let _t=await qi(Ie,$,Z.submission,ve,ye,Re.active,{replace:Z.replace,flushSync:Ae});if(_t.shortCircuited)return;if(_t.pendingActionResult){let[Je,Ke]=_t.pendingActionResult;if(_r(Ke)&&Jc(Ke.error)&&Ke.error.status===404){C=null,an($,{matches:_t.matches,loaderData:{},errors:{[Je]:Ke.error}});return}}ve=_t.matches||ve,Ce=_t.pendingActionResult,pe=Wg($,Z.submission),Ae=!1,Re.active=!1,Ie=Pl(t.history,Ie.url,Ie.signal)}let{shortCircuited:Oe,matches:$e,loaderData:yt,errors:Mt}=await Pa(Ie,$,ve,ye,Re.active,pe,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,Ae,Ce);Oe||(C=null,an($,{matches:$e||ve,...tb(Ce),loaderData:yt,errors:Mt}))}async function qi(V,$,Z,ae,pe,ve,Ae={}){$i();let Re=bM($,Z);if(ut({navigation:Re},{flushSync:Ae.flushSync===!0}),ve){let Ce=await Fn(ae,$.pathname,V.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){let Oe=fo(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,pendingActionResult:[Oe,{type:"error",error:Ce.error}]}}else if(Ce.matches)ae=Ce.matches;else{let{notFoundMatches:Oe,error:$e,route:yt}=Qi($.pathname);return{matches:Oe,pendingActionResult:[yt.id,{type:"error",error:$e}]}}}let Ie,ye=Vc(ae,$);if(!ye.route.action&&!ye.route.lazy)Ie={type:"error",error:Ur(405,{method:V.method,pathname:$.pathname,routeId:ye.route.id})};else{let Ce=await Hi("action",V,[ye],ae,pe,null);if(Ie=Ce[ye.route.id],!Ie){for(let Oe of ae)if(Ce[Oe.route.id]){Ie=Ce[Oe.route.id];break}}if(V.signal.aborted)return{shortCircuited:!0}}if(po(Ie)){let Ce;return Ae&&Ae.replace!=null?Ce=Ae.replace:Ce=Ww(Ie.response.headers.get("Location"),new URL(V.url),d)===M.location.pathname+M.location.search,await jn(V,Ie,!0,{submission:Z,replace:Ce}),{shortCircuited:!0}}if(_r(Ie)){let Ce=fo(ae,ye.route.id);return(Ae&&Ae.replace)!==!0&&(re="PUSH"),{matches:ae,pendingActionResult:[Ce.route.id,Ie]}}return{matches:ae,pendingActionResult:[ye.route.id,Ie]}}async function Pa(V,$,Z,ae,pe,ve,Ae,Re,Ie,ye,Ce,Oe){let $e=ve||Wg($,Ae),yt=Ae||Re||ib($e),Mt=!F&&!ye;if(pe){if(Mt){let ct=xa(Oe);ut({navigation:$e,...ct!==void 0?{actionData:ct}:{}},{flushSync:Ce})}let et=await Fn(Z,$.pathname,V.signal);if(et.type==="aborted")return{shortCircuited:!0};if(et.type==="error"){let ct=fo(et.partialMatches).route.id;return{matches:et.partialMatches,loaderData:{},errors:{[ct]:et.error}}}else if(et.matches)Z=et.matches;else{let{error:ct,notFoundMatches:Sr,route:di}=Qi($.pathname);return{matches:Sr,loaderData:{},errors:{[di.id]:ct}}}}let _t=c||l,[Je,Ke]=Gw(t.history,M,Z,yt,$,ye===!0,x,Ut,de,L,Pe,_t,d,Oe);if(me=++ne,Je.length===0&&Ke.length===0){let et=oi();return an($,{matches:Z,loaderData:{},errors:Oe&&_r(Oe[1])?{[Oe[0]]:Oe[1].error}:null,...tb(Oe),...et?{fetchers:new Map(M.fetchers)}:{}},{flushSync:Ce}),{shortCircuited:!0}}if(Mt){let et={};if(!pe){et.navigation=$e;let ct=xa(Oe);ct!==void 0&&(et.actionData=ct)}Ke.length>0&&(et.fetchers=Xn(Ke)),ut(et,{flushSync:Ce})}Ke.forEach(et=>{or(et.key),et.controller&&He.set(et.key,et.controller)});let wr=()=>Ke.forEach(et=>or(et.key));C&&C.signal.addEventListener("abort",wr);let{loaderResults:br,fetcherResults:Gt}=await Gi(Z,Je,Ke,V,ae);if(V.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",wr),Ke.forEach(et=>He.delete(et.key));let Xt=Xf(br);if(Xt)return await jn(V,Xt.result,!0,{replace:Ie}),{shortCircuited:!0};if(Xt=Xf(Gt),Xt)return Pe.add(Xt.key),await jn(V,Xt.result,!0,{replace:Ie}),{shortCircuited:!0};let{loaderData:ks,errors:fi}=Zw(M,Z,br,Oe,Ke,Gt);ye&&M.errors&&(fi={...M.errors,...fi});let qn=oi(),Yi=li(me),lr=qn||Yi||Ke.length>0;return{matches:Z,loaderData:ks,errors:fi,...lr?{fetchers:new Map(M.fetchers)}:{}}}function xa(V){if(V&&!_r(V[1]))return{[V[0]]:V[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function Xn(V){return V.forEach($=>{let Z=M.fetchers.get($.key),ae=Mc(void 0,Z?Z.data:void 0);M.fetchers.set($.key,ae)}),new Map(M.fetchers)}async function Ou(V,$,Z,ae){or(V);let pe=(ae&&ae.flushSync)===!0,ve=c||l,Ae=By(M.location,M.matches,d,Z,$,ae==null?void 0:ae.relative),Re=ua(ve,Ae,d),Ie=ci(Re,ve,Ae);if(Ie.active&&Ie.matches&&(Re=Ie.matches),!Re){mt(V,$,Ur(404,{pathname:Ae}),{flushSync:pe});return}let{path:ye,submission:Ce,error:Oe}=qw(!0,Ae,ae);if(Oe){mt(V,$,Oe,{flushSync:pe});return}let $e=Vc(Re,ye),yt=new jw(t.unstable_getContext?await t.unstable_getContext():void 0),Mt=(ae&&ae.preventScrollReset)===!0;if(Ce&&Wr(Ce.formMethod)){await ka(V,$,ye,$e,Re,yt,Ie.active,pe,Mt,Ce);return}L.set(V,{routeId:$,path:ye}),await Ps(V,$,ye,$e,Re,yt,Ie.active,pe,Mt,Ce)}async function ka(V,$,Z,ae,pe,ve,Ae,Re,Ie,ye){$i(),L.delete(V);function Ce(Tt){if(!Tt.route.action&&!Tt.route.lazy){let ur=Ur(405,{method:ye.formMethod,pathname:Z,routeId:$});return mt(V,$,ur,{flushSync:Re}),!0}return!1}if(!Ae&&Ce(ae))return;let Oe=M.fetchers.get(V);ar(V,SM(ye,Oe),{flushSync:Re});let $e=new AbortController,yt=Pl(t.history,Z,$e.signal,ye);if(Ae){let Tt=await Fn(pe,Z,yt.signal,V);if(Tt.type==="aborted")return;if(Tt.type==="error"){mt(V,$,Tt.error,{flushSync:Re});return}else if(Tt.matches){if(pe=Tt.matches,ae=Vc(pe,Z),Ce(ae))return}else{mt(V,$,Ur(404,{pathname:Z}),{flushSync:Re});return}}He.set(V,$e);let Mt=ne,Je=(await Hi("action",yt,[ae],pe,ve,V))[ae.route.id];if(yt.signal.aborted){He.get(V)===$e&&He.delete(V);return}if(de.has(V)){if(po(Je)||_r(Je)){ar(V,oa(void 0));return}}else{if(po(Je))if(He.delete(V),me>Mt){ar(V,oa(void 0));return}else return Pe.add(V),ar(V,Mc(ye)),jn(yt,Je,!1,{fetcherSubmission:ye,preventScrollReset:Ie});if(_r(Je)){mt(V,$,Je.error);return}}let Ke=M.navigation.location||M.location,wr=Pl(t.history,Ke,$e.signal),br=c||l,Gt=M.navigation.state!=="idle"?ua(br,M.navigation.location,d):M.matches;rt(Gt,"Didn't find any matches after fetcher action");let Xt=++ne;we.set(V,Xt);let ks=Mc(ye,Je.data);M.fetchers.set(V,ks);let[fi,qn]=Gw(t.history,M,Gt,ye,Ke,!1,x,Ut,de,L,Pe,br,d,[ae.route.id,Je]);qn.filter(Tt=>Tt.key!==V).forEach(Tt=>{let ur=Tt.key,Xi=M.fetchers.get(ur),Ua=Mc(void 0,Xi?Xi.data:void 0);M.fetchers.set(ur,Ua),or(ur),Tt.controller&&He.set(ur,Tt.controller)}),ut({fetchers:new Map(M.fetchers)});let Yi=()=>qn.forEach(Tt=>or(Tt.key));$e.signal.addEventListener("abort",Yi);let{loaderResults:lr,fetcherResults:et}=await Gi(Gt,fi,qn,wr,ve);if($e.signal.aborted)return;$e.signal.removeEventListener("abort",Yi),we.delete(V),He.delete(V),qn.forEach(Tt=>He.delete(Tt.key));let ct=Xf(lr);if(ct)return jn(wr,ct.result,!1,{preventScrollReset:Ie});if(ct=Xf(et),ct)return Pe.add(ct.key),jn(wr,ct.result,!1,{preventScrollReset:Ie});let{loaderData:Sr,errors:di}=Zw(M,Gt,lr,void 0,qn,et);if(M.fetchers.has(V)){let Tt=oa(Je.data);M.fetchers.set(V,Tt)}li(Xt),M.navigation.state==="loading"&&Xt>me?(rt(re,"Expected pending action"),C&&C.abort(),an(M.navigation.location,{matches:Gt,loaderData:Sr,errors:di,fetchers:new Map(M.fetchers)})):(ut({errors:di,loaderData:eb(M.loaderData,Sr,Gt,di),fetchers:new Map(M.fetchers)}),x=!1)}async function Ps(V,$,Z,ae,pe,ve,Ae,Re,Ie,ye){let Ce=M.fetchers.get(V);ar(V,Mc(ye,Ce?Ce.data:void 0),{flushSync:Re});let Oe=new AbortController,$e=Pl(t.history,Z,Oe.signal);if(Ae){let Je=await Fn(pe,Z,$e.signal,V);if(Je.type==="aborted")return;if(Je.type==="error"){mt(V,$,Je.error,{flushSync:Re});return}else if(Je.matches)pe=Je.matches,ae=Vc(pe,Z);else{mt(V,$,Ur(404,{pathname:Z}),{flushSync:Re});return}}He.set(V,Oe);let yt=ne,_t=(await Hi("loader",$e,[ae],pe,ve,V))[ae.route.id];if(He.get(V)===Oe&&He.delete(V),!$e.signal.aborted){if(de.has(V)){ar(V,oa(void 0));return}if(po(_t))if(me>yt){ar(V,oa(void 0));return}else{Pe.add(V),await jn($e,_t,!1,{preventScrollReset:Ie});return}if(_r(_t)){mt(V,$,_t.error);return}ar(V,oa(_t.data))}}async function jn(V,$,Z,{submission:ae,fetcherSubmission:pe,preventScrollReset:ve,replace:Ae}={}){$.response.headers.has("X-Remix-Revalidate")&&(x=!0);let Re=$.response.headers.get("Location");rt(Re,"Expected a Location header on the redirect Response"),Re=Ww(Re,new URL(V.url),d);let Ie=Wc(M.location,Re,{_isRedirect:!0});if(n){let Mt=!1;if($.response.headers.has("X-Remix-Reload-Document"))Mt=!0;else if(zv.test(Re)){const _t=t.history.createURL(Re);Mt=_t.origin!==e.location.origin||jr(_t.pathname,d)==null}if(Mt){Ae?e.location.replace(Re):e.location.assign(Re);return}}C=null;let ye=Ae===!0||$.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ce,formAction:Oe,formEncType:$e}=M.navigation;!ae&&!pe&&Ce&&Oe&&$e&&(ae=ib(M.navigation));let yt=ae||pe;if(iM.has($.response.status)&&yt&&Wr(yt.formMethod))await Bn(ye,Ie,{submission:{...yt,formAction:Re},preventScrollReset:ve||O,enableViewTransition:Z?I:void 0});else{let Mt=Wg(Ie,ae);await Bn(ye,Ie,{overrideNavigation:Mt,fetcherSubmission:pe,preventScrollReset:ve||O,enableViewTransition:Z?I:void 0})}}async function Hi(V,$,Z,ae,pe,ve){let Ae,Re={};try{Ae=await mM(p,V,$,Z,ae,ve,a,i,pe)}catch(Ie){return Z.forEach(ye=>{Re[ye.route.id]={type:"error",error:Ie}}),Re}for(let[Ie,ye]of Object.entries(Ae))if(TM(ye)){let Ce=ye.result;Re[Ie]={type:"redirect",response:vM(Ce,$,Ie,ae,d)}}else Re[Ie]=await yM(ye);return Re}async function Gi(V,$,Z,ae,pe){let ve=Hi("loader",ae,$,V,pe,null),Ae=Promise.all(Z.map(async ye=>{if(ye.matches&&ye.match&&ye.controller){let Oe=(await Hi("loader",Pl(t.history,ye.path,ye.controller.signal),[ye.match],ye.matches,pe,ye.key))[ye.match.route.id];return{[ye.key]:Oe}}else return Promise.resolve({[ye.key]:{type:"error",error:Ur(404,{pathname:ye.path})}})})),Re=await ve,Ie=(await Ae).reduce((ye,Ce)=>Object.assign(ye,Ce),{});return{loaderResults:Re,fetcherResults:Ie}}function $i(){x=!0,L.forEach((V,$)=>{He.has($)&&Ut.add($),or($)})}function ar(V,$,Z={}){M.fetchers.set(V,$),ut({fetchers:new Map(M.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function mt(V,$,Z,ae={}){let pe=fo(M.matches,$);wn(V),ut({errors:{[pe.route.id]:Z},fetchers:new Map(M.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function gt(V){return le.set(V,(le.get(V)||0)+1),de.has(V)&&de.delete(V),M.fetchers.get(V)||sM}function wn(V){let $=M.fetchers.get(V);He.has(V)&&!($&&$.state==="loading"&&we.has(V))&&or(V),L.delete(V),we.delete(V),Pe.delete(V),de.delete(V),Ut.delete(V),M.fetchers.delete(V)}function dn(V){let $=(le.get(V)||0)-1;$<=0?(le.delete(V),de.add(V)):le.set(V,$),ut({fetchers:new Map(M.fetchers)})}function or(V){let $=He.get(V);$&&($.abort(),He.delete(V))}function Ko(V){for(let $ of V){let Z=gt($),ae=oa(Z.data);M.fetchers.set($,ae)}}function oi(){let V=[],$=!1;for(let Z of Pe){let ae=M.fetchers.get(Z);rt(ae,`Expected fetcher: ${Z}`),ae.state==="loading"&&(Pe.delete(Z),V.push(Z),$=!0)}return Ko(V),$}function li(V){let $=[];for(let[Z,ae]of we)if(ae<V){let pe=M.fetchers.get(Z);rt(pe,`Expected fetcher: ${Z}`),pe.state==="loading"&&(or(Z),we.delete(Z),$.push(Z))}return Ko($),$.length>0}function Ki(V,$){let Z=M.blockers.get(V)||Nc;return fe.get(V)!==$&&fe.set(V,$),Z}function Wn(V){M.blockers.delete(V),fe.delete(V)}function qr(V,$){let Z=M.blockers.get(V)||Nc;rt(Z.state==="unblocked"&&$.state==="blocked"||Z.state==="blocked"&&$.state==="blocked"||Z.state==="blocked"&&$.state==="proceeding"||Z.state==="blocked"&&$.state==="unblocked"||Z.state==="proceeding"&&$.state==="unblocked",`Invalid blocker state transition: ${Z.state} -> ${$.state}`);let ae=new Map(M.blockers);ae.set(V,$),ut({blockers:ae})}function ui({currentLocation:V,nextLocation:$,historyAction:Z}){if(fe.size===0)return;fe.size>1&&rn(!1,"A router only supports one blocker at a time");let ae=Array.from(fe.entries()),[pe,ve]=ae[ae.length-1],Ae=M.blockers.get(pe);if(!(Ae&&Ae.state==="proceeding")&&ve({currentLocation:V,nextLocation:$,historyAction:Z}))return pe}function Qi(V){let $=Ur(404,{pathname:V}),Z=c||l,{matches:ae,route:pe}=nb(Z);return{notFoundMatches:ae,route:pe,error:$}}function La(V,$,Z){if(w=V,R=$,S=Z||null,!N&&M.navigation===Xg){N=!0;let ae=Tr(M.location,M.matches);ae!=null&&ut({restoreScrollPosition:ae})}return()=>{w=null,R=null,S=null}}function xs(V,$){return S&&S(V,$.map(ae=>LN(ae,M.loaderData)))||V.key}function Hr(V,$){if(w&&R){let Z=xs(V,$);w[Z]=R()}}function Tr(V,$){if(w){let Z=xs(V,$),ae=w[Z];if(typeof ae=="number")return ae}return null}function ci(V,$,Z){if(t.patchRoutesOnNavigation)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:ad($,Z,d,!0)}}else return{active:!0,matches:ad($,Z,d,!0)||[]};return{active:!1,matches:null}}async function Fn(V,$,Z,ae){if(!t.patchRoutesOnNavigation)return{type:"success",matches:V};let pe=V;for(;;){let ve=c==null,Ae=c||l,Re=a;try{await t.patchRoutesOnNavigation({signal:Z,path:$,matches:pe,fetcherKey:ae,patch:(Ce,Oe)=>{Z.aborted||Kw(Ce,Oe,Ae,Re,i)}})}catch(Ce){return{type:"error",error:Ce,partialMatches:pe}}finally{ve&&!Z.aborted&&(l=[...l])}if(Z.aborted)return{type:"aborted"};let Ie=ua(Ae,$,d);if(Ie)return{type:"success",matches:Ie};let ye=ad(Ae,$,d,!0);if(!ye||pe.length===ye.length&&pe.every((Ce,Oe)=>Ce.route.id===ye[Oe].route.id))return{type:"success",matches:null};pe=ye}}function Va(V){a={},c=Dd(V,i,void 0,a)}function hi(V,$){let Z=c==null;Kw(V,$,c||l,a,i),Z&&(l=[...l],ut({}))}return ie={get basename(){return d},get future(){return m},get state(){return M},get routes(){return l},get window(){return e},initialize:Ne,subscribe:lt,enableScrollRestoration:La,navigate:Tn,fetch:Ou,revalidate:fn,createHref:V=>t.history.createHref(V),encodeLocation:V=>t.history.encodeLocation(V),getFetcher:gt,deleteFetcher:dn,dispose:kt,getBlocker:Ki,deleteBlocker:Wn,patchRoutes:hi,_internalFetchControllers:He,_internalSetRoutes:Va},ie}function lM(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function By(t,e,n,i,a,l){let c,d;if(a){c=[];for(let m of e)if(c.push(m),m.route.id===a){d=m;break}}else c=e,d=e[e.length-1];let p=Uv(i||".",Vv(c),jr(t.pathname,n)||t.pathname,l==="path");if(i==null&&(p.search=t.search,p.hash=t.hash),(i==null||i===""||i===".")&&d){let m=Bv(p.search);if(d.route.index&&!m)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let y=new URLSearchParams(p.search),_=y.getAll("index");y.delete("index"),_.filter(S=>S).forEach(S=>y.append("index",S));let w=y.toString();p.search=w?`?${w}`:""}}return n!=="/"&&(p.pathname=p.pathname==="/"?n:Pi([n,p.pathname])),Sa(p)}function qw(t,e,n){if(!n||!lM(n))return{path:e};if(n.formMethod&&!wM(n.formMethod))return{path:e,error:Ur(405,{method:n.formMethod})};let i=()=>({path:e,error:Ur(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),c=JA(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Wr(l))return i();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((w,[S,R])=>`${w}${S}=${R}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!Wr(l))return i();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return i()}}}rt(typeof FormData=="function","FormData is not available in this environment");let d,p;if(n.formData)d=Fy(n.formData),p=n.formData;else if(n.body instanceof FormData)d=Fy(n.body),p=n.body;else if(n.body instanceof URLSearchParams)d=n.body,p=Jw(d);else if(n.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(n.body),p=Jw(d)}catch{return i()}let m={formMethod:l,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Wr(m.formMethod))return{path:e,submission:m};let y=Na(e);return t&&y.search&&Bv(y.search)&&d.append("index",""),y.search=`?${d}`,{path:Sa(y),submission:m}}function Hw(t,e,n=!1){let i=t.findIndex(a=>a.route.id===e);return i>=0?t.slice(0,n?i+1:i):t}function Gw(t,e,n,i,a,l,c,d,p,m,y,_,w,S){let R=S?_r(S[1])?S[1].error:S[1].data:void 0,N=t.createURL(e.location),D=t.createURL(a),B=n;l&&e.errors?B=Hw(n,Object.keys(e.errors)[0],!0):S&&_r(S[1])&&(B=Hw(n,S[0]));let H=S?S[1].statusCode:void 0,q=H&&H>=400,ie=B.filter((re,O)=>{let{route:C}=re;if(C.lazy)return!0;if(C.loader==null)return!1;if(l)return jy(C,e.loaderData,e.errors);if(uM(e.loaderData,e.matches[O],re))return!0;let I=e.matches[O],k=re;return $w(re,{currentUrl:N,currentParams:I.params,nextUrl:D,nextParams:k.params,...i,actionResult:R,actionStatus:H,defaultShouldRevalidate:q?!1:c||N.pathname+N.search===D.pathname+D.search||N.search!==D.search||cM(I,k)})}),M=[];return m.forEach((re,O)=>{if(l||!n.some(F=>F.route.id===re.routeId)||p.has(O))return;let C=ua(_,re.path,w);if(!C){M.push({key:O,routeId:re.routeId,path:re.path,matches:null,match:null,controller:null});return}let I=e.fetchers.get(O),k=Vc(C,re.path),U=!1;y.has(O)?U=!1:d.has(O)?(d.delete(O),U=!0):I&&I.state!=="idle"&&I.data===void 0?U=c:U=$w(k,{currentUrl:N,currentParams:e.matches[e.matches.length-1].params,nextUrl:D,nextParams:n[n.length-1].params,...i,actionResult:R,actionStatus:H,defaultShouldRevalidate:q?!1:c}),U&&M.push({key:O,routeId:re.routeId,path:re.path,matches:C,match:k,controller:new AbortController})}),[ie,M]}function jy(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let i=e!=null&&e[t.id]!==void 0,a=n!=null&&n[t.id]!==void 0;return!i&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!a}function uM(t,e,n){let i=!e||n.route.id!==e.route.id,a=!t.hasOwnProperty(n.route.id);return i||a}function cM(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function $w(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Kw(t,e,n,i,a){let l;if(t){let p=i[t];rt(p,`No route found to patch children into: routeId = ${t}`),p.children||(p.children=[]),l=p.children}else l=n;let c=e.filter(p=>!l.some(m=>QA(p,m))),d=Dd(c,a,[t||"_","patch",String((l==null?void 0:l.length)||"0")],i);l.push(...d)}function QA(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>{var a;return(a=e.children)==null?void 0:a.some(l=>QA(n,l))}):!1}var Qw=new WeakMap,YA=({key:t,route:e,manifest:n,mapRouteProperties:i})=>{let a=n[e.id];if(rt(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let l=a.lazy[t];if(!l)return;let c=Qw.get(a);c||(c={},Qw.set(a,c));let d=c[t];if(d)return d;let p=(async()=>{let m=MN(t),_=a[t]!==void 0&&t!=="hasErrorBoundary";if(m)rn(!m,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),c[t]=Promise.resolve();else if(_)rn(!1,`Route "${a.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let w=await l();w!=null&&(Object.assign(a,{[t]:w}),Object.assign(a,i(a)))}typeof a.lazy=="object"&&(a.lazy[t]=void 0,Object.values(a.lazy).every(w=>w===void 0)&&(a.lazy=void 0))})();return c[t]=p,p},Yw=new WeakMap;function hM(t,e,n,i){let a=n[t.id];if(rt(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let m=Yw.get(a);if(m)return{lazyRoutePromise:m,lazyHandlerPromise:m};let y=(async()=>{rt(typeof t.lazy=="function","No lazy route function found");let _=await t.lazy(),w={};for(let S in _){let R=_[S];if(R===void 0)continue;let N=xN(S),B=a[S]!==void 0&&S!=="hasErrorBoundary";N?rn(!N,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):B?rn(!B,`Route "${a.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):w[S]=R}Object.assign(a,w),Object.assign(a,{...i(a),lazy:void 0})})();return Yw.set(a,y),{lazyRoutePromise:y,lazyHandlerPromise:y}}let l=Object.keys(t.lazy),c=[],d;for(let m of l){let y=YA({key:m,route:t,manifest:n,mapRouteProperties:i});y&&(c.push(y),m===e&&(d=y))}return{lazyRoutePromise:Promise.all(c).then(()=>{}),lazyHandlerPromise:d}}function XA(t){return t!==void 0}function fM(t,e,n){let i=t.map(({route:a})=>{if(!(typeof a.lazy!="object"||!a.lazy.unstable_middleware))return YA({key:"unstable_middleware",route:a,manifest:e,mapRouteProperties:n})}).filter(XA);return i.length>0?Promise.all(i):void 0}async function Xw(t){let e=t.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,l)=>{n[e[l].route.id]=a}),n}async function dM(t){return t.matches.some(e=>e.route.unstable_middleware)?pM(t,!1,()=>Xw(t),(e,n)=>({[n]:{type:"error",result:e}})):Xw(t)}async function pM(t,e,n,i){let{matches:a,request:l,params:c,context:d}=t,p={handlerResult:void 0};try{let m=a.flatMap(_=>_.route.unstable_middleware?_.route.unstable_middleware.map(w=>[_.route.id,w]):[]),y=await WA({request:l,params:c,context:d},m,e,p,n);return e?y:p.handlerResult}catch(m){if(!p.middlewareError)throw m;let y=await i(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,y):y}}async function WA(t,e,n,i,a,l=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let d=e[l];if(!d)return i.handlerResult=await a(),i.handlerResult;let[p,m]=d,y=!1,_,w=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await WA(t,e,n,i,a,l+1)};try{let S=await m({request:t.request,params:t.params,context:t.context},w);return y?S===void 0?_:S:w()}catch(S){throw i.middlewareError?i.middlewareError.error!==S&&(i.middlewareError={routeId:p,error:S}):i.middlewareError={routeId:p,error:S},S}}async function mM(t,e,n,i,a,l,c,d,p){let m=fM(a,c,d),y=a.map(R=>hM(R.route,e,c,d));m&&await m;let _=a.map((R,N)=>{let{lazyRoutePromise:D,lazyHandlerPromise:B}=y[N],H=i.some(ie=>ie.route.id===R.route.id);return{...R,shouldLoad:H,resolve:async ie=>(ie&&n.method==="GET"&&(R.route.lazy||R.route.loader)&&(H=!0),H?gM({type:e,request:n,match:R,lazyHandlerPromise:B,lazyRoutePromise:D,handlerOverride:ie,scopedContext:p}):Promise.resolve({type:"data",result:void 0}))}}),w=await t({matches:_,request:n,params:a[0].params,fetcherKey:l,context:p}),S=y.flatMap(R=>Object.values(R).filter(XA));try{await Promise.all(S)}catch{}return w}async function gM({type:t,request:e,match:n,lazyHandlerPromise:i,lazyRoutePromise:a,handlerOverride:l,scopedContext:c}){let d,p,m=y=>{let _,w=new Promise((N,D)=>_=D);p=()=>_(),e.signal.addEventListener("abort",p);let S=N=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${t}" [routeId: ${n.route.id}]`)):y({request:e,params:n.params,context:c},...N!==void 0?[N]:[]),R=(async()=>{try{return{type:"data",result:await(l?l(D=>S(D)):S())}}catch(N){return{type:"error",result:N}}})();return Promise.race([R,w])};try{let y=n.route[t];if(i||a)if(y){let _,[w]=await Promise.all([m(y).catch(S=>{_=S}),i,a]);if(_!==void 0)throw _;d=w}else if(await i,y=n.route[t],y)[d]=await Promise.all([m(y),a]);else if(t==="action"){let _=new URL(e.url),w=_.pathname+_.search;throw Ur(405,{method:e.method,pathname:w,routeId:n.route.id})}else return{type:"data",result:void 0};else if(y)d=await m(y);else{let _=new URL(e.url),w=_.pathname+_.search;throw Ur(404,{pathname:w})}}catch(y){return{type:"error",result:y}}finally{p&&e.signal.removeEventListener("abort",p)}return d}async function yM(t){var i,a,l,c,d,p;let{result:e,type:n}=t;if(ZA(e)){let m;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(y){return{type:"error",error:y}}return n==="error"?{type:"error",error:new Nd(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:"data",data:m,statusCode:e.status,headers:e.headers}}return n==="error"?rb(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Nd(((l=e.init)==null?void 0:l.status)||500,void 0,e.data),statusCode:Jc(e)?e.status:void 0,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Jc(e)?e.status:void 0}:rb(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function vM(t,e,n,i,a){let l=t.headers.get("Location");if(rt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!zv.test(l)){let c=i.slice(0,i.findIndex(d=>d.route.id===n)+1);l=By(new URL(e.url),c,a,l),t.headers.set("Location",l)}return t}function Ww(t,e,n){if(zv.test(t)){let i=t,a=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=jr(a.pathname,n)!=null;if(a.origin===e.origin&&l)return a.pathname+a.search+a.hash}return t}function Pl(t,e,n,i){let a=t.createURL(JA(e)).toString(),l={signal:n};if(i&&Wr(i.formMethod)){let{formMethod:c,formEncType:d}=i;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(i.json)):d==="text/plain"?l.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?l.body=Fy(i.formData):l.body=i.formData}return new Request(a,l)}function Fy(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function Jw(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function _M(t,e,n,i=!1,a=!1){let l={},c=null,d,p=!1,m={},y=n&&_r(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let w=_.route.id,S=e[w];if(rt(!po(S),"Cannot handle redirect results in processLoaderData"),_r(S)){let R=S.error;if(y!==void 0&&(R=y,y=void 0),c=c||{},a)c[w]=R;else{let N=fo(t,w);c[N.route.id]==null&&(c[N.route.id]=R)}i||(l[w]=KA),p||(p=!0,d=Jc(S.error)?S.error.status:500),S.headers&&(m[w]=S.headers)}else l[w]=S.data,S.statusCode&&S.statusCode!==200&&!p&&(d=S.statusCode),S.headers&&(m[w]=S.headers)}),y!==void 0&&n&&(c={[n[0]]:y},l[n[0]]=void 0),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:m}}function Zw(t,e,n,i,a,l){let{loaderData:c,errors:d}=_M(e,n,i);return a.forEach(p=>{let{key:m,match:y,controller:_}=p,w=l[m];if(rt(w,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(_r(w)){let S=fo(t.matches,y==null?void 0:y.route.id);d&&d[S.route.id]||(d={...d,[S.route.id]:w.error}),t.fetchers.delete(m)}else if(po(w))rt(!1,"Unhandled fetcher revalidation redirect");else{let S=oa(w.data);t.fetchers.set(m,S)}}),{loaderData:c,errors:d}}function eb(t,e,n,i){let a=Object.entries(e).filter(([,l])=>l!==KA).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of n){let c=l.route.id;if(!e.hasOwnProperty(c)&&t.hasOwnProperty(c)&&l.route.loader&&(a[c]=t[c]),i&&i.hasOwnProperty(c))break}return a}function tb(t){return t?_r(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function fo(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function nb(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ur(t,{pathname:e,routeId:n,method:i,type:a,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(c="Bad Request",i&&e&&n?d=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):t===403?(c="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(c="Not Found",d=`No route matches URL "${e}"`):t===405&&(c="Method Not Allowed",i&&e&&n?d=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new Nd(t||500,c,new Error(d),!0)}function Xf(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,a]=e[n];if(po(a))return{key:i,result:a}}}function JA(t){let e=typeof t=="string"?Na(t):t;return Sa({...e,hash:""})}function EM(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function TM(t){return ZA(t.result)&&rM.has(t.result.status)}function _r(t){return t.type==="error"}function po(t){return(t&&t.type)==="redirect"}function rb(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function ZA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function wM(t){return nM.has(t.toUpperCase())}function Wr(t){return eM.has(t.toUpperCase())}function Bv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Vc(t,e){let n=typeof e=="string"?Na(e).search:e.search;if(t[t.length-1].route.index&&Bv(n||""))return t[t.length-1];let i=HA(t);return i[i.length-1]}function ib(t){let{formMethod:e,formAction:n,formEncType:i,text:a,formData:l,json:c}=t;if(!(!e||!n||!i)){if(a!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:e,formAction:n,formEncType:i,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:c,text:void 0}}}function Wg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function bM(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Mc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function SM(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function oa(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function AM(t,e){try{let n=t.sessionStorage.getItem($A);if(n){let i=JSON.parse(n);for(let[a,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(a,new Set(l||[]))}}catch{}}function RM(t,e){if(e.size>0){let n={};for(let[i,a]of e)n[i]=[...a];try{t.sessionStorage.setItem($A,JSON.stringify(n))}catch(i){rn(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function CM(){let t,e,n=new Promise((i,a)=>{t=async l=>{i(l);try{await n}catch{}},e=async l=>{a(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Bo=K.createContext(null);Bo.displayName="DataRouter";var vh=K.createContext(null);vh.displayName="DataRouterState";var jv=K.createContext({isTransitioning:!1});jv.displayName="ViewTransition";var eR=K.createContext(new Map);eR.displayName="Fetchers";var IM=K.createContext(null);IM.displayName="Await";var ji=K.createContext(null);ji.displayName="Navigation";var ap=K.createContext(null);ap.displayName="Location";var Ms=K.createContext({outlet:null,matches:[],isDataRoute:!1});Ms.displayName="Route";var Fv=K.createContext(null);Fv.displayName="RouteError";function DM(t,{relative:e}={}){rt(_h(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=K.useContext(ji),{hash:a,pathname:l,search:c}=Eh(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Pi([n,l])),i.createHref({pathname:d,search:c,hash:a})}function _h(){return K.useContext(ap)!=null}function jo(){return rt(_h(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(ap).location}var tR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nR(t){K.useContext(ji).static||K.useLayoutEffect(t)}function OM(){let{isDataRoute:t}=K.useContext(Ms);return t?qM():NM()}function NM(){rt(_h(),"useNavigate() may be used only in the context of a <Router> component.");let t=K.useContext(Bo),{basename:e,navigator:n}=K.useContext(ji),{matches:i}=K.useContext(Ms),{pathname:a}=jo(),l=JSON.stringify(Vv(i)),c=K.useRef(!1);return nR(()=>{c.current=!0}),K.useCallback((p,m={})=>{if(rn(c.current,tR),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=Uv(p,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Pi([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,l,a,t])}K.createContext(null);function Eh(t,{relative:e}={}){let{matches:n}=K.useContext(Ms),{pathname:i}=jo(),a=JSON.stringify(Vv(n));return K.useMemo(()=>Uv(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function MM(t,e,n,i){rt(_h(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=K.useContext(ji),{matches:c}=K.useContext(Ms),d=c[c.length-1],p=d?d.params:{},m=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let H=_&&_.path||"";rR(m,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let w=jo(),S;S=w;let R=S.pathname||"/",N=R;if(y!=="/"){let H=y.replace(/^\//,"").split("/");N="/"+R.replace(/^\//,"").split("/").slice(H.length).join("/")}let D=!l&&n&&n.matches&&n.matches.length>0?n.matches:ua(t,{pathname:N});return rn(_||D!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),rn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),VM(D&&D.map(H=>Object.assign({},H,{params:Object.assign({},p,H.params),pathname:Pi([y,a.encodeLocation?a.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:Pi([y,a.encodeLocation?a.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),c,n,i)}function PM(){let t=FM(),e=Jc(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:l},"ErrorBoundary")," or"," ",K.createElement("code",{style:l},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:a},n):null,c)}var xM=K.createElement(PM,null),kM=class extends K.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?K.createElement(Ms.Provider,{value:this.props.routeContext},K.createElement(Fv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LM({routeContext:t,match:e,children:n}){let i=K.useContext(Bo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Ms.Provider,{value:t},n)}function VM(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(n)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:y,errors:_}=n,w=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||w){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,m,y)=>{let _,w=!1,S=null,R=null;n&&(_=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||xM,c&&(d<0&&y===0?(rR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,R=null):d===y&&(w=!0,R=m.route.hydrateFallbackElement||null)));let N=e.concat(a.slice(0,y+1)),D=()=>{let B;return _?B=S:w?B=R:m.route.Component?B=K.createElement(m.route.Component,null):m.route.element?B=m.route.element:B=p,K.createElement(LM,{match:m,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:B})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?K.createElement(kM,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:D(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):D()},null)}function qv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UM(t){let e=K.useContext(Bo);return rt(e,qv(t)),e}function zM(t){let e=K.useContext(vh);return rt(e,qv(t)),e}function BM(t){let e=K.useContext(Ms);return rt(e,qv(t)),e}function Hv(t){let e=BM(t),n=e.matches[e.matches.length-1];return rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function jM(){return Hv("useRouteId")}function FM(){var i;let t=K.useContext(Fv),e=zM("useRouteError"),n=Hv("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function qM(){let{router:t}=UM("useNavigate"),e=Hv("useNavigate"),n=K.useRef(!1);return nR(()=>{n.current=!0}),K.useCallback(async(a,l={})=>{rn(n.current,tR),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var sb={};function rR(t,e,n){!e&&!sb[t]&&(sb[t]=!0,rn(!1,n))}var ab={};function ob(t,e){!t&&!ab[e]&&(ab[e]=!0,console.warn(e))}function HM(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&rn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:K.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&rn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:K.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&rn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:K.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var GM=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function $M({router:t,flushSync:e}){let[n,i]=K.useState(t.state),[a,l]=K.useState(),[c,d]=K.useState({isTransitioning:!1}),[p,m]=K.useState(),[y,_]=K.useState(),[w,S]=K.useState(),R=K.useRef(new Map),N=K.useCallback((q,{deletedFetchers:ie,flushSync:M,viewTransitionOpts:re})=>{q.fetchers.forEach((C,I)=>{C.data!==void 0&&R.current.set(I,C.data)}),ie.forEach(C=>R.current.delete(C)),ob(M===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(ob(re==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!re||!O){e&&M?e(()=>i(q)):K.startTransition(()=>i(q));return}if(e&&M){e(()=>{y&&(p&&p.resolve(),y.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:re.currentLocation,nextLocation:re.nextLocation})});let C=t.window.document.startViewTransition(()=>{e(()=>i(q))});C.finished.finally(()=>{e(()=>{m(void 0),_(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>_(C));return}y?(p&&p.resolve(),y.skipTransition(),S({state:q,currentLocation:re.currentLocation,nextLocation:re.nextLocation})):(l(q),d({isTransitioning:!0,flushSync:!1,currentLocation:re.currentLocation,nextLocation:re.nextLocation}))},[t.window,e,y,p]);K.useLayoutEffect(()=>t.subscribe(N),[t,N]),K.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new GM)},[c]),K.useEffect(()=>{if(p&&a&&t.window){let q=a,ie=p.promise,M=t.window.document.startViewTransition(async()=>{K.startTransition(()=>i(q)),await ie});M.finished.finally(()=>{m(void 0),_(void 0),l(void 0),d({isTransitioning:!1})}),_(M)}},[a,p,t.window]),K.useEffect(()=>{p&&a&&n.location.key===a.location.key&&p.resolve()},[p,y,n.location,a]),K.useEffect(()=>{!c.isTransitioning&&w&&(l(w.state),d({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),S(void 0))},[c.isTransitioning,w]);let D=K.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:q=>t.navigate(q),push:(q,ie,M)=>t.navigate(q,{state:ie,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(q,ie,M)=>t.navigate(q,{replace:!0,state:ie,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[t]),B=t.basename||"/",H=K.useMemo(()=>({router:t,navigator:D,static:!1,basename:B}),[t,D,B]);return K.createElement(K.Fragment,null,K.createElement(Bo.Provider,{value:H},K.createElement(vh.Provider,{value:n},K.createElement(eR.Provider,{value:R.current},K.createElement(jv.Provider,{value:c},K.createElement(YM,{basename:B,location:n.location,navigationType:n.historyAction,navigator:D},K.createElement(KM,{routes:t.routes,future:t.future,state:n})))))),null)}var KM=K.memo(QM);function QM({routes:t,future:e,state:n}){return MM(t,void 0,n,e)}function YM({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){rt(!_h(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=K.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Na(n));let{pathname:p="/",search:m="",hash:y="",state:_=null,key:w="default"}=n,S=K.useMemo(()=>{let R=jr(p,c);return R==null?null:{location:{pathname:R,search:m,hash:y,state:_,key:w},navigationType:i}},[c,p,m,y,_,w,i]);return rn(S!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:K.createElement(ji.Provider,{value:d},K.createElement(ap.Provider,{children:e,value:S}))}var od="get",ld="application/x-www-form-urlencoded";function op(t){return t!=null&&typeof t.tagName=="string"}function XM(t){return op(t)&&t.tagName.toLowerCase()==="button"}function WM(t){return op(t)&&t.tagName.toLowerCase()==="form"}function JM(t){return op(t)&&t.tagName.toLowerCase()==="input"}function ZM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eP(t,e){return t.button===0&&(!e||e==="_self")&&!ZM(t)}var Wf=null;function tP(){if(Wf===null)try{new FormData(document.createElement("form"),0),Wf=!1}catch{Wf=!0}return Wf}var nP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jg(t){return t!=null&&!nP.has(t)?(rn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ld}"`),null):t}function rP(t,e){let n,i,a,l,c;if(WM(t)){let d=t.getAttribute("action");i=d?jr(d,e):null,n=t.getAttribute("method")||od,a=Jg(t.getAttribute("enctype"))||ld,l=new FormData(t)}else if(XM(t)||JM(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||d.getAttribute("action");if(i=p?jr(p,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||od,a=Jg(t.getAttribute("formenctype"))||Jg(d.getAttribute("enctype"))||ld,l=new FormData(d,t),!tP()){let{name:m,type:y,value:_}=t;if(y==="image"){let w=m?`${m}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else m&&l.append(m,_)}}else{if(op(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=od,i=null,a=ld,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}function Gv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function iP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function aP(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await iP(l,n);return c.links?c.links():[]}return[]}));return cP(i.flat(1).filter(sP).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function lb(t,e,n,i,a,l){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,d=(p,m)=>{var y;return n[m].pathname!==p.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>c(p,m)||d(p,m)):l==="data"?e.filter((p,m)=>{var _;let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function oP(t,e,{includeHydrateFallback:n}={}){return lP(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function lP(t){return[...new Set(t)]}function uP(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function cP(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(uP(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function hP(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&jr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function iR(){let t=K.useContext(Bo);return Gv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fP(){let t=K.useContext(vh);return Gv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var $v=K.createContext(void 0);$v.displayName="FrameworkContext";function sR(){let t=K.useContext($v);return Gv(t,"You must render this element inside a <HydratedRouter> element"),t}function dP(t,e){let n=K.useContext($v),[i,a]=K.useState(!1),[l,c]=K.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,w=K.useRef(null);K.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=B=>{B.forEach(H=>{c(H.isIntersecting)})},D=new IntersectionObserver(N,{threshold:.5});return w.current&&D.observe(w.current),()=>{D.disconnect()}}},[t]),K.useEffect(()=>{if(i){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[i]);let S=()=>{a(!0)},R=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Pc(d,S),onBlur:Pc(p,R),onMouseEnter:Pc(m,S),onMouseLeave:Pc(y,R),onTouchStart:Pc(_,S)}]:[!1,w,{}]}function Pc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function pP({page:t,...e}){let{router:n}=iR(),i=K.useMemo(()=>ua(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?K.createElement(gP,{page:t,matches:i,...e}):null}function mP(t){let{manifest:e,routeModules:n}=sR(),[i,a]=K.useState([]);return K.useEffect(()=>{let l=!1;return aP(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function gP({page:t,matches:e,...n}){let i=jo(),{manifest:a,routeModules:l}=sR(),{basename:c}=iR(),{loaderData:d,matches:p}=fP(),m=K.useMemo(()=>lb(t,e,p,a,i,"data"),[t,e,p,a,i]),y=K.useMemo(()=>lb(t,e,p,a,i,"assets"),[t,e,p,a,i]),_=K.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let R=new Set,N=!1;if(e.forEach(B=>{var q;let H=a.routes[B.route.id];!H||!H.hasLoader||(!m.some(ie=>ie.route.id===B.route.id)&&B.route.id in d&&((q=l[B.route.id])!=null&&q.shouldRevalidate)||H.hasClientLoader?N=!0:R.add(B.route.id))}),R.size===0)return[];let D=hP(t,c);return N&&R.size>0&&D.searchParams.set("_routes",e.filter(B=>R.has(B.route.id)).map(B=>B.route.id).join(",")),[D.pathname+D.search]},[c,d,i,a,m,e,t,l]),w=K.useMemo(()=>oP(y,a),[y,a]),S=mP(y);return K.createElement(K.Fragment,null,_.map(R=>K.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),w.map(R=>K.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),S.map(({key:R,link:N})=>K.createElement("link",{key:R,...N})))}function yP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aR&&(window.__reactRouterVersion="7.5.0")}catch{}function vP(t,e){return oM({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:IN({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||_P(),routes:t,mapRouteProperties:HM,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function _P(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:EP(t.errors)}),t}function EP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,a]of e)if(a&&a.__type==="RouteErrorResponse")n[i]=new Nd(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let c=new l(a.message);c.stack="",n[i]=c}catch{}}if(n[i]==null){let l=new Error(a.message);l.stack="",n[i]=l}}else n[i]=a;return n}var oR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lR=K.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:m,preventScrollReset:y,viewTransition:_,...w},S){let{basename:R}=K.useContext(ji),N=typeof m=="string"&&oR.test(m),D,B=!1;if(typeof m=="string"&&N&&(D=m,aR))try{let I=new URL(window.location.href),k=m.startsWith("//")?new URL(I.protocol+m):new URL(m),U=jr(k.pathname,R);k.origin===I.origin&&U!=null?m=U+k.search+k.hash:B=!0}catch{rn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=DM(m,{relative:a}),[q,ie,M]=dP(i,w),re=bP(m,{replace:c,state:d,target:p,preventScrollReset:y,relative:a,viewTransition:_});function O(I){e&&e(I),I.defaultPrevented||re(I)}let C=K.createElement("a",{...w,...M,href:D||H,onClick:B||l?e:O,ref:yP(S,ie),target:p,"data-discover":!N&&n==="render"?"true":void 0});return q&&!N?K.createElement(K.Fragment,null,C,K.createElement(pP,{page:H})):C});lR.displayName="Link";var ud=K.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...m},y){let _=Eh(c,{relative:m.relative}),w=jo(),S=K.useContext(vh),{navigator:R,basename:N}=K.useContext(ji),D=S!=null&&IP(_)&&d===!0,B=R.encodeLocation?R.encodeLocation(_).pathname:_.pathname,H=w.pathname,q=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(H=H.toLowerCase(),q=q?q.toLowerCase():null,B=B.toLowerCase()),q&&N&&(q=jr(q,N)||q);const ie=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let M=H===B||!a&&H.startsWith(B)&&H.charAt(ie)==="/",re=q!=null&&(q===B||!a&&q.startsWith(B)&&q.charAt(B.length)==="/"),O={isActive:M,isPending:re,isTransitioning:D},C=M?e:void 0,I;typeof i=="function"?I=i(O):I=[i,M?"active":null,re?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(O):l;return K.createElement(lR,{...m,"aria-current":C,className:I,ref:y,style:k,to:c,viewTransition:d},typeof p=="function"?p(O):p)});ud.displayName="NavLink";var TP=K.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=od,action:d,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:_,...w},S)=>{let R=RP(),N=CP(d,{relative:m}),D=c.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&oR.test(d),H=q=>{if(p&&p(q),q.defaultPrevented)return;q.preventDefault();let ie=q.nativeEvent.submitter,M=(ie==null?void 0:ie.getAttribute("formmethod"))||c;R(ie||q.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:_})};return K.createElement("form",{ref:S,method:D,action:N,onSubmit:i?p:H,...w,"data-discover":!B&&t==="render"?"true":void 0})});TP.displayName="Form";function wP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uR(t){let e=K.useContext(Bo);return rt(e,wP(t)),e}function bP(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=OM(),p=jo(),m=Eh(t,{relative:l});return K.useCallback(y=>{if(eP(y,e)){y.preventDefault();let _=n!==void 0?n:Sa(p)===Sa(m);d(t,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,m,n,i,e,t,a,l,c])}var SP=0,AP=()=>`__${String(++SP)}__`;function RP(){let{router:t}=uR("useSubmit"),{basename:e}=K.useContext(ji),n=jM();return K.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:p,body:m}=rP(i,e);if(a.navigate===!1){let y=a.fetcherKey||AP();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function CP(t,{relative:e}={}){let{basename:n}=K.useContext(ji),i=K.useContext(Ms);rt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Eh(t||".",{relative:e})},c=jo();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(y=>y==="")){d.delete("index"),p.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Pi([n,l.pathname])),Sa(l)}function IP(t,e={}){let n=K.useContext(jv);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=uR("useViewTransitionState"),a=Eh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=jr(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=jr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Od(a.pathname,c)!=null||Od(a.pathname,l)!=null}new TextEncoder;var cR=DA();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function DP(t){return K.createElement($M,{flushSync:cR.flushSync,...t})}const OP=K.createContext({blogPosts:[],isLoading:!1,isError:!1});function hR(t,e){return function(){return t.apply(e,arguments)}}const{toString:NP}=Object.prototype,{getPrototypeOf:Kv}=Object,lp=(t=>e=>{const n=NP.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ai=t=>(t=t.toLowerCase(),e=>lp(e)===t),up=t=>e=>typeof e===t,{isArray:vu}=Array,Zc=up("undefined");function MP(t){return t!==null&&!Zc(t)&&t.constructor!==null&&!Zc(t.constructor)&&Er(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const fR=ai("ArrayBuffer");function PP(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&fR(t.buffer),e}const xP=up("string"),Er=up("function"),dR=up("number"),cp=t=>t!==null&&typeof t=="object",kP=t=>t===!0||t===!1,cd=t=>{if(lp(t)!=="object")return!1;const e=Kv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},LP=ai("Date"),VP=ai("File"),UP=ai("Blob"),zP=ai("FileList"),BP=t=>cp(t)&&Er(t.pipe),jP=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Er(t.append)&&((e=lp(t))==="formdata"||e==="object"&&Er(t.toString)&&t.toString()==="[object FormData]"))},FP=ai("URLSearchParams"),[qP,HP,GP,$P]=["ReadableStream","Request","Response","Headers"].map(ai),KP=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Th(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,a;if(typeof t!="object"&&(t=[t]),vu(t))for(i=0,a=t.length;i<a;i++)e.call(null,t[i],i,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let d;for(i=0;i<c;i++)d=l[i],e.call(null,t[d],d,t)}}function pR(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,a;for(;i-- >0;)if(a=n[i],e===a.toLowerCase())return a;return null}const mo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mR=t=>!Zc(t)&&t!==mo;function qy(){const{caseless:t}=mR(this)&&this||{},e={},n=(i,a)=>{const l=t&&pR(e,a)||a;cd(e[l])&&cd(i)?e[l]=qy(e[l],i):cd(i)?e[l]=qy({},i):vu(i)?e[l]=i.slice():e[l]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Th(arguments[i],n);return e}const QP=(t,e,n,{allOwnKeys:i}={})=>(Th(e,(a,l)=>{n&&Er(a)?t[l]=hR(a,n):t[l]=a},{allOwnKeys:i}),t),YP=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),XP=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},WP=(t,e,n,i)=>{let a,l,c;const d={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)c=a[l],(!i||i(c,t,e))&&!d[c]&&(e[c]=t[c],d[c]=!0);t=n!==!1&&Kv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},JP=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},ZP=t=>{if(!t)return null;if(vu(t))return t;let e=t.length;if(!dR(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},ex=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Kv(Uint8Array)),tx=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let a;for(;(a=i.next())&&!a.done;){const l=a.value;e.call(t,l[0],l[1])}},nx=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},rx=ai("HTMLFormElement"),ix=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,a){return i.toUpperCase()+a}),ub=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),sx=ai("RegExp"),gR=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Th(n,(a,l)=>{let c;(c=e(a,l,t))!==!1&&(i[l]=c||a)}),Object.defineProperties(t,i)},ax=t=>{gR(t,(e,n)=>{if(Er(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Er(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ox=(t,e)=>{const n={},i=a=>{a.forEach(l=>{n[l]=!0})};return vu(t)?i(t):i(String(t).split(e)),n},lx=()=>{},ux=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function cx(t){return!!(t&&Er(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const hx=t=>{const e=new Array(10),n=(i,a)=>{if(cp(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[a]=i;const l=vu(i)?[]:{};return Th(i,(c,d)=>{const p=n(c,a+1);!Zc(p)&&(l[d]=p)}),e[a]=void 0,l}}return i};return n(t,0)},fx=ai("AsyncFunction"),dx=t=>t&&(cp(t)||Er(t))&&Er(t.then)&&Er(t.catch),yR=((t,e)=>t?setImmediate:e?((n,i)=>(mo.addEventListener("message",({source:a,data:l})=>{a===mo&&l===n&&i.length&&i.shift()()},!1),a=>{i.push(a),mo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Er(mo.postMessage)),px=typeof queueMicrotask<"u"?queueMicrotask.bind(mo):typeof process<"u"&&process.nextTick||yR,te={isArray:vu,isArrayBuffer:fR,isBuffer:MP,isFormData:jP,isArrayBufferView:PP,isString:xP,isNumber:dR,isBoolean:kP,isObject:cp,isPlainObject:cd,isReadableStream:qP,isRequest:HP,isResponse:GP,isHeaders:$P,isUndefined:Zc,isDate:LP,isFile:VP,isBlob:UP,isRegExp:sx,isFunction:Er,isStream:BP,isURLSearchParams:FP,isTypedArray:ex,isFileList:zP,forEach:Th,merge:qy,extend:QP,trim:KP,stripBOM:YP,inherits:XP,toFlatObject:WP,kindOf:lp,kindOfTest:ai,endsWith:JP,toArray:ZP,forEachEntry:tx,matchAll:nx,isHTMLForm:rx,hasOwnProperty:ub,hasOwnProp:ub,reduceDescriptors:gR,freezeMethods:ax,toObjectSet:ox,toCamelCase:ix,noop:lx,toFiniteNumber:ux,findKey:pR,global:mo,isContextDefined:mR,isSpecCompliantForm:cx,toJSONObject:hx,isAsyncFn:fx,isThenable:dx,setImmediate:yR,asap:px};function Ge(t,e,n,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}te.inherits(Ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const vR=Ge.prototype,_R={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{_R[t]={value:t}});Object.defineProperties(Ge,_R);Object.defineProperty(vR,"isAxiosError",{value:!0});Ge.from=(t,e,n,i,a,l)=>{const c=Object.create(vR);return te.toFlatObject(t,c,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),Ge.call(c,t.message,e,n,i,a),c.cause=t,c.name=t.name,l&&Object.assign(c,l),c};const mx=null;function Hy(t){return te.isPlainObject(t)||te.isArray(t)}function ER(t){return te.endsWith(t,"[]")?t.slice(0,-2):t}function cb(t,e,n){return t?t.concat(e).map(function(a,l){return a=ER(a),!n&&l?"["+a+"]":a}).join(n?".":""):e}function gx(t){return te.isArray(t)&&!t.some(Hy)}const yx=te.toFlatObject(te,{},null,function(e){return/^is[A-Z]/.test(e)});function hp(t,e,n){if(!te.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=te.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,D){return!te.isUndefined(D[N])});const i=n.metaTokens,a=n.visitor||y,l=n.dots,c=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(e);if(!te.isFunction(a))throw new TypeError("visitor must be a function");function m(R){if(R===null)return"";if(te.isDate(R))return R.toISOString();if(!p&&te.isBlob(R))throw new Ge("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(R)||te.isTypedArray(R)?p&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function y(R,N,D){let B=R;if(R&&!D&&typeof R=="object"){if(te.endsWith(N,"{}"))N=i?N:N.slice(0,-2),R=JSON.stringify(R);else if(te.isArray(R)&&gx(R)||(te.isFileList(R)||te.endsWith(N,"[]"))&&(B=te.toArray(R)))return N=ER(N),B.forEach(function(q,ie){!(te.isUndefined(q)||q===null)&&e.append(c===!0?cb([N],ie,l):c===null?N:N+"[]",m(q))}),!1}return Hy(R)?!0:(e.append(cb(D,N,l),m(R)),!1)}const _=[],w=Object.assign(yx,{defaultVisitor:y,convertValue:m,isVisitable:Hy});function S(R,N){if(!te.isUndefined(R)){if(_.indexOf(R)!==-1)throw Error("Circular reference detected in "+N.join("."));_.push(R),te.forEach(R,function(B,H){(!(te.isUndefined(B)||B===null)&&a.call(e,B,te.isString(H)?H.trim():H,N,w))===!0&&S(B,N?N.concat(H):[H])}),_.pop()}}if(!te.isObject(t))throw new TypeError("data must be an object");return S(t),e}function hb(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Qv(t,e){this._pairs=[],t&&hp(t,this,e)}const TR=Qv.prototype;TR.append=function(e,n){this._pairs.push([e,n])};TR.toString=function(e){const n=e?function(i){return e.call(this,i,hb)}:hb;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function vx(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function wR(t,e,n){if(!e)return t;const i=n&&n.encode||vx;te.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(e,n):l=te.isURLSearchParams(e)?e.toString():new Qv(e,n).toString(i),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class fb{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){te.forEach(this.handlers,function(i){i!==null&&e(i)})}}const bR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_x=typeof URLSearchParams<"u"?URLSearchParams:Qv,Ex=typeof FormData<"u"?FormData:null,Tx=typeof Blob<"u"?Blob:null,wx={isBrowser:!0,classes:{URLSearchParams:_x,FormData:Ex,Blob:Tx},protocols:["http","https","file","blob","url","data"]},Yv=typeof window<"u"&&typeof document<"u",Gy=typeof navigator=="object"&&navigator||void 0,bx=Yv&&(!Gy||["ReactNative","NativeScript","NS"].indexOf(Gy.product)<0),Sx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ax=Yv&&window.location.href||"http://localhost",Rx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yv,hasStandardBrowserEnv:bx,hasStandardBrowserWebWorkerEnv:Sx,navigator:Gy,origin:Ax},Symbol.toStringTag,{value:"Module"})),Vn={...Rx,...wx};function Cx(t,e){return hp(t,new Vn.classes.URLSearchParams,Object.assign({visitor:function(n,i,a,l){return Vn.isNode&&te.isBuffer(n)?(this.append(i,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function Ix(t){return te.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Dx(t){const e={},n=Object.keys(t);let i;const a=n.length;let l;for(i=0;i<a;i++)l=n[i],e[l]=t[l];return e}function SR(t){function e(n,i,a,l){let c=n[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),p=l>=n.length;return c=!c&&te.isArray(a)?a.length:c,p?(te.hasOwnProp(a,c)?a[c]=[a[c],i]:a[c]=i,!d):((!a[c]||!te.isObject(a[c]))&&(a[c]=[]),e(n,i,a[c],l)&&te.isArray(a[c])&&(a[c]=Dx(a[c])),!d)}if(te.isFormData(t)&&te.isFunction(t.entries)){const n={};return te.forEachEntry(t,(i,a)=>{e(Ix(i),a,n,0)}),n}return null}function Ox(t,e,n){if(te.isString(t))try{return(e||JSON.parse)(t),te.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const wh={transitional:bR,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",a=i.indexOf("application/json")>-1,l=te.isObject(e);if(l&&te.isHTMLForm(e)&&(e=new FormData(e)),te.isFormData(e))return a?JSON.stringify(SR(e)):e;if(te.isArrayBuffer(e)||te.isBuffer(e)||te.isStream(e)||te.isFile(e)||te.isBlob(e)||te.isReadableStream(e))return e;if(te.isArrayBufferView(e))return e.buffer;if(te.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Cx(e,this.formSerializer).toString();if((d=te.isFileList(e))||i.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return hp(d?{"files[]":e}:e,p&&new p,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),Ox(e)):e}],transformResponse:[function(e){const n=this.transitional||wh.transitional,i=n&&n.forcedJSONParsing,a=this.responseType==="json";if(te.isResponse(e)||te.isReadableStream(e))return e;if(e&&te.isString(e)&&(i&&!this.responseType||a)){const c=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?Ge.from(d,Ge.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vn.classes.FormData,Blob:Vn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],t=>{wh.headers[t]={}});const Nx=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mx=t=>{const e={};let n,i,a;return t&&t.split(`
`).forEach(function(c){a=c.indexOf(":"),n=c.substring(0,a).trim().toLowerCase(),i=c.substring(a+1).trim(),!(!n||e[n]&&Nx[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},db=Symbol("internals");function xc(t){return t&&String(t).trim().toLowerCase()}function hd(t){return t===!1||t==null?t:te.isArray(t)?t.map(hd):String(t)}function Px(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const xx=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Zg(t,e,n,i,a){if(te.isFunction(i))return i.call(this,e,n);if(a&&(e=n),!!te.isString(e)){if(te.isString(i))return e.indexOf(i)!==-1;if(te.isRegExp(i))return i.test(e)}}function kx(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function Lx(t,e){const n=te.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(a,l,c){return this[i].call(this,e,a,l,c)},configurable:!0})})}let ir=class{constructor(e){e&&this.set(e)}set(e,n,i){const a=this;function l(d,p,m){const y=xc(p);if(!y)throw new Error("header name must be a non-empty string");const _=te.findKey(a,y);(!_||a[_]===void 0||m===!0||m===void 0&&a[_]!==!1)&&(a[_||p]=hd(d))}const c=(d,p)=>te.forEach(d,(m,y)=>l(m,y,p));if(te.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(te.isString(e)&&(e=e.trim())&&!xx(e))c(Mx(e),n);else if(te.isHeaders(e))for(const[d,p]of e.entries())l(p,d,i);else e!=null&&l(n,e,i);return this}get(e,n){if(e=xc(e),e){const i=te.findKey(this,e);if(i){const a=this[i];if(!n)return a;if(n===!0)return Px(a);if(te.isFunction(n))return n.call(this,a,i);if(te.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=xc(e),e){const i=te.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Zg(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let a=!1;function l(c){if(c=xc(c),c){const d=te.findKey(i,c);d&&(!n||Zg(i,i[d],d,n))&&(delete i[d],a=!0)}}return te.isArray(e)?e.forEach(l):l(e),a}clear(e){const n=Object.keys(this);let i=n.length,a=!1;for(;i--;){const l=n[i];(!e||Zg(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const n=this,i={};return te.forEach(this,(a,l)=>{const c=te.findKey(i,l);if(c){n[c]=hd(a),delete n[l];return}const d=e?kx(l):String(l).trim();d!==l&&delete n[l],n[d]=hd(a),i[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return te.forEach(this,(i,a)=>{i!=null&&i!==!1&&(n[a]=e&&te.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[db]=this[db]={accessors:{}}).accessors,a=this.prototype;function l(c){const d=xc(c);i[d]||(Lx(a,c),i[d]=!0)}return te.isArray(e)?e.forEach(l):l(e),this}};ir.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(ir.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});te.freezeMethods(ir);function ey(t,e){const n=this||wh,i=e||n,a=ir.from(i.headers);let l=i.data;return te.forEach(t,function(d){l=d.call(n,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function AR(t){return!!(t&&t.__CANCEL__)}function _u(t,e,n){Ge.call(this,t??"canceled",Ge.ERR_CANCELED,e,n),this.name="CanceledError"}te.inherits(_u,Ge,{__CANCEL__:!0});function RR(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Ge("Request failed with status code "+n.status,[Ge.ERR_BAD_REQUEST,Ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Vx(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Ux(t,e){t=t||10;const n=new Array(t),i=new Array(t);let a=0,l=0,c;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),y=i[l];c||(c=m),n[a]=p,i[a]=m;let _=l,w=0;for(;_!==a;)w+=n[_++],_=_%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),m-c<e)return;const S=y&&m-y;return S?Math.round(w*1e3/S):void 0}}function zx(t,e){let n=0,i=1e3/e,a,l;const c=(m,y=Date.now())=>{n=y,a=null,l&&(clearTimeout(l),l=null),t.apply(null,m)};return[(...m)=>{const y=Date.now(),_=y-n;_>=i?c(m,y):(a=m,l||(l=setTimeout(()=>{l=null,c(a)},i-_)))},()=>a&&c(a)]}const Md=(t,e,n=3)=>{let i=0;const a=Ux(50,250);return zx(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,p=c-i,m=a(p),y=c<=d;i=c;const _={loaded:c,total:d,progress:d?c/d:void 0,bytes:p,rate:m||void 0,estimated:m&&d&&y?(d-c)/m:void 0,event:l,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(_)},n)},pb=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},mb=t=>(...e)=>te.asap(()=>t(...e)),Bx=Vn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Vn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Vn.origin),Vn.navigator&&/(msie|trident)/i.test(Vn.navigator.userAgent)):()=>!0,jx=Vn.hasStandardBrowserEnv?{write(t,e,n,i,a,l){const c=[t+"="+encodeURIComponent(e)];te.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),te.isString(i)&&c.push("path="+i),te.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Fx(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function qx(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function CR(t,e,n){let i=!Fx(e);return t&&(i||n==!1)?qx(t,e):e}const gb=t=>t instanceof ir?{...t}:t;function Po(t,e){e=e||{};const n={};function i(m,y,_,w){return te.isPlainObject(m)&&te.isPlainObject(y)?te.merge.call({caseless:w},m,y):te.isPlainObject(y)?te.merge({},y):te.isArray(y)?y.slice():y}function a(m,y,_,w){if(te.isUndefined(y)){if(!te.isUndefined(m))return i(void 0,m,_,w)}else return i(m,y,_,w)}function l(m,y){if(!te.isUndefined(y))return i(void 0,y)}function c(m,y){if(te.isUndefined(y)){if(!te.isUndefined(m))return i(void 0,m)}else return i(void 0,y)}function d(m,y,_){if(_ in e)return i(m,y);if(_ in t)return i(void 0,m)}const p={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(m,y,_)=>a(gb(m),gb(y),_,!0)};return te.forEach(Object.keys(Object.assign({},t,e)),function(y){const _=p[y]||a,w=_(t[y],e[y],y);te.isUndefined(w)&&_!==d||(n[y]=w)}),n}const IR=t=>{const e=Po({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:l,headers:c,auth:d}=e;e.headers=c=ir.from(c),e.url=wR(CR(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(te.isFormData(n)){if(Vn.hasStandardBrowserEnv||Vn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[m,...y]=p?p.split(";").map(_=>_.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...y].join("; "))}}if(Vn.hasStandardBrowserEnv&&(i&&te.isFunction(i)&&(i=i(e)),i||i!==!1&&Bx(e.url))){const m=a&&l&&jx.read(l);m&&c.set(a,m)}return e},Hx=typeof XMLHttpRequest<"u",Gx=Hx&&function(t){return new Promise(function(n,i){const a=IR(t);let l=a.data;const c=ir.from(a.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:m}=a,y,_,w,S,R;function N(){S&&S(),R&&R(),a.cancelToken&&a.cancelToken.unsubscribe(y),a.signal&&a.signal.removeEventListener("abort",y)}let D=new XMLHttpRequest;D.open(a.method.toUpperCase(),a.url,!0),D.timeout=a.timeout;function B(){if(!D)return;const q=ir.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),M={data:!d||d==="text"||d==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:q,config:t,request:D};RR(function(O){n(O),N()},function(O){i(O),N()},M),D=null}"onloadend"in D?D.onloadend=B:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(B)},D.onabort=function(){D&&(i(new Ge("Request aborted",Ge.ECONNABORTED,t,D)),D=null)},D.onerror=function(){i(new Ge("Network Error",Ge.ERR_NETWORK,t,D)),D=null},D.ontimeout=function(){let ie=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const M=a.transitional||bR;a.timeoutErrorMessage&&(ie=a.timeoutErrorMessage),i(new Ge(ie,M.clarifyTimeoutError?Ge.ETIMEDOUT:Ge.ECONNABORTED,t,D)),D=null},l===void 0&&c.setContentType(null),"setRequestHeader"in D&&te.forEach(c.toJSON(),function(ie,M){D.setRequestHeader(M,ie)}),te.isUndefined(a.withCredentials)||(D.withCredentials=!!a.withCredentials),d&&d!=="json"&&(D.responseType=a.responseType),m&&([w,R]=Md(m,!0),D.addEventListener("progress",w)),p&&D.upload&&([_,S]=Md(p),D.upload.addEventListener("progress",_),D.upload.addEventListener("loadend",S)),(a.cancelToken||a.signal)&&(y=q=>{D&&(i(!q||q.type?new _u(null,t,D):q),D.abort(),D=null)},a.cancelToken&&a.cancelToken.subscribe(y),a.signal&&(a.signal.aborted?y():a.signal.addEventListener("abort",y)));const H=Vx(a.url);if(H&&Vn.protocols.indexOf(H)===-1){i(new Ge("Unsupported protocol "+H+":",Ge.ERR_BAD_REQUEST,t));return}D.send(l||null)})},$x=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,a;const l=function(m){if(!a){a=!0,d();const y=m instanceof Error?m:this.reason;i.abort(y instanceof Ge?y:new _u(y instanceof Error?y.message:y))}};let c=e&&setTimeout(()=>{c=null,l(new Ge(`timeout ${e} of ms exceeded`,Ge.ETIMEDOUT))},e);const d=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),t=null)};t.forEach(m=>m.addEventListener("abort",l));const{signal:p}=i;return p.unsubscribe=()=>te.asap(d),p}},Kx=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,a;for(;i<n;)a=i+e,yield t.slice(i,a),i=a},Qx=async function*(t,e){for await(const n of Yx(t))yield*Kx(n,e)},Yx=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},yb=(t,e,n,i)=>{const a=Qx(t,e);let l=0,c,d=p=>{c||(c=!0,i&&i(p))};return new ReadableStream({async pull(p){try{const{done:m,value:y}=await a.next();if(m){d(),p.close();return}let _=y.byteLength;if(n){let w=l+=_;n(w)}p.enqueue(new Uint8Array(y))}catch(m){throw d(m),m}},cancel(p){return d(p),a.return()}},{highWaterMark:2})},fp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",DR=fp&&typeof ReadableStream=="function",Xx=fp&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),OR=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Wx=DR&&OR(()=>{let t=!1;const e=new Request(Vn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),vb=64*1024,$y=DR&&OR(()=>te.isReadableStream(new Response("").body)),Pd={stream:$y&&(t=>t.body)};fp&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Pd[e]&&(Pd[e]=te.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new Ge(`Response type '${e}' is not supported`,Ge.ERR_NOT_SUPPORT,i)})})})(new Response);const Jx=async t=>{if(t==null)return 0;if(te.isBlob(t))return t.size;if(te.isSpecCompliantForm(t))return(await new Request(Vn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(te.isArrayBufferView(t)||te.isArrayBuffer(t))return t.byteLength;if(te.isURLSearchParams(t)&&(t=t+""),te.isString(t))return(await Xx(t)).byteLength},Zx=async(t,e)=>{const n=te.toFiniteNumber(t.getContentLength());return n??Jx(e)},ek=fp&&(async t=>{let{url:e,method:n,data:i,signal:a,cancelToken:l,timeout:c,onDownloadProgress:d,onUploadProgress:p,responseType:m,headers:y,withCredentials:_="same-origin",fetchOptions:w}=IR(t);m=m?(m+"").toLowerCase():"text";let S=$x([a,l&&l.toAbortSignal()],c),R;const N=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let D;try{if(p&&Wx&&n!=="get"&&n!=="head"&&(D=await Zx(y,i))!==0){let M=new Request(e,{method:"POST",body:i,duplex:"half"}),re;if(te.isFormData(i)&&(re=M.headers.get("content-type"))&&y.setContentType(re),M.body){const[O,C]=pb(D,Md(mb(p)));i=yb(M.body,vb,O,C)}}te.isString(_)||(_=_?"include":"omit");const B="credentials"in Request.prototype;R=new Request(e,{...w,signal:S,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:i,duplex:"half",credentials:B?_:void 0});let H=await fetch(R);const q=$y&&(m==="stream"||m==="response");if($y&&(d||q&&N)){const M={};["status","statusText","headers"].forEach(I=>{M[I]=H[I]});const re=te.toFiniteNumber(H.headers.get("content-length")),[O,C]=d&&pb(re,Md(mb(d),!0))||[];H=new Response(yb(H.body,vb,O,()=>{C&&C(),N&&N()}),M)}m=m||"text";let ie=await Pd[te.findKey(Pd,m)||"text"](H,t);return!q&&N&&N(),await new Promise((M,re)=>{RR(M,re,{data:ie,headers:ir.from(H.headers),status:H.status,statusText:H.statusText,config:t,request:R})})}catch(B){throw N&&N(),B&&B.name==="TypeError"&&/fetch/i.test(B.message)?Object.assign(new Ge("Network Error",Ge.ERR_NETWORK,t,R),{cause:B.cause||B}):Ge.from(B,B&&B.code,t,R)}}),Ky={http:mx,xhr:Gx,fetch:ek};te.forEach(Ky,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const _b=t=>`- ${t}`,tk=t=>te.isFunction(t)||t===null||t===!1,NR={getAdapter:t=>{t=te.isArray(t)?t:[t];const{length:e}=t;let n,i;const a={};for(let l=0;l<e;l++){n=t[l];let c;if(i=n,!tk(n)&&(i=Ky[(c=String(n)).toLowerCase()],i===void 0))throw new Ge(`Unknown adapter '${c}'`);if(i)break;a[c||"#"+l]=i}if(!i){const l=Object.entries(a).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(_b).join(`
`):" "+_b(l[0]):"as no adapter specified";throw new Ge("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:Ky};function ty(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _u(null,t)}function Eb(t){return ty(t),t.headers=ir.from(t.headers),t.data=ey.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),NR.getAdapter(t.adapter||wh.adapter)(t).then(function(i){return ty(t),i.data=ey.call(t,t.transformResponse,i),i.headers=ir.from(i.headers),i},function(i){return AR(i)||(ty(t),i&&i.response&&(i.response.data=ey.call(t,t.transformResponse,i.response),i.response.headers=ir.from(i.response.headers))),Promise.reject(i)})}const MR="1.8.4",dp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{dp[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Tb={};dp.transitional=function(e,n,i){function a(l,c){return"[Axios v"+MR+"] Transitional option '"+l+"'"+c+(i?". "+i:"")}return(l,c,d)=>{if(e===!1)throw new Ge(a(c," has been removed"+(n?" in "+n:"")),Ge.ERR_DEPRECATED);return n&&!Tb[c]&&(Tb[c]=!0,console.warn(a(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,c,d):!0}};dp.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function nk(t,e,n){if(typeof t!="object")throw new Ge("options must be an object",Ge.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let a=i.length;for(;a-- >0;){const l=i[a],c=e[l];if(c){const d=t[l],p=d===void 0||c(d,l,t);if(p!==!0)throw new Ge("option "+l+" must be "+p,Ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ge("Unknown option "+l,Ge.ERR_BAD_OPTION)}}const fd={assertOptions:nk,validators:dp},Ri=fd.validators;let Io=class{constructor(e){this.defaults=e,this.interceptors={request:new fb,response:new fb}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Po(this.defaults,n);const{transitional:i,paramsSerializer:a,headers:l}=n;i!==void 0&&fd.assertOptions(i,{silentJSONParsing:Ri.transitional(Ri.boolean),forcedJSONParsing:Ri.transitional(Ri.boolean),clarifyTimeoutError:Ri.transitional(Ri.boolean)},!1),a!=null&&(te.isFunction(a)?n.paramsSerializer={serialize:a}:fd.assertOptions(a,{encode:Ri.function,serialize:Ri.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),fd.assertOptions(n,{baseUrl:Ri.spelling("baseURL"),withXsrfToken:Ri.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=l&&te.merge(l.common,l[n.method]);l&&te.forEach(["delete","get","head","post","put","patch","common"],R=>{delete l[R]}),n.headers=ir.concat(c,l);const d=[];let p=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(p=p&&N.synchronous,d.unshift(N.fulfilled,N.rejected))});const m=[];this.interceptors.response.forEach(function(N){m.push(N.fulfilled,N.rejected)});let y,_=0,w;if(!p){const R=[Eb.bind(this),void 0];for(R.unshift.apply(R,d),R.push.apply(R,m),w=R.length,y=Promise.resolve(n);_<w;)y=y.then(R[_++],R[_++]);return y}w=d.length;let S=n;for(_=0;_<w;){const R=d[_++],N=d[_++];try{S=R(S)}catch(D){N.call(this,D);break}}try{y=Eb.call(this,S)}catch(R){return Promise.reject(R)}for(_=0,w=m.length;_<w;)y=y.then(m[_++],m[_++]);return y}getUri(e){e=Po(this.defaults,e);const n=CR(e.baseURL,e.url,e.allowAbsoluteUrls);return wR(n,e.params,e.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(e){Io.prototype[e]=function(n,i){return this.request(Po(i||{},{method:e,url:n,data:(i||{}).data}))}});te.forEach(["post","put","patch"],function(e){function n(i){return function(l,c,d){return this.request(Po(d||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Io.prototype[e]=n(),Io.prototype[e+"Form"]=n(!0)});let rk=class PR{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const i=this;this.promise.then(a=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](a);i._listeners=null}),this.promise.then=a=>{let l;const c=new Promise(d=>{i.subscribe(d),l=d}).then(a);return c.cancel=function(){i.unsubscribe(l)},c},e(function(l,c,d){i.reason||(i.reason=new _u(l,c,d),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new PR(function(a){e=a}),cancel:e}}};function ik(t){return function(n){return t.apply(null,n)}}function sk(t){return te.isObject(t)&&t.isAxiosError===!0}const Qy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qy).forEach(([t,e])=>{Qy[e]=t});function xR(t){const e=new Io(t),n=hR(Io.prototype.request,e);return te.extend(n,Io.prototype,e,{allOwnKeys:!0}),te.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return xR(Po(t,a))},n}const Yt=xR(wh);Yt.Axios=Io;Yt.CanceledError=_u;Yt.CancelToken=rk;Yt.isCancel=AR;Yt.VERSION=MR;Yt.toFormData=hp;Yt.AxiosError=Ge;Yt.Cancel=Yt.CanceledError;Yt.all=function(e){return Promise.all(e)};Yt.spread=ik;Yt.isAxiosError=sk;Yt.mergeConfig=Po;Yt.AxiosHeaders=ir;Yt.formToJSON=t=>SR(te.isHTMLForm(t)?new FormData(t):t);Yt.getAdapter=NR.getAdapter;Yt.HttpStatusCode=Qy;Yt.default=Yt;const{Axios:hB,AxiosError:fB,CanceledError:dB,isCancel:pB,CancelToken:mB,VERSION:gB,all:yB,Cancel:vB,isAxiosError:_B,spread:EB,toFormData:TB,AxiosHeaders:wB,HttpStatusCode:bB,formToJSON:SB,getAdapter:AB,mergeConfig:RB}=Yt,ak=()=>SN({queryKey:["blogPosts"],queryFn:async()=>await Yt.get("https://dummyjson.com/posts").then(n=>n.data)}),ok=({children:t})=>{var i;const e=ak(),n={blogPosts:((i=e.data)==null?void 0:i.posts)??[],isLoading:e.isLoading,isError:e.isError};return Fe.jsx(OP.Provider,{value:n,children:t})};var rr=function(){return rr=Object.assign||function(e){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},rr.apply(this,arguments)};function xd(t,e,n){if(n||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return t.concat(l||Array.prototype.slice.call(e))}var Lt="-ms-",qc="-moz-",bt="-webkit-",kR="comm",pp="rule",Xv="decl",lk="@import",LR="@keyframes",uk="@layer",VR=Math.abs,Wv=String.fromCharCode,Yy=Object.assign;function ck(t,e){return En(t,0)^45?(((e<<2^En(t,0))<<2^En(t,1))<<2^En(t,2))<<2^En(t,3):0}function UR(t){return t.trim()}function vs(t,e){return(t=e.exec(t))?t[0]:t}function Ye(t,e,n){return t.replace(e,n)}function dd(t,e,n){return t.indexOf(e,n)}function En(t,e){return t.charCodeAt(e)|0}function iu(t,e,n){return t.slice(e,n)}function Mi(t){return t.length}function zR(t){return t.length}function Uc(t,e){return e.push(t),t}function hk(t,e){return t.map(e).join("")}function wb(t,e){return t.filter(function(n){return!vs(n,e)})}var mp=1,su=1,BR=0,Fr=0,tn=0,Eu="";function gp(t,e,n,i,a,l,c,d){return{value:t,root:e,parent:n,type:i,props:a,children:l,line:mp,column:su,length:c,return:"",siblings:d}}function la(t,e){return Yy(gp("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function xl(t){for(;t.root;)t=la(t.root,{children:[t]});Uc(t,t.siblings)}function fk(){return tn}function dk(){return tn=Fr>0?En(Eu,--Fr):0,su--,tn===10&&(su=1,mp--),tn}function ni(){return tn=Fr<BR?En(Eu,Fr++):0,su++,tn===10&&(su=1,mp++),tn}function Do(){return En(Eu,Fr)}function pd(){return Fr}function yp(t,e){return iu(Eu,t,e)}function Xy(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pk(t){return mp=su=1,BR=Mi(Eu=t),Fr=0,[]}function mk(t){return Eu="",t}function ny(t){return UR(yp(Fr-1,Wy(t===91?t+2:t===40?t+1:t)))}function gk(t){for(;(tn=Do())&&tn<33;)ni();return Xy(t)>2||Xy(tn)>3?"":" "}function yk(t,e){for(;--e&&ni()&&!(tn<48||tn>102||tn>57&&tn<65||tn>70&&tn<97););return yp(t,pd()+(e<6&&Do()==32&&ni()==32))}function Wy(t){for(;ni();)switch(tn){case t:return Fr;case 34:case 39:t!==34&&t!==39&&Wy(tn);break;case 40:t===41&&Wy(t);break;case 92:ni();break}return Fr}function vk(t,e){for(;ni()&&t+tn!==57;)if(t+tn===84&&Do()===47)break;return"/*"+yp(e,Fr-1)+"*"+Wv(t===47?t:ni())}function _k(t){for(;!Xy(Do());)ni();return yp(t,Fr)}function Ek(t){return mk(md("",null,null,null,[""],t=pk(t),0,[0],t))}function md(t,e,n,i,a,l,c,d,p){for(var m=0,y=0,_=c,w=0,S=0,R=0,N=1,D=1,B=1,H=0,q="",ie=a,M=l,re=i,O=q;D;)switch(R=H,H=ni()){case 40:if(R!=108&&En(O,_-1)==58){dd(O+=Ye(ny(H),"&","&\f"),"&\f",VR(m?d[m-1]:0))!=-1&&(B=-1);break}case 34:case 39:case 91:O+=ny(H);break;case 9:case 10:case 13:case 32:O+=gk(R);break;case 92:O+=yk(pd()-1,7);continue;case 47:switch(Do()){case 42:case 47:Uc(Tk(vk(ni(),pd()),e,n,p),p);break;default:O+="/"}break;case 123*N:d[m++]=Mi(O)*B;case 125*N:case 59:case 0:switch(H){case 0:case 125:D=0;case 59+y:B==-1&&(O=Ye(O,/\f/g,"")),S>0&&Mi(O)-_&&Uc(S>32?Sb(O+";",i,n,_-1,p):Sb(Ye(O," ","")+";",i,n,_-2,p),p);break;case 59:O+=";";default:if(Uc(re=bb(O,e,n,m,y,a,d,q,ie=[],M=[],_,l),l),H===123)if(y===0)md(O,e,re,re,ie,l,_,d,M);else switch(w===99&&En(O,3)===110?100:w){case 100:case 108:case 109:case 115:md(t,re,re,i&&Uc(bb(t,re,re,0,0,a,d,q,a,ie=[],_,M),M),a,M,_,d,i?ie:M);break;default:md(O,re,re,re,[""],M,0,d,M)}}m=y=S=0,N=B=1,q=O="",_=c;break;case 58:_=1+Mi(O),S=R;default:if(N<1){if(H==123)--N;else if(H==125&&N++==0&&dk()==125)continue}switch(O+=Wv(H),H*N){case 38:B=y>0?1:(O+="\f",-1);break;case 44:d[m++]=(Mi(O)-1)*B,B=1;break;case 64:Do()===45&&(O+=ny(ni())),w=Do(),y=_=Mi(q=O+=_k(pd())),H++;break;case 45:R===45&&Mi(O)==2&&(N=0)}}return l}function bb(t,e,n,i,a,l,c,d,p,m,y,_){for(var w=a-1,S=a===0?l:[""],R=zR(S),N=0,D=0,B=0;N<i;++N)for(var H=0,q=iu(t,w+1,w=VR(D=c[N])),ie=t;H<R;++H)(ie=UR(D>0?S[H]+" "+q:Ye(q,/&\f/g,S[H])))&&(p[B++]=ie);return gp(t,e,n,a===0?pp:d,p,m,y,_)}function Tk(t,e,n,i){return gp(t,e,n,kR,Wv(fk()),iu(t,2,-2),0,i)}function Sb(t,e,n,i,a){return gp(t,e,n,Xv,iu(t,0,i),iu(t,i+1,-1),i,a)}function jR(t,e,n){switch(ck(t,e)){case 5103:return bt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bt+t+t;case 4789:return qc+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return bt+t+qc+t+Lt+t+t;case 5936:switch(En(t,e+11)){case 114:return bt+t+Lt+Ye(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return bt+t+Lt+Ye(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return bt+t+Lt+Ye(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return bt+t+Lt+t+t;case 6165:return bt+t+Lt+"flex-"+t+t;case 5187:return bt+t+Ye(t,/(\w+).+(:[^]+)/,bt+"box-$1$2"+Lt+"flex-$1$2")+t;case 5443:return bt+t+Lt+"flex-item-"+Ye(t,/flex-|-self/g,"")+(vs(t,/flex-|baseline/)?"":Lt+"grid-row-"+Ye(t,/flex-|-self/g,""))+t;case 4675:return bt+t+Lt+"flex-line-pack"+Ye(t,/align-content|flex-|-self/g,"")+t;case 5548:return bt+t+Lt+Ye(t,"shrink","negative")+t;case 5292:return bt+t+Lt+Ye(t,"basis","preferred-size")+t;case 6060:return bt+"box-"+Ye(t,"-grow","")+bt+t+Lt+Ye(t,"grow","positive")+t;case 4554:return bt+Ye(t,/([^-])(transform)/g,"$1"+bt+"$2")+t;case 6187:return Ye(Ye(Ye(t,/(zoom-|grab)/,bt+"$1"),/(image-set)/,bt+"$1"),t,"")+t;case 5495:case 3959:return Ye(t,/(image-set\([^]*)/,bt+"$1$`$1");case 4968:return Ye(Ye(t,/(.+:)(flex-)?(.*)/,bt+"box-pack:$3"+Lt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bt+t+t;case 4200:if(!vs(t,/flex-|baseline/))return Lt+"grid-column-align"+iu(t,e)+t;break;case 2592:case 3360:return Lt+Ye(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(i,a){return e=a,vs(i.props,/grid-\w+-end/)})?~dd(t+(n=n[e].value),"span",0)?t:Lt+Ye(t,"-start","")+t+Lt+"grid-row-span:"+(~dd(n,"span",0)?vs(n,/\d+/):+vs(n,/\d+/)-+vs(t,/\d+/))+";":Lt+Ye(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(i){return vs(i.props,/grid-\w+-start/)})?t:Lt+Ye(Ye(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ye(t,/(.+)-inline(.+)/,bt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mi(t)-1-e>6)switch(En(t,e+1)){case 109:if(En(t,e+4)!==45)break;case 102:return Ye(t,/(.+:)(.+)-([^]+)/,"$1"+bt+"$2-$3$1"+qc+(En(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~dd(t,"stretch",0)?jR(Ye(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Ye(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,a,l,c,d,p,m){return Lt+a+":"+l+m+(c?Lt+a+"-span:"+(d?p:+p-+l)+m:"")+t});case 4949:if(En(t,e+6)===121)return Ye(t,":",":"+bt)+t;break;case 6444:switch(En(t,En(t,14)===45?18:11)){case 120:return Ye(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+bt+(En(t,14)===45?"inline-":"")+"box$3$1"+bt+"$2$3$1"+Lt+"$2box$3")+t;case 100:return Ye(t,":",":"+Lt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ye(t,"scroll-","scroll-snap-")+t}return t}function kd(t,e){for(var n="",i=0;i<t.length;i++)n+=e(t[i],i,t,e)||"";return n}function wk(t,e,n,i){switch(t.type){case uk:if(t.children.length)break;case lk:case Xv:return t.return=t.return||t.value;case kR:return"";case LR:return t.return=t.value+"{"+kd(t.children,i)+"}";case pp:if(!Mi(t.value=t.props.join(",")))return""}return Mi(n=kd(t.children,i))?t.return=t.value+"{"+n+"}":""}function bk(t){var e=zR(t);return function(n,i,a,l){for(var c="",d=0;d<e;d++)c+=t[d](n,i,a,l)||"";return c}}function Sk(t){return function(e){e.root||(e=e.return)&&t(e)}}function Ak(t,e,n,i){if(t.length>-1&&!t.return)switch(t.type){case Xv:t.return=jR(t.value,t.length,n);return;case LR:return kd([la(t,{value:Ye(t.value,"@","@"+bt)})],i);case pp:if(t.length)return hk(n=t.props,function(a){switch(vs(a,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":xl(la(t,{props:[Ye(a,/:(read-\w+)/,":"+qc+"$1")]})),xl(la(t,{props:[a]})),Yy(t,{props:wb(n,i)});break;case"::placeholder":xl(la(t,{props:[Ye(a,/:(plac\w+)/,":"+bt+"input-$1")]})),xl(la(t,{props:[Ye(a,/:(plac\w+)/,":"+qc+"$1")]})),xl(la(t,{props:[Ye(a,/:(plac\w+)/,Lt+"input-$1")]})),xl(la(t,{props:[a]})),Yy(t,{props:wb(n,i)});break}return""})}}var Rk={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},vr={},au=typeof process<"u"&&vr!==void 0&&(vr.REACT_APP_SC_ATTR||vr.SC_ATTR)||"data-styled",FR="active",qR="data-styled-version",vp="6.1.17",Jv=`/*!sc*/
`,Ld=typeof window<"u"&&"HTMLElement"in window,Ck=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&vr!==void 0&&vr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&vr.REACT_APP_SC_DISABLE_SPEEDY!==""?vr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&vr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&vr!==void 0&&vr.SC_DISABLE_SPEEDY!==void 0&&vr.SC_DISABLE_SPEEDY!==""&&vr.SC_DISABLE_SPEEDY!=="false"&&vr.SC_DISABLE_SPEEDY),_p=Object.freeze([]),ou=Object.freeze({});function Ik(t,e,n){return n===void 0&&(n=ou),t.theme!==n.theme&&t.theme||e||n.theme}var HR=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Dk=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ok=/(^-|-$)/g;function Ab(t){return t.replace(Dk,"-").replace(Ok,"")}var Nk=/(a)(d)/gi,Jf=52,Rb=function(t){return String.fromCharCode(t+(t>25?39:97))};function Jy(t){var e,n="";for(e=Math.abs(t);e>Jf;e=e/Jf|0)n=Rb(e%Jf)+n;return(Rb(e%Jf)+n).replace(Nk,"$1-$2")}var ry,GR=5381,zl=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},$R=function(t){return zl(GR,t)};function Mk(t){return Jy($R(t)>>>0)}function Pk(t){return t.displayName||t.name||"Component"}function iy(t){return typeof t=="string"&&!0}var KR=typeof Symbol=="function"&&Symbol.for,QR=KR?Symbol.for("react.memo"):60115,xk=KR?Symbol.for("react.forward_ref"):60112,kk={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Lk={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},YR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Vk=((ry={})[xk]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ry[QR]=YR,ry);function Cb(t){return("type"in(e=t)&&e.type.$$typeof)===QR?YR:"$$typeof"in t?Vk[t.$$typeof]:kk;var e}var Uk=Object.defineProperty,zk=Object.getOwnPropertyNames,Ib=Object.getOwnPropertySymbols,Bk=Object.getOwnPropertyDescriptor,jk=Object.getPrototypeOf,Db=Object.prototype;function XR(t,e,n){if(typeof e!="string"){if(Db){var i=jk(e);i&&i!==Db&&XR(t,i,n)}var a=zk(e);Ib&&(a=a.concat(Ib(e)));for(var l=Cb(t),c=Cb(e),d=0;d<a.length;++d){var p=a[d];if(!(p in Lk||n&&n[p]||c&&p in c||l&&p in l)){var m=Bk(e,p);try{Uk(t,p,m)}catch{}}}}return t}function lu(t){return typeof t=="function"}function Zv(t){return typeof t=="object"&&"styledComponentId"in t}function go(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Ob(t,e){if(t.length===0)return"";for(var n=t[0],i=1;i<t.length;i++)n+=t[i];return n}function eh(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Zy(t,e,n){if(n===void 0&&(n=!1),!n&&!eh(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)t[i]=Zy(t[i],e[i]);else if(eh(e))for(var i in e)t[i]=Zy(t[i],e[i]);return t}function e_(t,e){Object.defineProperty(t,"toString",{value:e})}function bh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Fk=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,i=0;i<e;i++)n+=this.groupSizes[i];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var i=this.groupSizes,a=i.length,l=a;e>=l;)if((l<<=1)<0)throw bh(16,"".concat(e));this.groupSizes=new Uint32Array(l),this.groupSizes.set(i),this.length=l;for(var c=a;c<l;c++)this.groupSizes[c]=0}for(var d=this.indexOfGroup(e+1),p=(c=0,n.length);c<p;c++)this.tag.insertRule(d,n[c])&&(this.groupSizes[e]++,d++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],i=this.indexOfGroup(e),a=i+n;this.groupSizes[e]=0;for(var l=i;l<a;l++)this.tag.deleteRule(i)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var i=this.groupSizes[e],a=this.indexOfGroup(e),l=a+i,c=a;c<l;c++)n+="".concat(this.tag.getRule(c)).concat(Jv);return n},t}(),gd=new Map,Vd=new Map,yd=1,Zf=function(t){if(gd.has(t))return gd.get(t);for(;Vd.has(yd);)yd++;var e=yd++;return gd.set(t,e),Vd.set(e,t),e},qk=function(t,e){yd=e+1,gd.set(t,e),Vd.set(e,t)},Hk="style[".concat(au,"][").concat(qR,'="').concat(vp,'"]'),Gk=new RegExp("^".concat(au,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),$k=function(t,e,n){for(var i,a=n.split(","),l=0,c=a.length;l<c;l++)(i=a[l])&&t.registerName(e,i)},Kk=function(t,e){for(var n,i=((n=e.textContent)!==null&&n!==void 0?n:"").split(Jv),a=[],l=0,c=i.length;l<c;l++){var d=i[l].trim();if(d){var p=d.match(Gk);if(p){var m=0|parseInt(p[1],10),y=p[2];m!==0&&(qk(y,m),$k(t,y,p[3]),t.getTag().insertRules(m,a)),a.length=0}else a.push(d)}}},Nb=function(t){for(var e=document.querySelectorAll(Hk),n=0,i=e.length;n<i;n++){var a=e[n];a&&a.getAttribute(au)!==FR&&(Kk(t,a),a.parentNode&&a.parentNode.removeChild(a))}};function Qk(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var WR=function(t){var e=document.head,n=t||e,i=document.createElement("style"),a=function(d){var p=Array.from(d.querySelectorAll("style[".concat(au,"]")));return p[p.length-1]}(n),l=a!==void 0?a.nextSibling:null;i.setAttribute(au,FR),i.setAttribute(qR,vp);var c=Qk();return c&&i.setAttribute("nonce",c),n.insertBefore(i,l),i},Yk=function(){function t(e){this.element=WR(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var i=document.styleSheets,a=0,l=i.length;a<l;a++){var c=i[a];if(c.ownerNode===n)return c}throw bh(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),Xk=function(){function t(e){this.element=WR(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var i=document.createTextNode(n);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),Wk=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),Mb=Ld,Jk={isServer:!Ld,useCSSOMInjection:!Ck},JR=function(){function t(e,n,i){e===void 0&&(e=ou),n===void 0&&(n={});var a=this;this.options=rr(rr({},Jk),e),this.gs=n,this.names=new Map(i),this.server=!!e.isServer,!this.server&&Ld&&Mb&&(Mb=!1,Nb(this)),e_(this,function(){return function(l){for(var c=l.getTag(),d=c.length,p="",m=function(_){var w=function(B){return Vd.get(B)}(_);if(w===void 0)return"continue";var S=l.names.get(w),R=c.getGroup(_);if(S===void 0||!S.size||R.length===0)return"continue";var N="".concat(au,".g").concat(_,'[id="').concat(w,'"]'),D="";S!==void 0&&S.forEach(function(B){B.length>0&&(D+="".concat(B,","))}),p+="".concat(R).concat(N,'{content:"').concat(D,'"}').concat(Jv)},y=0;y<d;y++)m(y);return p}(a)})}return t.registerId=function(e){return Zf(e)},t.prototype.rehydrate=function(){!this.server&&Ld&&Nb(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(rr(rr({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var i=n.useCSSOMInjection,a=n.target;return n.isServer?new Wk(a):i?new Yk(a):new Xk(a)}(this.options),new Fk(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Zf(e),this.names.has(e))this.names.get(e).add(n);else{var i=new Set;i.add(n),this.names.set(e,i)}},t.prototype.insertRules=function(e,n,i){this.registerName(e,n),this.getTag().insertRules(Zf(e),i)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Zf(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Zk=/&/g,e2=/^\s*\/\/.*$/gm;function ZR(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(i){return"".concat(e," ").concat(i)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=ZR(n.children,e)),n})}function t2(t){var e,n,i,a=ou,l=a.options,c=l===void 0?ou:l,d=a.plugins,p=d===void 0?_p:d,m=function(w,S,R){return R.startsWith(n)&&R.endsWith(n)&&R.replaceAll(n,"").length>0?".".concat(e):w},y=p.slice();y.push(function(w){w.type===pp&&w.value.includes("&")&&(w.props[0]=w.props[0].replace(Zk,n).replace(i,m))}),c.prefix&&y.push(Ak),y.push(wk);var _=function(w,S,R,N){S===void 0&&(S=""),R===void 0&&(R=""),N===void 0&&(N="&"),e=N,n=S,i=new RegExp("\\".concat(n,"\\b"),"g");var D=w.replace(e2,""),B=Ek(R||S?"".concat(R," ").concat(S," { ").concat(D," }"):D);c.namespace&&(B=ZR(B,c.namespace));var H=[];return kd(B,bk(y.concat(Sk(function(q){return H.push(q)})))),H};return _.hash=p.length?p.reduce(function(w,S){return S.name||bh(15),zl(w,S.name)},GR).toString():"",_}var n2=new JR,ev=t2(),e1=Vi.createContext({shouldForwardProp:void 0,styleSheet:n2,stylis:ev});e1.Consumer;Vi.createContext(void 0);function Pb(){return K.useContext(e1)}var r2=function(){function t(e,n){var i=this;this.inject=function(a,l){l===void 0&&(l=ev);var c=i.name+l.hash;a.hasNameForId(i.id,c)||a.insertRules(i.id,c,l(i.rules,c,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,e_(this,function(){throw bh(12,String(i.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=ev),this.name+e.hash},t}(),i2=function(t){return t>="A"&&t<="Z"};function xb(t){for(var e="",n=0;n<t.length;n++){var i=t[n];if(n===1&&i==="-"&&t[0]==="-")return t;i2(i)?e+="-"+i.toLowerCase():e+=i}return e.startsWith("ms-")?"-"+e:e}var t1=function(t){return t==null||t===!1||t===""},n1=function(t){var e,n,i=[];for(var a in t){var l=t[a];t.hasOwnProperty(a)&&!t1(l)&&(Array.isArray(l)&&l.isCss||lu(l)?i.push("".concat(xb(a),":"),l,";"):eh(l)?i.push.apply(i,xd(xd(["".concat(a," {")],n1(l),!1),["}"],!1)):i.push("".concat(xb(a),": ").concat((e=a,(n=l)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in Rk||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return i};function Oo(t,e,n,i){if(t1(t))return[];if(Zv(t))return[".".concat(t.styledComponentId)];if(lu(t)){if(!lu(l=t)||l.prototype&&l.prototype.isReactComponent||!e)return[t];var a=t(e);return Oo(a,e,n,i)}var l;return t instanceof r2?n?(t.inject(n,i),[t.getName(i)]):[t]:eh(t)?n1(t):Array.isArray(t)?Array.prototype.concat.apply(_p,t.map(function(c){return Oo(c,e,n,i)})):[t.toString()]}function s2(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(lu(n)&&!Zv(n))return!1}return!0}var a2=$R(vp),o2=function(){function t(e,n,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&s2(e),this.componentId=n,this.baseHash=zl(a2,n),this.baseStyle=i,JR.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,i){var a=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))a=go(a,this.staticRulesId);else{var l=Ob(Oo(this.rules,e,n,i)),c=Jy(zl(this.baseHash,l)>>>0);if(!n.hasNameForId(this.componentId,c)){var d=i(l,".".concat(c),void 0,this.componentId);n.insertRules(this.componentId,c,d)}a=go(a,c),this.staticRulesId=c}else{for(var p=zl(this.baseHash,i.hash),m="",y=0;y<this.rules.length;y++){var _=this.rules[y];if(typeof _=="string")m+=_;else if(_){var w=Ob(Oo(_,e,n,i));p=zl(p,w+y),m+=w}}if(m){var S=Jy(p>>>0);n.hasNameForId(this.componentId,S)||n.insertRules(this.componentId,S,i(m,".".concat(S),void 0,this.componentId)),a=go(a,S)}}return a},t}(),r1=Vi.createContext(void 0);r1.Consumer;var sy={};function l2(t,e,n){var i=Zv(t),a=t,l=!iy(t),c=e.attrs,d=c===void 0?_p:c,p=e.componentId,m=p===void 0?function(ie,M){var re=typeof ie!="string"?"sc":Ab(ie);sy[re]=(sy[re]||0)+1;var O="".concat(re,"-").concat(Mk(vp+re+sy[re]));return M?"".concat(M,"-").concat(O):O}(e.displayName,e.parentComponentId):p,y=e.displayName,_=y===void 0?function(ie){return iy(ie)?"styled.".concat(ie):"Styled(".concat(Pk(ie),")")}(t):y,w=e.displayName&&e.componentId?"".concat(Ab(e.displayName),"-").concat(e.componentId):e.componentId||m,S=i&&a.attrs?a.attrs.concat(d).filter(Boolean):d,R=e.shouldForwardProp;if(i&&a.shouldForwardProp){var N=a.shouldForwardProp;if(e.shouldForwardProp){var D=e.shouldForwardProp;R=function(ie,M){return N(ie,M)&&D(ie,M)}}else R=N}var B=new o2(n,w,i?a.componentStyle:void 0);function H(ie,M){return function(re,O,C){var I=re.attrs,k=re.componentStyle,U=re.defaultProps,F=re.foldedComponentIds,x=re.styledComponentId,Ut=re.target,He=Vi.useContext(r1),ne=Pb(),me=re.shouldForwardProp||ne.shouldForwardProp,we=Ik(O,He,U)||ou,Pe=function(xe,Ne,kt){for(var lt,ut=rr(rr({},Ne),{className:void 0,theme:kt}),an=0;an<xe.length;an+=1){var Tn=lu(lt=xe[an])?lt(ut):lt;for(var fn in Tn)ut[fn]=fn==="className"?go(ut[fn],Tn[fn]):fn==="style"?rr(rr({},ut[fn]),Tn[fn]):Tn[fn]}return Ne.className&&(ut.className=go(ut.className,Ne.className)),ut}(I,O,we),L=Pe.as||Ut,le={};for(var de in Pe)Pe[de]===void 0||de[0]==="$"||de==="as"||de==="theme"&&Pe.theme===we||(de==="forwardedAs"?le.as=Pe.forwardedAs:me&&!me(de,L)||(le[de]=Pe[de]));var fe=function(xe,Ne){var kt=Pb(),lt=xe.generateAndInjectStyles(Ne,kt.styleSheet,kt.stylis);return lt}(k,Pe),Se=go(F,x);return fe&&(Se+=" "+fe),Pe.className&&(Se+=" "+Pe.className),le[iy(L)&&!HR.has(L)?"class":"className"]=Se,C&&(le.ref=C),K.createElement(L,le)}(q,ie,M)}H.displayName=_;var q=Vi.forwardRef(H);return q.attrs=S,q.componentStyle=B,q.displayName=_,q.shouldForwardProp=R,q.foldedComponentIds=i?go(a.foldedComponentIds,a.styledComponentId):"",q.styledComponentId=w,q.target=i?a.target:t,Object.defineProperty(q,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ie){this._foldedDefaultProps=i?function(M){for(var re=[],O=1;O<arguments.length;O++)re[O-1]=arguments[O];for(var C=0,I=re;C<I.length;C++)Zy(M,I[C],!0);return M}({},a.defaultProps,ie):ie}}),e_(q,function(){return".".concat(q.styledComponentId)}),l&&XR(q,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),q}function kb(t,e){for(var n=[t[0]],i=0,a=e.length;i<a;i+=1)n.push(e[i],t[i+1]);return n}var Lb=function(t){return Object.assign(t,{isCss:!0})};function u2(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(lu(t)||eh(t))return Lb(Oo(kb(_p,xd([t],e,!0))));var i=t;return e.length===0&&i.length===1&&typeof i[0]=="string"?Oo(i):Lb(Oo(kb(i,e)))}function tv(t,e,n){if(n===void 0&&(n=ou),!e)throw bh(1,e);var i=function(a){for(var l=[],c=1;c<arguments.length;c++)l[c-1]=arguments[c];return t(e,n,u2.apply(void 0,xd([a],l,!1)))};return i.attrs=function(a){return tv(t,e,rr(rr({},n),{attrs:Array.prototype.concat(n.attrs,a).filter(Boolean)}))},i.withConfig=function(a){return tv(t,e,rr(rr({},n),a))},i}var i1=function(t){return tv(l2,t)},Tu=i1;HR.forEach(function(t){Tu[t]=i1(t)});const c2=Tu.div`
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-evenly;
  width: 30px;
  height: 30px;
  cursor: pointer;

  span {
    width: 100%;
    height: 2px;
    background-color: white;
  }
`,h2=Vi.memo(({onClick:t})=>Fe.jsxs(c2,{onClick:t,children:[Fe.jsx("span",{}),Fe.jsx("span",{}),Fe.jsx("span",{})]})),s1=Tu.nav`
  ul {
    display: flex;
    flex-direction: row;
    gap: 10px;

    li {
      list-style-type: none;
    }
  }
`,f2=Tu.header`
  display: flex;
  flex-direction: row;
  background-color: black;
  padding: 10px;

  ${s1} {
    display: flex;
    flex-direction: row;
    width: 100%;
    justify-content: center;
    align-items: center;

    a {
      color: white;
      font-size: 1.2rem;
      text-decoration: none;
      transition: all 1s;

      &::after {
        content: "";
        display: block;
        width: 100%;
        height: 2px;
        background-color: white;
        opacity: 0;
        transition: all 1s;
      }

      &:hover {
        &::after {
          opacity: 1;
        }
      }

      &.active {
        font-weight: bold;
        &::after {
          opacity: 1;
        }
      }
    }
  }
`,d2=()=>Fe.jsx(s1,{children:Fe.jsxs("ul",{children:[Fe.jsx("li",{children:Fe.jsx(ud,{to:"/",children:"Home"})}),Fe.jsx("li",{children:Fe.jsx(ud,{to:"/blog",children:"Blog"})}),Fe.jsx("li",{children:Fe.jsx(ud,{to:"/chat",children:"Chat"})})]})}),a1=K.createContext({userName:"",isAuthenticated:!1,login:function(){throw new Error("Function not implemented.")},logout:function(){throw new Error("Function not implemented.")}}),p2=()=>K.useContext(a1),m2=Tu.div`
    display: flex;
    flex-direction: column;
    color: white;
    gap: 10px;
`,g2=Tu.div`
    display: flex;
    flex-direction: row;
    color: white;
    gap: 10px;
    align-items: center;
`,y2=()=>{const{isAuthenticated:t,login:e,logout:n,userName:i}=p2(),a=async()=>{await e()},l=async()=>{await n()};return Fe.jsxs(m2,{children:[!t&&Fe.jsx("button",{onClick:a,children:"Login"}),t&&Fe.jsxs(g2,{children:[Fe.jsxs("div",{children:["Welcome ",i]}),Fe.jsx("button",{onClick:l,children:"Logout"})]})]})},v2=()=>{const[t,e]=K.useState(!0),n=K.useCallback(()=>{e(!t)},[t]);return Fe.jsxs(f2,{children:[Fe.jsx(h2,{onClick:n}),t&&Fe.jsx(d2,{}),Fe.jsx(y2,{})]})},ay=Vi.memo(({children:t})=>Fe.jsxs(Fe.Fragment,{children:[Fe.jsx(v2,{}),Fe.jsx("main",{children:t})]}));function th(){return th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},th.apply(null,arguments)}function _2(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function nv(t,e){return nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nv(t,e)}function o1(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,nv(t,e)}function E2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var l1=K.createContext(null),T2=l1.Consumer,w2=l1.Provider,u1=function(t){o1(e,t);function e(){for(var i,a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return i=t.call.apply(t,[this].concat(l))||this,i.state={canUseDOM:!1},i.headTags=null,i.index=-1,i}var n=e.prototype;return n.componentDidMount=function(){var a=this.props,l=a.tag,c=a.name,d=a.property;this.setState({canUseDOM:!0}),this.index=this.headTags.addClientTag(l,c||d)},n.componentWillUnmount=function(){var a=this.props.tag;this.headTags.removeClientTag(a,this.index)},n.render=function(){var a=this,l=this.props,c=l.tag,d=_2(l,["tag"]),p=this.state.canUseDOM;return K.createElement(T2,null,function(m){if(m==null)throw Error("<HeadProvider /> should be in the tree");if(a.headTags=m,p){if(!m.shouldRenderTag(c,a.index))return null;var y=K.createElement(c,d);return cR.createPortal(y,document.head)}var _=K.createElement(c,th({"data-rh":""},d));return m.addServerTag(_),null})},e}(K.Component),oy=["title","meta"],b2=function(t){o1(e,t);function e(){for(var i,a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return i=t.call.apply(t,[this].concat(l))||this,i.indices=new Map,i.state={addClientTag:function(p,m){if(oy.indexOf(p)!==-1){i.setState(function(S){var R,N=S[p]||[];return R={},R[p]=[].concat(N,[m]),R});var y=E2(i),_=y.indices,w=_.has(p)?_.get(p)+1:0;return _.set(p,w),w}return-1},shouldRenderTag:function(p,m){if(oy.indexOf(p)!==-1){var y=i.state[p];return y&&y.lastIndexOf(y[m])===m}return!0},removeClientTag:function(p,m){i.setState(function(y){var _=y[p];if(_){var w;return _[m]=null,w={},w[p]=_,w}return null})},addServerTag:function(p){var m=i.props.headTags,y=m===void 0?[]:m;if(oy.indexOf(p.type)!==-1){var _=y.findIndex(function(w){var S=w.props.name||w.props.property,R=p.props.name||p.props.property;return w.type===p.type&&S===R});_!==-1&&y.splice(_,1)}y.push(p)}},i}var n=e.prototype;return n.componentDidMount=function(){var a=document.head.querySelectorAll('[data-rh=""]');Array.prototype.forEach.call(a,function(l){return l.parentNode.removeChild(l)})},n.render=function(){var a=this.props,l=a.headTags,c=a.children;if(typeof window>"u"&&Array.isArray(l)===!1)throw Error("headTags array should be passed to <HeadProvider /> in node");return K.createElement(w2,{value:this.state},c)},e}(K.Component),CB=function(e){return K.createElement(u1,th({tag:"title"},e))},IB=function(e){return K.createElement(u1,th({tag:"meta"},e))};const S2=()=>{};var Vb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},A2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},h1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,p=a+2<t.length,m=p?t[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let w=(d&15)<<2|m>>6,S=m&63;p||(S=64,c||(w=64)),i.push(n[y],n[_],n[w],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):A2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||m==null||_==null)throw new R2;const w=l<<2|d>>4;if(i.push(w),m!==64){const S=d<<4&240|m>>2;if(i.push(S),_!==64){const R=m<<6&192|_;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class R2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C2=function(t){const e=c1(t);return h1.encodeByteArray(e,!0)},Ud=function(t){return C2(t).replace(/\./g,"")},f1=function(t){try{return h1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=()=>I2().__FIREBASE_DEFAULTS__,O2=()=>{if(typeof process>"u"||typeof Vb>"u")return;const t=Vb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},N2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&f1(t[1]);return e&&JSON.parse(e)},Ep=()=>{try{return S2()||D2()||O2()||N2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},d1=t=>{var e,n;return(n=(e=Ep())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},M2=t=>{const e=d1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},p1=()=>{var t;return(t=Ep())===null||t===void 0?void 0:t.config},m1=t=>{var e;return(e=Ep())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ud(JSON.stringify(n)),Ud(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())}function L2(){var t;const e=(t=Ep())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function V2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function U2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function z2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B2(){const t=Un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function j2(){return!L2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g1(){try{return typeof indexedDB=="object"}catch{return!1}}function y1(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}function F2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="FirebaseError";class Fi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=q2,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fo.prototype.create)}}class Fo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?H2(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Fi(a,d,i)}}function H2(t,e){return t.replace(G2,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const G2=/\{\$([^}]+)}/g;function $2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xo(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(Ub(l)&&Ub(c)){if(!xo(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Ub(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function K2(t,e){const n=new Q2(t,e);return n.subscribe.bind(n)}class Q2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Y2(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=ly),a.error===void 0&&(a.error=ly),a.complete===void 0&&(a.complete=ly);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ly(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t){return t&&t._delegate?t._delegate:t}class ii{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new P2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J2(e))try{this.getOrInitializeService({instanceIdentifier:ho})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ho){return this.instances.has(e)}getOptions(e=ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:W2(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ho){return this.component?this.component.multipleInstances?e:ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function W2(t){return t===ho?void 0:t}function J2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const eL={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},tL=it.INFO,nL={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},rL=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=nL[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t_{constructor(e){this.name=e,this._logLevel=tL,this._logHandler=rL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const iL=(t,e)=>e.some(n=>t instanceof n);let zb,Bb;function sL(){return zb||(zb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aL(){return Bb||(Bb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v1=new WeakMap,rv=new WeakMap,_1=new WeakMap,uy=new WeakMap,n_=new WeakMap;function oL(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Ss(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&v1.set(n,t)}).catch(()=>{}),n_.set(e,t),e}function lL(t){if(rv.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});rv.set(t,e)}let iv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ss(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uL(t){iv=t(iv)}function cL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(cy(this),e,...n);return _1.set(i,e.sort?e.sort():[e]),Ss(i)}:aL().includes(t)?function(...e){return t.apply(cy(this),e),Ss(v1.get(this))}:function(...e){return Ss(t.apply(cy(this),e))}}function hL(t){return typeof t=="function"?cL(t):(t instanceof IDBTransaction&&lL(t),iL(t,sL())?new Proxy(t,iv):t)}function Ss(t){if(t instanceof IDBRequest)return oL(t);if(uy.has(t))return uy.get(t);const e=hL(t);return e!==t&&(uy.set(t,e),n_.set(e,t)),e}const cy=t=>n_.get(t);function Tp(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=Ss(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Ss(c.result),p.oldVersion,p.newVersion,Ss(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}function hy(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",i=>e(i.oldVersion,i)),Ss(n).then(()=>{})}const fL=["get","getKey","getAll","getAllKeys","count"],dL=["put","add","delete","clear"],fy=new Map;function jb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fy.get(e))return fy.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=dL.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||fL.includes(n)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),a&&p.done]))[0]};return fy.set(e,l),l}uL(t=>({...t,get:(e,n,i)=>jb(e,n)||t.get(e,n,i),has:(e,n)=>!!jb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mL(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function mL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sv="@firebase/app",Fb="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new t_("@firebase/app"),gL="@firebase/app-compat",yL="@firebase/analytics-compat",vL="@firebase/analytics",_L="@firebase/app-check-compat",EL="@firebase/app-check",TL="@firebase/auth",wL="@firebase/auth-compat",bL="@firebase/database",SL="@firebase/data-connect",AL="@firebase/database-compat",RL="@firebase/functions",CL="@firebase/functions-compat",IL="@firebase/installations",DL="@firebase/installations-compat",OL="@firebase/messaging",NL="@firebase/messaging-compat",ML="@firebase/performance",PL="@firebase/performance-compat",xL="@firebase/remote-config",kL="@firebase/remote-config-compat",LL="@firebase/storage",VL="@firebase/storage-compat",UL="@firebase/firestore",zL="@firebase/vertexai",BL="@firebase/firestore-compat",jL="firebase",FL="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="[DEFAULT]",qL={[sv]:"fire-core",[gL]:"fire-core-compat",[vL]:"fire-analytics",[yL]:"fire-analytics-compat",[EL]:"fire-app-check",[_L]:"fire-app-check-compat",[TL]:"fire-auth",[wL]:"fire-auth-compat",[bL]:"fire-rtdb",[SL]:"fire-data-connect",[AL]:"fire-rtdb-compat",[RL]:"fire-fn",[CL]:"fire-fn-compat",[IL]:"fire-iid",[DL]:"fire-iid-compat",[OL]:"fire-fcm",[NL]:"fire-fcm-compat",[ML]:"fire-perf",[PL]:"fire-perf-compat",[xL]:"fire-rc",[kL]:"fire-rc-compat",[LL]:"fire-gcs",[VL]:"fire-gcs-compat",[UL]:"fire-fst",[BL]:"fire-fst-compat",[zL]:"fire-vertex","fire-js":"fire-js",[jL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new Map,HL=new Map,ov=new Map;function qb(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ui(t){const e=t.name;if(ov.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;ov.set(e,t);for(const n of zd.values())qb(n,t);for(const n of HL.values())qb(n,t);return!0}function wu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ta=new Fo("app","Firebase",GL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ta.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=FL;function E1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:av,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Ta.create("bad-app-name",{appName:String(a)});if(n||(n=p1()),!n)throw Ta.create("no-options");const l=zd.get(a);if(l){if(xo(n,l.options)&&xo(i,l.config))return l;throw Ta.create("duplicate-app",{appName:a})}const c=new Z2(a);for(const p of ov.values())c.addComponent(p);const d=new $L(n,i,c);return zd.set(a,d),d}function r_(t=av){const e=zd.get(t);if(!e&&t===av&&p1())return E1();if(!e)throw Ta.create("no-app",{appName:t});return e}function Br(t,e,n){var i;let a=(i=qL[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(d.join(" "));return}Ui(new ii(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="firebase-heartbeat-database",QL=1,nh="firebase-heartbeat-store";let dy=null;function T1(){return dy||(dy=Tp(KL,QL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ta.create("idb-open",{originalErrorMessage:t.message})})),dy}async function YL(t){try{const n=(await T1()).transaction(nh),i=await n.objectStore(nh).get(w1(t));return await n.done,i}catch(e){if(e instanceof Fi)Is.warn(e.message);else{const n=Ta.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Is.warn(n.message)}}}async function Hb(t,e){try{const i=(await T1()).transaction(nh,"readwrite");await i.objectStore(nh).put(e,w1(t)),await i.done}catch(n){if(n instanceof Fi)Is.warn(n.message);else{const i=Ta.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Is.warn(i.message)}}}function w1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=1024,WL=30;class JL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eV(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Gb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>WL){const c=tV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Is.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gb(),{heartbeatsToSend:i,unsentEntries:a}=ZL(this._heartbeatsCache.heartbeats),l=Ud(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Is.warn(n),""}}}function Gb(){return new Date().toISOString().substring(0,10)}function ZL(t,e=XL){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),$b(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),$b(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class eV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g1()?y1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Hb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Hb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function $b(t){return Ud(JSON.stringify({version:2,heartbeats:t})).length}function tV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){Ui(new ii("platform-logger",e=>new pL(e),"PRIVATE")),Ui(new ii("heartbeat",e=>new JL(e),"PRIVATE")),Br(sv,Fb,t),Br(sv,Fb,"esm2017"),Br("fire-js","")}nV("");var rV="firebase",iV="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(rV,iV,"app");function i_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function b1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sV=b1,S1=new Fo("auth","Firebase",b1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new t_("@firebase/auth");function aV(t,...e){Bd.logLevel<=it.WARN&&Bd.warn(`Auth (${bu}): ${t}`,...e)}function vd(t,...e){Bd.logLevel<=it.ERROR&&Bd.error(`Auth (${bu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t,...e){throw a_(t,...e)}function ri(t,...e){return a_(t,...e)}function s_(t,e,n){const i=Object.assign(Object.assign({},sV()),{[e]:n});return new Fo("auth","Firebase",i).create(e,{appName:t.name})}function No(t){return s_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oV(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&zi(t,"argument-error"),s_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function a_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return S1.create(t,...e)}function Be(t,e,...n){if(!t)throw a_(e,...n)}function ws(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vd(e),new Error(e)}function Ds(t,e){t||ws(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lV(){return Kb()==="http:"||Kb()==="https:"}function Kb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lV()||U2()||"connection"in navigator)?navigator.onLine:!0}function cV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ds(n>e,"Short delay should be less than long delay!"),this.isMobile=k2()||z2()}get(){return uV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t,e){Ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dV=new Ah(3e4,6e4);function l_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Su(t,e,n,i,a={}){return R1(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Sh(Object.assign({key:t.config.apiKey},c)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:p},l);return V2()||(m.referrerPolicy="no-referrer"),A1.fetch()(await C1(t,t.config.apiHost,n,d),m)})}async function R1(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},hV),e);try{const a=new mV(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ed(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ed(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw ed(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw ed(t,"user-disabled",c);const y=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw s_(t,y,m);zi(t,y)}}catch(a){if(a instanceof Fi)throw a;zi(t,"network-request-failed",{message:String(a)})}}async function pV(t,e,n,i,a={}){const l=await Su(t,e,n,i,a);return"mfaPendingCredential"in l&&zi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function C1(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?o_(t.config,a):`${t.config.apiScheme}://${a}`;return fV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class mV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ri(this.auth,"network-request-failed")),dV.get())})}}function ed(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=ri(t,e,i);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(t,e){return Su(t,"POST","/v1/accounts:delete",e)}async function jd(t,e){return Su(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yV(t,e=!1){const n=zn(t),i=await n.getIdToken(e),a=u_(i);Be(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Hc(py(a.auth_time)),issuedAtTime:Hc(py(a.iat)),expirationTime:Hc(py(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function py(t){return Number(t)*1e3}function u_(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return vd("JWT malformed, contained fewer than 3 sections"),null;try{const a=f1(n);return a?JSON.parse(a):(vd("Failed to decode base64 JWT payload"),null)}catch(a){return vd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Qb(t){const e=u_(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Fi&&vV(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function vV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hc(this.lastLoginAt),this.creationTime=Hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(t){var e;const n=t.auth,i=await t.getIdToken(),a=await rh(t,jd(n,{idToken:i}));Be(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?I1(l.providerUserInfo):[],d=TV(t.providerData,c),p=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!(d!=null&&d.length),y=p?m:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new uv(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function EV(t){const e=zn(t);await Fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TV(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function I1(t){return t.map(e=>{var{providerId:n}=e,i=i_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(t,e){const n=await R1(t,{},async()=>{const i=Sh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await C1(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",A1.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bV(t,e){return Su(t,"POST","/v2/accounts:revokeToken",l_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=Qb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await wV(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new jl;return i&&(Be(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Be(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Be(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ei{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=i_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _V(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new uv(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await rh(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yV(this,e)}reload(){return EV(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Fd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zr(this.auth.app))return Promise.reject(No(this.auth));const e=await this.getIdToken();return await rh(this,gV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,c,d,p,m,y;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,w=(a=n.email)!==null&&a!==void 0?a:void 0,S=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,R=(c=n.photoURL)!==null&&c!==void 0?c:void 0,N=(d=n.tenantId)!==null&&d!==void 0?d:void 0,D=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,B=(m=n.createdAt)!==null&&m!==void 0?m:void 0,H=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:q,emailVerified:ie,isAnonymous:M,providerData:re,stsTokenManager:O}=n;Be(q&&O,e,"internal-error");const C=jl.fromJSON(this.name,O);Be(typeof q=="string",e,"internal-error"),sa(_,e.name),sa(w,e.name),Be(typeof ie=="boolean",e,"internal-error"),Be(typeof M=="boolean",e,"internal-error"),sa(S,e.name),sa(R,e.name),sa(N,e.name),sa(D,e.name),sa(B,e.name),sa(H,e.name);const I=new ei({uid:q,auth:e,email:w,emailVerified:ie,displayName:_,isAnonymous:M,photoURL:R,phoneNumber:S,tenantId:N,stsTokenManager:C,createdAt:B,lastLoginAt:H});return re&&Array.isArray(re)&&(I.providerData=re.map(k=>Object.assign({},k))),D&&(I._redirectEventId=D),I}static async _fromIdTokenResponse(e,n,i=!1){const a=new jl;a.updateFromServerResponse(n);const l=new ei({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Fd(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Be(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?I1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new jl;d.updateFromIdToken(i);const p=new ei({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new uv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=new Map;function bs(t){Ds(t instanceof Function,"Expected a class definition");let e=Yb.get(t);return e?(Ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Yb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}D1.type="NONE";const Xb=D1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t,e,n){return`firebase:${t}:${e}:${n}`}class Fl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=_d(this.userKey,a.apiKey,l),this.fullPersistenceKey=_d("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jd(this.auth,{idToken:e}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Fl(bs(Xb),e,i);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||bs(Xb);const c=_d(i,e.config.apiKey,e.name);let d=null;for(const m of n)try{const y=await m._get(c);if(y){let _;if(typeof y=="string"){const w=await jd(e,{idToken:y}).catch(()=>{});if(!w)break;_=await ei._fromGetAccountInfoResponse(e,w,y)}else _=ei._fromJSON(e,y);m!==l&&(d=_),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Fl(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Fl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k1(e))return"Blackberry";if(L1(e))return"Webos";if(N1(e))return"Safari";if((e.includes("chrome/")||M1(e))&&!e.includes("edge/"))return"Chrome";if(x1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function O1(t=Un()){return/firefox\//i.test(t)}function N1(t=Un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function M1(t=Un()){return/crios\//i.test(t)}function P1(t=Un()){return/iemobile/i.test(t)}function x1(t=Un()){return/android/i.test(t)}function k1(t=Un()){return/blackberry/i.test(t)}function L1(t=Un()){return/webos/i.test(t)}function c_(t=Un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SV(t=Un()){var e;return c_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AV(){return B2()&&document.documentMode===10}function V1(t=Un()){return c_(t)||x1(t)||L1(t)||k1(t)||/windows phone/i.test(t)||P1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t,e=[]){let n;switch(t){case"Browser":n=Wb(Un());break;case"Worker":n=`${Wb(Un())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CV(t,e={}){return Su(t,"GET","/v2/passwordPolicy",l_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=6;class DV{constructor(e){var n,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:IV,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jb(this),this.idTokenSubscription=new Jb(this),this.beforeStateQueue=new RV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bs(n)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await Fl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jd(this,{idToken:e}),i=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zr(this.app))return Promise.reject(No(this));const n=e?zn(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zr(this.app)?Promise.reject(No(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zr(this.app)?Promise.reject(No(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CV(this),n=new DV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await bV(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bs(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await Fl.create(this,[bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=U1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&aV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wp(t){return zn(t)}class Jb{constructor(e){this.auth=e,this.observer=null,this.addObserver=K2(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NV(t){h_=t}function MV(t){return h_.loadJS(t)}function PV(){return h_.gapiScript}function xV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t,e){const n=wu(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(xo(l,e??{}))return a;zi(a,"already-initialized")}return n.initialize({options:e})}function LV(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(bs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function VV(t,e,n){const i=wp(t);Be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=z1(e),{host:c,port:d}=UV(e),p=d===null?"":`:${d}`,m={url:`${l}//${c}${p}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Be(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Be(xo(m,i.config.emulator)&&xo(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,zV()}function z1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UV(t){const e=z1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Zb(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Zb(c)}}}function Zb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ws("not implemented")}_getIdTokenResponse(e){return ws("not implemented")}_linkToIdToken(e,n){return ws("not implemented")}_getReauthenticationResolver(e){return ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t,e){return pV(t,"POST","/v1/accounts:signInWithIdp",l_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV="http://localhost";class ko extends B1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ko(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=i_(n,["providerId","signInMethod"]);if(!i||!a)return null;const c=new ko(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ql(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ql(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ql(e,n)}buildRequest(){const e={requestUri:BV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends f_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends Rh{constructor(){super("facebook.com")}static credential(e){return ko._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ca.credential(e.oauthAccessToken)}catch{return null}}}ca.FACEBOOK_SIGN_IN_METHOD="facebook.com";ca.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Rh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ko._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ts.credential(n,i)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends Rh{constructor(){super("github.com")}static credential(e){return ko._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ha.credential(e.oauthAccessToken)}catch{return null}}}ha.GITHUB_SIGN_IN_METHOD="github.com";ha.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Rh{constructor(){super("twitter.com")}static credential(e,n){return ko._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return fa.credential(n,i)}catch{return null}}}fa.TWITTER_SIGN_IN_METHOD="twitter.com";fa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await ei._fromIdTokenResponse(e,i,a),c=eS(i);return new uu({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=eS(i);return new uu({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function eS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends Fi{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,qd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new qd(e,n,i,a)}}function j1(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?qd._fromErrorAndOperation(t,l,e,i):l})}async function jV(t,e,n=!1){const i=await rh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return uu._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV(t,e,n=!1){const{auth:i}=t;if(Zr(i.app))return Promise.reject(No(i));const a="reauthenticate";try{const l=await rh(t,j1(i,a,e,t),n);Be(l.idToken,i,"internal-error");const c=u_(l.idToken);Be(c,i,"internal-error");const{sub:d}=c;return Be(t.uid===d,i,"user-mismatch"),uu._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&zi(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(t,e,n=!1){if(Zr(t.app))return Promise.reject(No(t));const i="signIn",a=await j1(t,i,e),l=await uu._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function HV(t,e,n,i){return zn(t).onIdTokenChanged(e,n,i)}function GV(t,e,n){return zn(t).beforeAuthStateChanged(e,n)}function $V(t){return zn(t).signOut()}const Hd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hd,"1"),this.storage.removeItem(Hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=1e3,QV=10;class q1 extends F1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);AV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,QV):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},KV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}q1.type="LOCAL";const YV=q1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1 extends F1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}H1.type="SESSION";const G1=H1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new bp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async m=>m(n.origin,l)),p=await XV(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const m=d_("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(_){const w=_;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function JV(t){xi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function ZV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function tU(){return $1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="firebaseLocalStorageDb",nU=1,Gd="firebaseLocalStorage",Q1="fbase_key";class Ch{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sp(t,e){return t.transaction([Gd],e?"readwrite":"readonly").objectStore(Gd)}function rU(){const t=indexedDB.deleteDatabase(K1);return new Ch(t).toPromise()}function cv(){const t=indexedDB.open(K1,nU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Gd,{keyPath:Q1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Gd)?e(i):(i.close(),await rU(),e(await cv()))})})}async function tS(t,e,n){const i=Sp(t,!0).put({[Q1]:e,value:n});return new Ch(i).toPromise()}async function iU(t,e){const n=Sp(t,!1).get(e),i=await new Ch(n).toPromise();return i===void 0?null:i.value}function nS(t,e){const n=Sp(t,!0).delete(e);return new Ch(n).toPromise()}const sU=800,aU=3;class Y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>aU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bp._getInstance(tU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ZV(),!this.activeServiceWorker)return;this.sender=new WV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cv();return await tS(e,Hd,"1"),await nS(e,Hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>tS(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>iU(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Sp(a,!1).getAll();return new Ch(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y1.type="LOCAL";const oU=Y1;new Ah(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t,e){return e?bs(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_ extends B1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ql(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ql(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ql(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lU(t){return qV(t.auth,new p_(t),t.bypassAuthState)}function uU(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),FV(n,new p_(t),t.bypassAuthState)}async function cU(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),jV(n,new p_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lU;case"linkViaPopup":case"linkViaRedirect":return cU;case"reauthViaPopup":case"reauthViaRedirect":return uU;default:zi(this.auth,"internal-error")}}resolve(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=new Ah(2e3,1e4);async function fU(t,e,n){if(Zr(t.app))return Promise.reject(ri(t,"operation-not-supported-in-this-environment"));const i=wp(t);oV(t,e,f_);const a=X1(i,n);return new yo(i,"signInViaPopup",e,a).executeNotNull()}class yo extends W1{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){Ds(this.filter.length===1,"Popup operations only handle one event");const e=d_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hU.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU="pendingRedirect",Ed=new Map;class pU extends W1{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Ed.get(this.auth._key());if(!e){try{const i=await mU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Ed.set(this.auth._key(),e)}return this.bypassAuthState||Ed.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mU(t,e){const n=vU(e),i=yU(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function gU(t,e){Ed.set(t._key(),e)}function yU(t){return bs(t._redirectPersistence)}function vU(t){return _d(dU,t.config.apiKey,t.name)}async function _U(t,e,n=!1){if(Zr(t.app))return Promise.reject(No(t));const i=wp(t),a=X1(i,e),c=await new pU(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=10*60*1e3;class TU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!J1(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ri(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EU&&this.cachedEventUids.clear(),this.cachedEventUids.has(rS(e))}saveEventToCache(e){this.cachedEventUids.add(rS(e)),this.lastProcessedEventTime=Date.now()}}function rS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function J1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(t,e={}){return Su(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AU=/^https?/;async function RU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bU(t);for(const n of e)try{if(CU(n))return}catch{}zi(t,"unauthorized-domain")}function CU(t){const e=lv(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!AU.test(n))return!1;if(SU.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=new Ah(3e4,6e4);function iS(){const t=xi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function DU(t){return new Promise((e,n)=>{var i,a,l;function c(){iS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iS(),n(ri(t,"network-request-failed"))},timeout:IU.get()})}if(!((a=(i=xi().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=xi().gapi)===null||l===void 0)&&l.load)c();else{const d=xV("iframefcb");return xi()[d]=()=>{gapi.load?c():n(ri(t,"network-request-failed"))},MV(`${PV()}?onload=${d}`).catch(p=>n(p))}}).catch(e=>{throw Td=null,e})}let Td=null;function OU(t){return Td=Td||DU(t),Td}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=new Ah(5e3,15e3),MU="__/auth/iframe",PU="emulator/auth/iframe",xU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LU(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?o_(e,PU):`https://${t.config.authDomain}/${MU}`,i={apiKey:e.apiKey,appName:t.name,v:bu},a=kU.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Sh(i).slice(1)}`}async function VU(t){const e=await OU(t),n=xi().gapi;return Be(n,t,"internal-error"),e.open({where:document.body,url:LU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xU,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=ri(t,"network-request-failed"),d=xi().setTimeout(()=>{l(c)},NU.get());function p(){xi().clearTimeout(d),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zU=500,BU=600,jU="_blank",FU="http://localhost";class sS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qU(t,e,n,i=zU,a=BU){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},UU),{width:i.toString(),height:a.toString(),top:l,left:c}),m=Un().toLowerCase();n&&(d=M1(m)?jU:n),O1(m)&&(e=e||FU,p.scrollbars="yes");const y=Object.entries(p).reduce((w,[S,R])=>`${w}${S}=${R},`,"");if(SV(m)&&d!=="_self")return HU(e||"",d),new sS(null);const _=window.open(e||"",d,y);Be(_,t,"popup-blocked");try{_.focus()}catch{}return new sS(_)}function HU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU="__/auth/handler",$U="emulator/auth/handler",KU=encodeURIComponent("fac");async function aS(t,e,n,i,a,l){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:bu,eventId:a};if(e instanceof f_){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",$2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof Rh){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await t._getAppCheckToken(),m=p?`#${KU}=${encodeURIComponent(p)}`:"";return`${QU(t)}?${Sh(d).slice(1)}${m}`}function QU({config:t}){return t.emulator?o_(t,$U):`https://${t.authDomain}/${GU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="webStorageSupport";class YU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G1,this._completeRedirectFn=_U,this._overrideRedirectResult=gU}async _openPopup(e,n,i,a){var l;Ds((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await aS(e,n,i,lv(),a);return qU(e,c,d_())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await aS(e,n,i,lv(),a);return JV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ds(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await VU(e),i=new TU(e);return n.register("authEvent",a=>(Be(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(my,{type:my},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[my];c!==void 0&&n(!!c),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return V1()||N1()||c_()}}const XU=YU;var oS="@firebase/auth",lS="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZU(t){Ui(new ii("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Be(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U1(t)},m=new OV(i,a,l,p);return LV(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ui(new ii("auth-internal",e=>{const n=wp(e.getProvider("auth").getImmediate());return(i=>new WU(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(oS,lS,JU(t)),Br(oS,lS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=5*60,t4=m1("authIdTokenMaxAge")||e4;let uS=null;const n4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>t4)return;const a=n==null?void 0:n.token;uS!==a&&(uS=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function r4(t=r_()){const e=wu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kV(t,{popupRedirectResolver:XU,persistence:[oU,YV,G1]}),i=m1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=n4(l.toString());GV(n,c,()=>c(n.currentUser)),HV(n,d=>c(d))}}const a=d1("auth");return a&&VV(n,`http://${a}`),n}function i4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NV({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=ri("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",i4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZU("Browser");var cS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wa,Z1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,C){function I(){}I.prototype=C.prototype,O.D=C.prototype,O.prototype=new I,O.prototype.constructor=O,O.C=function(k,U,F){for(var x=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)x[Ut-2]=arguments[Ut];return C.prototype[U].apply(k,x)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,C,I){I||(I=0);var k=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)k[U]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(U=0;16>U;++U)k[U]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=O.g[0],I=O.g[1],U=O.g[2];var F=O.g[3],x=C+(F^I&(U^F))+k[0]+3614090360&4294967295;C=I+(x<<7&4294967295|x>>>25),x=F+(U^C&(I^U))+k[1]+3905402710&4294967295,F=C+(x<<12&4294967295|x>>>20),x=U+(I^F&(C^I))+k[2]+606105819&4294967295,U=F+(x<<17&4294967295|x>>>15),x=I+(C^U&(F^C))+k[3]+3250441966&4294967295,I=U+(x<<22&4294967295|x>>>10),x=C+(F^I&(U^F))+k[4]+4118548399&4294967295,C=I+(x<<7&4294967295|x>>>25),x=F+(U^C&(I^U))+k[5]+1200080426&4294967295,F=C+(x<<12&4294967295|x>>>20),x=U+(I^F&(C^I))+k[6]+2821735955&4294967295,U=F+(x<<17&4294967295|x>>>15),x=I+(C^U&(F^C))+k[7]+4249261313&4294967295,I=U+(x<<22&4294967295|x>>>10),x=C+(F^I&(U^F))+k[8]+1770035416&4294967295,C=I+(x<<7&4294967295|x>>>25),x=F+(U^C&(I^U))+k[9]+2336552879&4294967295,F=C+(x<<12&4294967295|x>>>20),x=U+(I^F&(C^I))+k[10]+4294925233&4294967295,U=F+(x<<17&4294967295|x>>>15),x=I+(C^U&(F^C))+k[11]+2304563134&4294967295,I=U+(x<<22&4294967295|x>>>10),x=C+(F^I&(U^F))+k[12]+1804603682&4294967295,C=I+(x<<7&4294967295|x>>>25),x=F+(U^C&(I^U))+k[13]+4254626195&4294967295,F=C+(x<<12&4294967295|x>>>20),x=U+(I^F&(C^I))+k[14]+2792965006&4294967295,U=F+(x<<17&4294967295|x>>>15),x=I+(C^U&(F^C))+k[15]+1236535329&4294967295,I=U+(x<<22&4294967295|x>>>10),x=C+(U^F&(I^U))+k[1]+4129170786&4294967295,C=I+(x<<5&4294967295|x>>>27),x=F+(I^U&(C^I))+k[6]+3225465664&4294967295,F=C+(x<<9&4294967295|x>>>23),x=U+(C^I&(F^C))+k[11]+643717713&4294967295,U=F+(x<<14&4294967295|x>>>18),x=I+(F^C&(U^F))+k[0]+3921069994&4294967295,I=U+(x<<20&4294967295|x>>>12),x=C+(U^F&(I^U))+k[5]+3593408605&4294967295,C=I+(x<<5&4294967295|x>>>27),x=F+(I^U&(C^I))+k[10]+38016083&4294967295,F=C+(x<<9&4294967295|x>>>23),x=U+(C^I&(F^C))+k[15]+3634488961&4294967295,U=F+(x<<14&4294967295|x>>>18),x=I+(F^C&(U^F))+k[4]+3889429448&4294967295,I=U+(x<<20&4294967295|x>>>12),x=C+(U^F&(I^U))+k[9]+568446438&4294967295,C=I+(x<<5&4294967295|x>>>27),x=F+(I^U&(C^I))+k[14]+3275163606&4294967295,F=C+(x<<9&4294967295|x>>>23),x=U+(C^I&(F^C))+k[3]+4107603335&4294967295,U=F+(x<<14&4294967295|x>>>18),x=I+(F^C&(U^F))+k[8]+1163531501&4294967295,I=U+(x<<20&4294967295|x>>>12),x=C+(U^F&(I^U))+k[13]+2850285829&4294967295,C=I+(x<<5&4294967295|x>>>27),x=F+(I^U&(C^I))+k[2]+4243563512&4294967295,F=C+(x<<9&4294967295|x>>>23),x=U+(C^I&(F^C))+k[7]+1735328473&4294967295,U=F+(x<<14&4294967295|x>>>18),x=I+(F^C&(U^F))+k[12]+2368359562&4294967295,I=U+(x<<20&4294967295|x>>>12),x=C+(I^U^F)+k[5]+4294588738&4294967295,C=I+(x<<4&4294967295|x>>>28),x=F+(C^I^U)+k[8]+2272392833&4294967295,F=C+(x<<11&4294967295|x>>>21),x=U+(F^C^I)+k[11]+1839030562&4294967295,U=F+(x<<16&4294967295|x>>>16),x=I+(U^F^C)+k[14]+4259657740&4294967295,I=U+(x<<23&4294967295|x>>>9),x=C+(I^U^F)+k[1]+2763975236&4294967295,C=I+(x<<4&4294967295|x>>>28),x=F+(C^I^U)+k[4]+1272893353&4294967295,F=C+(x<<11&4294967295|x>>>21),x=U+(F^C^I)+k[7]+4139469664&4294967295,U=F+(x<<16&4294967295|x>>>16),x=I+(U^F^C)+k[10]+3200236656&4294967295,I=U+(x<<23&4294967295|x>>>9),x=C+(I^U^F)+k[13]+681279174&4294967295,C=I+(x<<4&4294967295|x>>>28),x=F+(C^I^U)+k[0]+3936430074&4294967295,F=C+(x<<11&4294967295|x>>>21),x=U+(F^C^I)+k[3]+3572445317&4294967295,U=F+(x<<16&4294967295|x>>>16),x=I+(U^F^C)+k[6]+76029189&4294967295,I=U+(x<<23&4294967295|x>>>9),x=C+(I^U^F)+k[9]+3654602809&4294967295,C=I+(x<<4&4294967295|x>>>28),x=F+(C^I^U)+k[12]+3873151461&4294967295,F=C+(x<<11&4294967295|x>>>21),x=U+(F^C^I)+k[15]+530742520&4294967295,U=F+(x<<16&4294967295|x>>>16),x=I+(U^F^C)+k[2]+3299628645&4294967295,I=U+(x<<23&4294967295|x>>>9),x=C+(U^(I|~F))+k[0]+4096336452&4294967295,C=I+(x<<6&4294967295|x>>>26),x=F+(I^(C|~U))+k[7]+1126891415&4294967295,F=C+(x<<10&4294967295|x>>>22),x=U+(C^(F|~I))+k[14]+2878612391&4294967295,U=F+(x<<15&4294967295|x>>>17),x=I+(F^(U|~C))+k[5]+4237533241&4294967295,I=U+(x<<21&4294967295|x>>>11),x=C+(U^(I|~F))+k[12]+1700485571&4294967295,C=I+(x<<6&4294967295|x>>>26),x=F+(I^(C|~U))+k[3]+2399980690&4294967295,F=C+(x<<10&4294967295|x>>>22),x=U+(C^(F|~I))+k[10]+4293915773&4294967295,U=F+(x<<15&4294967295|x>>>17),x=I+(F^(U|~C))+k[1]+2240044497&4294967295,I=U+(x<<21&4294967295|x>>>11),x=C+(U^(I|~F))+k[8]+1873313359&4294967295,C=I+(x<<6&4294967295|x>>>26),x=F+(I^(C|~U))+k[15]+4264355552&4294967295,F=C+(x<<10&4294967295|x>>>22),x=U+(C^(F|~I))+k[6]+2734768916&4294967295,U=F+(x<<15&4294967295|x>>>17),x=I+(F^(U|~C))+k[13]+1309151649&4294967295,I=U+(x<<21&4294967295|x>>>11),x=C+(U^(I|~F))+k[4]+4149444226&4294967295,C=I+(x<<6&4294967295|x>>>26),x=F+(I^(C|~U))+k[11]+3174756917&4294967295,F=C+(x<<10&4294967295|x>>>22),x=U+(C^(F|~I))+k[2]+718787259&4294967295,U=F+(x<<15&4294967295|x>>>17),x=I+(F^(U|~C))+k[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(U+(x<<21&4294967295|x>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+F&4294967295}i.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var I=C-this.blockSize,k=this.B,U=this.h,F=0;F<C;){if(U==0)for(;F<=I;)a(this,O,F),F+=this.blockSize;if(typeof O=="string"){for(;F<C;)if(k[U++]=O.charCodeAt(F++),U==this.blockSize){a(this,k),U=0;break}}else for(;F<C;)if(k[U++]=O[F++],U==this.blockSize){a(this,k),U=0;break}}this.h=U,this.o+=C},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var I=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=I&255,I/=256;for(this.u(O),O=Array(16),C=I=0;4>C;++C)for(var k=0;32>k;k+=8)O[I++]=this.g[C]>>>k&255;return O};function l(O,C){var I=d;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=C(O)}function c(O,C){this.h=C;for(var I=[],k=!0,U=O.length-1;0<=U;U--){var F=O[U]|0;k&&F==C||(I[U]=F,k=!1)}this.g=I}var d={};function p(O){return-128<=O&&128>O?l(O,function(C){return new c([C|0],0>C?-1:0)}):new c([O|0],0>O?-1:0)}function m(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return D(m(-O));for(var C=[],I=1,k=0;O>=I;k++)C[k]=O/I|0,I*=4294967296;return new c(C,0)}function y(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return D(y(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=m(Math.pow(C,8)),k=_,U=0;U<O.length;U+=8){var F=Math.min(8,O.length-U),x=parseInt(O.substring(U,U+F),C);8>F?(F=m(Math.pow(C,F)),k=k.j(F).add(m(x))):(k=k.j(I),k=k.add(m(x)))}return k}var _=p(0),w=p(1),S=p(16777216);t=c.prototype,t.m=function(){if(N(this))return-D(this).m();for(var O=0,C=1,I=0;I<this.g.length;I++){var k=this.i(I);O+=(0<=k?k:4294967296+k)*C,C*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(R(this))return"0";if(N(this))return"-"+D(this).toString(O);for(var C=m(Math.pow(O,6)),I=this,k="";;){var U=ie(I,C).g;I=B(I,U.j(C));var F=((0<I.g.length?I.g[0]:I.h)>>>0).toString(O);if(I=U,R(I))return F+k;for(;6>F.length;)F="0"+F;k=F+k}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function R(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function N(O){return O.h==-1}t.l=function(O){return O=B(this,O),N(O)?-1:R(O)?0:1};function D(O){for(var C=O.g.length,I=[],k=0;k<C;k++)I[k]=~O.g[k];return new c(I,~O.h).add(w)}t.abs=function(){return N(this)?D(this):this},t.add=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],k=0,U=0;U<=C;U++){var F=k+(this.i(U)&65535)+(O.i(U)&65535),x=(F>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);k=x>>>16,F&=65535,x&=65535,I[U]=x<<16|F}return new c(I,I[I.length-1]&-2147483648?-1:0)};function B(O,C){return O.add(D(C))}t.j=function(O){if(R(this)||R(O))return _;if(N(this))return N(O)?D(this).j(D(O)):D(D(this).j(O));if(N(O))return D(this.j(D(O)));if(0>this.l(S)&&0>O.l(S))return m(this.m()*O.m());for(var C=this.g.length+O.g.length,I=[],k=0;k<2*C;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var U=0;U<O.g.length;U++){var F=this.i(k)>>>16,x=this.i(k)&65535,Ut=O.i(U)>>>16,He=O.i(U)&65535;I[2*k+2*U]+=x*He,H(I,2*k+2*U),I[2*k+2*U+1]+=F*He,H(I,2*k+2*U+1),I[2*k+2*U+1]+=x*Ut,H(I,2*k+2*U+1),I[2*k+2*U+2]+=F*Ut,H(I,2*k+2*U+2)}for(k=0;k<C;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=C;k<2*C;k++)I[k]=0;return new c(I,0)};function H(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function q(O,C){this.g=O,this.h=C}function ie(O,C){if(R(C))throw Error("division by zero");if(R(O))return new q(_,_);if(N(O))return C=ie(D(O),C),new q(D(C.g),D(C.h));if(N(C))return C=ie(O,D(C)),new q(D(C.g),C.h);if(30<O.g.length){if(N(O)||N(C))throw Error("slowDivide_ only works with positive integers.");for(var I=w,k=C;0>=k.l(O);)I=M(I),k=M(k);var U=re(I,1),F=re(k,1);for(k=re(k,2),I=re(I,2);!R(k);){var x=F.add(k);0>=x.l(O)&&(U=U.add(I),F=x),k=re(k,1),I=re(I,1)}return C=B(O,U.j(C)),new q(U,C)}for(U=_;0<=O.l(C);){for(I=Math.max(1,Math.floor(O.m()/C.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),F=m(I),x=F.j(C);N(x)||0<x.l(O);)I-=k,F=m(I),x=F.j(C);R(F)&&(F=w),U=U.add(F),O=B(O,x)}return new q(U,O)}t.A=function(O){return ie(this,O).h},t.and=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],k=0;k<C;k++)I[k]=this.i(k)&O.i(k);return new c(I,this.h&O.h)},t.or=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],k=0;k<C;k++)I[k]=this.i(k)|O.i(k);return new c(I,this.h|O.h)},t.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],k=0;k<C;k++)I[k]=this.i(k)^O.i(k);return new c(I,this.h^O.h)};function M(O){for(var C=O.g.length+1,I=[],k=0;k<C;k++)I[k]=O.i(k)<<1|O.i(k-1)>>>31;return new c(I,O.h)}function re(O,C){var I=C>>5;C%=32;for(var k=O.g.length-I,U=[],F=0;F<k;F++)U[F]=0<C?O.i(F+I)>>>C|O.i(F+I+1)<<32-C:O.i(F+I);return new c(U,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Z1=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,wa=c}).apply(typeof cS<"u"?cS:typeof self<"u"?self:typeof window<"u"?window:{});var td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eC,zc,tC,wd,hv,nC,rC,iC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof td=="object"&&td];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function a(h,v){if(v)e:{var E=i;h=h.split(".");for(var A=0;A<h.length-1;A++){var Q=h[A];if(!(Q in E))break e;E=E[Q]}h=h[h.length-1],A=E[h],v=v(A),v!=A&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var E=0,A=!1,Q={next:function(){if(!A&&E<h.length){var ee=E++;return{value:v(ee,h[ee]),done:!1}}return A=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,E){return h.call.apply(h.bind,arguments)}function _(h,v,E){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,A),h.apply(v,Q)}}return function(){return h.apply(v,arguments)}}function w(h,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,w.apply(null,arguments)}function S(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function R(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(A,Q,ee){for(var ge=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)ge[ht-2]=arguments[ht];return v.prototype[Q].apply(A,ge)}}function N(h){const v=h.length;if(0<v){const E=Array(v);for(let A=0;A<v;A++)E[A]=h[A];return E}return[]}function D(h,v){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(p(A)){const Q=h.length||0,ee=A.length||0;h.length=Q+ee;for(let ge=0;ge<ee;ge++)h[Q+ge]=A[ge]}else h.push(A)}}class B{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function H(h){return/^[\s\xa0]*$/.test(h)}function q(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function ie(h){return ie[" "](h),h}ie[" "]=function(){};var M=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function re(h,v,E){for(const A in h)v.call(E,h[A],A,h)}function O(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function C(h){const v={};for(const E in h)v[E]=h[E];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(h,v){let E,A;for(let Q=1;Q<arguments.length;Q++){A=arguments[Q];for(E in A)h[E]=A[E];for(let ee=0;ee<I.length;ee++)E=I[ee],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function U(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function F(h){d.setTimeout(()=>{throw h},0)}function x(){var h=Pe;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Ut{constructor(){this.h=this.g=null}add(v,E){const A=He.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var He=new B(()=>new ne,h=>h.reset());class ne{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let me,we=!1,Pe=new Ut,L=()=>{const h=d.Promise.resolve(void 0);me=()=>{h.then(le)}};var le=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(E){F(E)}var v=He;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}we=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return h}();function xe(h,v){if(fe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(M){e:{try{ie(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ne[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&xe.aa.h.call(this)}}R(xe,fe);var Ne={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),lt=0;function ut(h,v,E,A,Q){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=Q,this.key=++lt,this.da=this.fa=!1}function an(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Tn(h){this.src=h,this.g={},this.h=0}Tn.prototype.add=function(h,v,E,A,Q){var ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);var ge=Bn(h,v,A,Q);return-1<ge?(v=h[ge],E||(v.fa=!1)):(v=new ut(v,this.src,ee,!!A,Q),v.fa=E,h.push(v)),v};function fn(h,v){var E=v.type;if(E in h.g){var A=h.g[E],Q=Array.prototype.indexOf.call(A,v,void 0),ee;(ee=0<=Q)&&Array.prototype.splice.call(A,Q,1),ee&&(an(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Bn(h,v,E,A){for(var Q=0;Q<h.length;++Q){var ee=h[Q];if(!ee.da&&ee.listener==v&&ee.capture==!!E&&ee.ha==A)return Q}return-1}var qi="closure_lm_"+(1e6*Math.random()|0),Pa={};function xa(h,v,E,A,Q){if(Array.isArray(v)){for(var ee=0;ee<v.length;ee++)xa(h,v[ee],E,A,Q);return null}return E=ar(E),h&&h[kt]?h.K(v,E,m(A)?!!A.capture:!1,Q):Xn(h,v,E,!1,A,Q)}function Xn(h,v,E,A,Q,ee){if(!v)throw Error("Invalid event type");var ge=m(Q)?!!Q.capture:!!Q,ht=Gi(h);if(ht||(h[qi]=ht=new Tn(h)),E=ht.add(v,E,A,ge,ee),E.proxy)return E;if(A=Ou(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)Se||(Q=ge),Q===void 0&&(Q=!1),h.addEventListener(v.toString(),A,Q);else if(h.attachEvent)h.attachEvent(jn(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ou(){function h(E){return v.call(h.src,h.listener,E)}const v=Hi;return h}function ka(h,v,E,A,Q){if(Array.isArray(v))for(var ee=0;ee<v.length;ee++)ka(h,v[ee],E,A,Q);else A=m(A)?!!A.capture:!!A,E=ar(E),h&&h[kt]?(h=h.i,v=String(v).toString(),v in h.g&&(ee=h.g[v],E=Bn(ee,E,A,Q),-1<E&&(an(ee[E]),Array.prototype.splice.call(ee,E,1),ee.length==0&&(delete h.g[v],h.h--)))):h&&(h=Gi(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Bn(v,E,A,Q)),(E=-1<h?v[h]:null)&&Ps(E))}function Ps(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[kt])fn(v.i,h);else{var E=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(E,A,h.capture):v.detachEvent?v.detachEvent(jn(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=Gi(v))?(fn(E,h),E.h==0&&(E.src=null,v[qi]=null)):an(h)}}}function jn(h){return h in Pa?Pa[h]:Pa[h]="on"+h}function Hi(h,v){if(h.da)h=!0;else{v=new xe(v,this);var E=h.listener,A=h.ha||h.src;h.fa&&Ps(h),h=E.call(A,v)}return h}function Gi(h){return h=h[qi],h instanceof Tn?h:null}var $i="__closure_events_fn_"+(1e9*Math.random()>>>0);function ar(h){return typeof h=="function"?h:(h[$i]||(h[$i]=function(v){return h.handleEvent(v)}),h[$i])}function mt(){de.call(this),this.i=new Tn(this),this.M=this,this.F=null}R(mt,de),mt.prototype[kt]=!0,mt.prototype.removeEventListener=function(h,v,E,A){ka(this,h,v,E,A)};function gt(h,v){var E,A=h.F;if(A)for(E=[];A;A=A.F)E.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new fe(v,h);else if(v instanceof fe)v.target=v.target||h;else{var Q=v;v=new fe(A,h),k(v,Q)}if(Q=!0,E)for(var ee=E.length-1;0<=ee;ee--){var ge=v.g=E[ee];Q=wn(ge,A,!0,v)&&Q}if(ge=v.g=h,Q=wn(ge,A,!0,v)&&Q,Q=wn(ge,A,!1,v)&&Q,E)for(ee=0;ee<E.length;ee++)ge=v.g=E[ee],Q=wn(ge,A,!1,v)&&Q}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],A=0;A<E.length;A++)an(E[A]);delete h.g[v],h.h--}}this.F=null},mt.prototype.K=function(h,v,E,A){return this.i.add(String(h),v,!1,E,A)},mt.prototype.L=function(h,v,E,A){return this.i.add(String(h),v,!0,E,A)};function wn(h,v,E,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,ee=0;ee<v.length;++ee){var ge=v[ee];if(ge&&!ge.da&&ge.capture==E){var ht=ge.listener,on=ge.ha||ge.src;ge.fa&&fn(h.i,ge),Q=ht.call(on,A)!==!1&&Q}}return Q&&!A.defaultPrevented}function dn(h,v,E){if(typeof h=="function")E&&(h=w(h,E));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function or(h){h.g=dn(()=>{h.g=null,h.i&&(h.i=!1,or(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Ko extends de{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:or(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(h){de.call(this),this.h=h,this.g={}}R(oi,de);var li=[];function Ki(h){re(h.g,function(v,E){this.g.hasOwnProperty(E)&&Ps(v)},h),h.g={}}oi.prototype.N=function(){oi.aa.N.call(this),Ki(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=d.JSON.stringify,qr=d.JSON.parse,ui=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Qi(){}Qi.prototype.h=null;function La(h){return h.h||(h.h=h.i())}function xs(){}var Hr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tr(){fe.call(this,"d")}R(Tr,fe);function ci(){fe.call(this,"c")}R(ci,fe);var Fn={},Va=null;function hi(){return Va=Va||new mt}Fn.La="serverreachability";function V(h){fe.call(this,Fn.La,h)}R(V,fe);function $(h){const v=hi();gt(v,new V(v))}Fn.STAT_EVENT="statevent";function Z(h,v){fe.call(this,Fn.STAT_EVENT,h),this.stat=v}R(Z,fe);function ae(h){const v=hi();gt(v,new Z(v,h))}Fn.Ma="timingevent";function pe(h,v){fe.call(this,Fn.Ma,h),this.size=v}R(pe,fe);function ve(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Ae(){this.g=!0}Ae.prototype.xa=function(){this.g=!1};function Re(h,v,E,A,Q,ee){h.info(function(){if(h.g)if(ee)for(var ge="",ht=ee.split("&"),on=0;on<ht.length;on++){var ft=ht[on].split("=");if(1<ft.length){var mn=ft[0];ft=ft[1];var ln=mn.split("_");ge=2<=ln.length&&ln[1]=="type"?ge+(mn+"="+ft+"&"):ge+(mn+"=redacted&")}}else ge=null;else ge=ee;return"XMLHTTP REQ ("+A+") [attempt "+Q+"]: "+v+`
`+E+`
`+ge})}function Ie(h,v,E,A,Q,ee,ge){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+Q+"]: "+v+`
`+E+`
`+ee+" "+ge})}function ye(h,v,E,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Oe(h,E)+(A?" "+A:"")})}function Ce(h,v){h.info(function(){return"TIMEOUT: "+v})}Ae.prototype.info=function(){};function Oe(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var A=E[h];if(!(2>A.length)){var Q=A[1];if(Array.isArray(Q)&&!(1>Q.length)){var ee=Q[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ge=1;ge<Q.length;ge++)Q[ge]=""}}}}return Wn(E)}catch{return v}}var $e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mt;function _t(){}R(_t,Qi),_t.prototype.g=function(){return new XMLHttpRequest},_t.prototype.i=function(){return{}},Mt=new _t;function Je(h,v,E,A){this.j=h,this.i=v,this.l=E,this.R=A||1,this.U=new oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ke}function Ke(){this.i=null,this.g="",this.h=!1}var wr={},br={};function Gt(h,v,E){h.L=1,h.v=ja(cr(v)),h.m=E,h.P=!0,Xt(h,null)}function Xt(h,v){h.F=Date.now(),qn(h),h.A=cr(h.v);var E=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),ku(E.i,"t",A),h.C=0,E=h.j.J,h.h=new Ke,h.g=qh(h.j,E?v:null,!h.m),0<h.O&&(h.M=new Ko(w(h.Y,h,h.g),h.O)),v=h.U,E=h.g,A=h.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(li[0]=Q.toString()),Q=li);for(var ee=0;ee<Q.length;ee++){var ge=xa(E,Q[ee],A||v.handleEvent,!1,v.h||v);if(!ge)break;v.g[ge.key]=ge}v=h.H?C(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),$(),Re(h.i,h.u,h.A,h.l,h.R,h.m)}Je.prototype.ca=function(h){h=h.target;const v=this.M;v&&Ir(h)==3?v.j():this.Y(h)},Je.prototype.Y=function(h){try{if(h==this.g)e:{const ln=Ir(this.g);var v=this.g.Ba();const rs=this.g.Z();if(!(3>ln)&&(ln!=3||this.g&&(this.h.h||this.g.oa()||kh(this.g)))){this.J||ln!=4||v==7||(v==8||0>=rs?$(3):$(2)),lr(this);var E=this.g.Z();this.X=E;t:if(ks(this)){var A=kh(this.g);h="";var Q=A.length,ee=Ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ct(this),et(this);var ge="";break t}this.h.i=new d.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,h+=this.h.i.decode(A[v],{stream:!(ee&&v==Q-1)});A.length=0,this.h.g+=h,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=E==200,Ie(this.i,this.u,this.A,this.l,this.R,ln,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,on=this.g;if((ht=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(ht)){var ft=ht;break t}}ft=null}if(E=ft)ye(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sr(this,E);else{this.o=!1,this.s=3,ae(12),ct(this),et(this);break e}}if(this.P){E=!0;let bn;for(;!this.J&&this.C<ge.length;)if(bn=fi(this,ge),bn==br){ln==4&&(this.s=4,ae(14),E=!1),ye(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==wr){this.s=4,ae(15),ye(this.i,this.l,ge,"[Invalid Chunk]"),E=!1;break}else ye(this.i,this.l,bn,null),Sr(this,bn);if(ks(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ln!=4||ge.length!=0||this.h.h||(this.s=1,ae(16),E=!1),this.o=this.o&&E,!E)ye(this.i,this.l,ge,"[Invalid Chunked Response]"),ct(this),et(this);else if(0<ge.length&&!this.W){this.W=!0;var mn=this.j;mn.g==this&&mn.ba&&!mn.M&&(mn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Ya(mn),mn.M=!0,ae(11))}}else ye(this.i,this.l,ge,null),Sr(this,ge);ln==4&&ct(this),this.o&&!this.J&&(ln==4?Bh(this.j,this):(this.o=!1,qn(this)))}else Qp(this.g),E==400&&0<ge.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),ct(this),et(this)}}}catch{}finally{}};function ks(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function fi(h,v){var E=h.C,A=v.indexOf(`
`,E);return A==-1?br:(E=Number(v.substring(E,A)),isNaN(E)?wr:(A+=1,A+E>v.length?br:(v=v.slice(A,A+E),h.C=A+E,v)))}Je.prototype.cancel=function(){this.J=!0,ct(this)};function qn(h){h.S=Date.now()+h.I,Yi(h,h.I)}function Yi(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ve(w(h.ba,h),v)}function lr(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Je.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ce(this.i,this.A),this.L!=2&&($(),ae(17)),ct(this),this.s=2,et(this)):Yi(this,this.S-h)};function et(h){h.j.G==0||h.J||Bh(h.j,h)}function ct(h){lr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Ki(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Sr(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||Ua(E.h,h))){if(!h.K&&Ua(E.h,h)&&E.G==3){try{var A=E.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var Q=A;if(Q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)rl(E),tl(E);else break e;Bu(E),ae(18)}}else E.za=Q[1],0<E.za-E.T&&37500>Q[2]&&E.F&&E.v==0&&!E.C&&(E.C=ve(w(E.Za,E),6e3));if(1>=Xi(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ns(E,11)}else if((h.K||E.g==h)&&rl(E),!H(v))for(Q=E.Da.g.parse(v),v=0;v<Q.length;v++){let ft=Q[v];if(E.T=ft[0],ft=ft[1],E.G==2)if(ft[0]=="c"){E.K=ft[1],E.ia=ft[2];const mn=ft[3];mn!=null&&(E.la=mn,E.j.info("VER="+E.la));const ln=ft[4];ln!=null&&(E.Aa=ln,E.j.info("SVER="+E.Aa));const rs=ft[5];rs!=null&&typeof rs=="number"&&0<rs&&(A=1.5*rs,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const bn=h.g;if(bn){const Ei=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ei){var ee=A.h;ee.g||Ei.indexOf("spdy")==-1&&Ei.indexOf("quic")==-1&&Ei.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Qo(ee,ee.h),ee.h=null))}if(A.D){const Fu=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fu&&(A.ya=Fu,It(A.I,A.D,Fu))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var ge=h;if(A.qa=Fh(A,A.J?A.ia:null,A.W),ge.K){Hn(A.h,ge);var ht=ge,on=A.L;on&&(ht.I=on),ht.B&&(lr(ht),qn(ht)),A.g=ge}else Uh(A);0<E.i.length&&nl(E)}else ft[0]!="stop"&&ft[0]!="close"||ns(E,7);else E.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?ns(E,7):Uu(E):ft[0]!="noop"&&E.l&&E.l.ta(ft),E.v=0)}}$(4)}catch{}}var di=class{constructor(h,v){this.g=h,this.map=v}};function Tt(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ur(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Xi(h){return h.h?1:h.g?h.g.size:0}function Ua(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Qo(h,v){h.g?h.g.add(v):h.h=v}function Hn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Tt.prototype.cancel=function(){if(this.i=Nu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Nu(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return N(h.i)}function Hp(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],E=h.length,A=0;A<E;A++)v.push(h[A]);return v}v=[],E=0;for(A in h)v[E++]=h[A];return v}function Yo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const A in h)v[E++]=A;return v}}}function Mu(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=Yo(h),A=Hp(h),Q=A.length,ee=0;ee<Q;ee++)v.call(void 0,A[ee],E&&E[ee],h)}var za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gp(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var A=h[E].indexOf("="),Q=null;if(0<=A){var ee=h[E].substring(0,A);Q=h[E].substring(A+1)}else ee=h[E];v(ee,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Wt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Wt){this.h=h.h,Ba(this,h.j),this.o=h.o,this.g=h.g,Ls(this,h.s),this.l=h.l;var v=h.i,E=new Ji;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Wi(this,E),this.m=h.m}else h&&(v=String(h).match(za))?(this.h=!1,Ba(this,v[1]||"",!0),this.o=Ar(v[2]||""),this.g=Ar(v[3]||"",!0),Ls(this,v[4]),this.l=Ar(v[5]||"",!0),Wi(this,v[6]||"",!0),this.m=Ar(v[7]||"")):(this.h=!1,this.i=new Ji(null,this.h))}Wt.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Fa(v,Pu,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Fa(v,Pu,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Fa(E,E.charAt(0)=="/"?$p:xu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Fa(E,Xo)),h.join("")};function cr(h){return new Wt(h)}function Ba(h,v,E){h.j=E?Ar(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ls(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Wi(h,v,E){v instanceof Ji?(h.i=v,Ph(h.i,h.h)):(E||(v=Fa(v,Kp)),h.i=new Ji(v,h.h))}function It(h,v,E){h.i.set(v,E)}function ja(h){return It(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ar(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Fa(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,Mh),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Mh(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Pu=/[#\/\?@]/g,xu=/[#\?:]/g,$p=/[#\?]/g,Kp=/[#\?@]/g,Xo=/#/g;function Ji(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Rr(h){h.g||(h.g=new Map,h.h=0,h.i&&Gp(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=Ji.prototype,t.add=function(h,v){Rr(this),this.i=null,h=pi(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Zi(h,v){Rr(h),v=pi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function es(h,v){return Rr(h),v=pi(h,v),h.g.has(v)}t.forEach=function(h,v){Rr(this),this.g.forEach(function(E,A){E.forEach(function(Q){h.call(v,Q,A,this)},this)},this)},t.na=function(){Rr(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let A=0;A<v.length;A++){const Q=h[A];for(let ee=0;ee<Q.length;ee++)E.push(v[A])}return E},t.V=function(h){Rr(this);let v=[];if(typeof h=="string")es(this,h)&&(v=v.concat(this.g.get(pi(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},t.set=function(h,v){return Rr(this),this.i=null,h=pi(this,h),es(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function ku(h,v,E){Zi(h,v),0<E.length&&(h.i=null,h.g.set(pi(h,v),N(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var A=v[E];const ee=encodeURIComponent(String(A)),ge=this.V(A);for(A=0;A<ge.length;A++){var Q=ee;ge[A]!==""&&(Q+="="+encodeURIComponent(String(ge[A]))),h.push(Q)}}return this.i=h.join("&")};function pi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ph(h,v){v&&!h.j&&(Rr(h),h.i=null,h.g.forEach(function(E,A){var Q=A.toLowerCase();A!=Q&&(Zi(this,A),ku(this,Q,E))},h)),h.j=v}function qa(h,v){const E=new Ae;if(d.Image){const A=new Image;A.onload=S(Cr,E,"TestLoadImage: loaded",!0,v,A),A.onerror=S(Cr,E,"TestLoadImage: error",!1,v,A),A.onabort=S(Cr,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=S(Cr,E,"TestLoadImage: timeout",!1,v,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function Gr(h,v){const E=new Ae,A=new AbortController,Q=setTimeout(()=>{A.abort(),Cr(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(ee=>{clearTimeout(Q),ee.ok?Cr(E,"TestPingServer: ok",!0,v):Cr(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),Cr(E,"TestPingServer: error",!1,v)})}function Cr(h,v,E,A,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),A(E)}catch{}}function Ha(){this.g=new ui}function mi(h,v,E){const A=E||"";try{Mu(h,function(Q,ee){let ge=Q;m(Q)&&(ge=Wn(Q)),v.push(A+ee+"="+encodeURIComponent(ge))})}catch(Q){throw v.push(A+"type="+encodeURIComponent("_badmap")),Q}}function Vs(h){this.l=h.Ub||null,this.j=h.eb||!1}R(Vs,Qi),Vs.prototype.g=function(){return new ts(this.l,this.j)},Vs.prototype.i=function(h){return function(){return h}}({});function ts(h,v){mt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(ts,mt),t=ts.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,yi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?gi(this):yi(this),this.readyState==3&&Lu(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,gi(this))},t.Qa=function(h){this.g&&(this.response=h,gi(this))},t.ga=function(){this.g&&gi(this)};function gi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,yi(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function yi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vu(h){let v="";return re(h,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function pn(h,v,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Vu(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):It(h,v,E))}function wt(h){mt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(wt,mt);var Wo=/^https?$/i,Ga=["POST","PUT"];t=wt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mt.g(),this.v=this.o?La(this.o):La(Mt),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(ee){xh(this,ee);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var Q in A)E.set(Q,A[Q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ee of A.keys())E.set(ee,A.get(ee));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(ee=>ee.toLowerCase()=="content-type"),Q=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ga,v,void 0))||A||Q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ge]of E)this.g.setRequestHeader(ee,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$a(this),this.u=!0,this.g.send(h),this.u=!1}catch(ee){xh(this,ee)}};function xh(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Jo(h),vi(h)}function Jo(h){h.A||(h.A=!0,gt(h,"complete"),gt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,gt(this,"complete"),gt(this,"abort"),vi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vi(this,!0)),wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zo(this):this.bb())},t.bb=function(){Zo(this)};function Zo(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Ir(h)!=4||h.Z()!=2)){if(h.u&&Ir(h)==4)dn(h.Ea,0,h);else if(gt(h,"readystatechange"),Ir(h)==4){h.h=!1;try{const ge=h.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var A;if(A=ge===0){var Q=String(h.D).match(za)[1]||null;!Q&&d.self&&d.self.location&&(Q=d.self.location.protocol.slice(0,-1)),A=!Wo.test(Q?Q.toLowerCase():"")}E=A}if(E)gt(h,"complete"),gt(h,"success");else{h.m=6;try{var ee=2<Ir(h)?h.g.statusText:""}catch{ee=""}h.l=ee+" ["+h.Z()+"]",Jo(h)}}finally{vi(h)}}}}function vi(h,v){if(h.g){$a(h);const E=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||gt(h,"ready");try{E.onreadystatechange=A}catch{}}}function $a(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Ir(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),qr(v)}};function kh(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Qp(h){const v={};h=(h.g&&2<=Ir(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(H(h[A]))continue;var E=U(h[A]);const Q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ee=v[Q]||[];v[Q]=ee,ee.push(E)}O(v,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ka(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function el(h){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ka("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ka("baseRetryDelayMs",5e3,h),this.cb=Ka("retryDelaySeedMs",1e4,h),this.Wa=Ka("forwardChannelMaxRetries",2,h),this.wa=Ka("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Tt(h&&h.concurrentRequestLimit),this.Da=new Ha,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=el.prototype,t.la=8,t.G=1,t.connect=function(h,v,E,A){ae(0),this.W=h,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=Fh(this,null,this.W),nl(this)};function Uu(h){if(Lh(h),h.G==3){var v=h.U++,E=cr(h.I);if(It(E,"SID",h.K),It(E,"RID",v),It(E,"TYPE","terminate"),Qa(h,E),v=new Je(h,h.j,v),v.L=2,v.v=ja(cr(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.v,E=!0),E||(v.g=qh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),qn(v)}jh(h)}function tl(h){h.g&&(Ya(h),h.g.cancel(),h.g=null)}function Lh(h){tl(h),h.u&&(d.clearTimeout(h.u),h.u=null),rl(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function nl(h){if(!ur(h.h)&&!h.s){h.s=!0;var v=h.Ga;me||L(),we||(me(),we=!0),Pe.add(v,h),h.B=0}}function Yp(h,v){return Xi(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ve(w(h.Ga,h,v),ju(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Q=new Je(this,this.j,h);let ee=this.o;if(this.S&&(ee?(ee=C(ee),k(ee,this.S)):ee=this.S),this.m!==null||this.O||(Q.H=ee,ee=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Vh(this,Q,v),E=cr(this.I),It(E,"RID",h),It(E,"CVER",22),this.D&&It(E,"X-HTTP-Session-Id",this.D),Qa(this,E),ee&&(this.O?v="headers="+encodeURIComponent(String(Vu(ee)))+"&"+v:this.m&&pn(E,this.m,ee)),Qo(this.h,Q),this.Ua&&It(E,"TYPE","init"),this.P?(It(E,"$req",v),It(E,"SID","null"),Q.T=!0,Gt(Q,E,null)):Gt(Q,E,v),this.G=2}}else this.G==3&&(h?zu(this,h):this.i.length==0||ur(this.h)||zu(this))};function zu(h,v){var E;v?E=v.l:E=h.U++;const A=cr(h.I);It(A,"SID",h.K),It(A,"RID",E),It(A,"AID",h.T),Qa(h,A),h.m&&h.o&&pn(A,h.m,h.o),E=new Je(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Vh(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Qo(h.h,E),Gt(E,A,v)}function Qa(h,v){h.H&&re(h.H,function(E,A){It(v,A,E)}),h.l&&Mu({},function(E,A){It(v,A,E)})}function Vh(h,v,E){E=Math.min(h.i.length,E);var A=h.l?w(h.l.Na,h.l,h):null;e:{var Q=h.i;let ee=-1;for(;;){const ge=["count="+E];ee==-1?0<E?(ee=Q[0].g,ge.push("ofs="+ee)):ee=0:ge.push("ofs="+ee);let ht=!0;for(let on=0;on<E;on++){let ft=Q[on].g;const mn=Q[on].map;if(ft-=ee,0>ft)ee=Math.max(0,Q[on].g-100),ht=!1;else try{mi(mn,ge,"req"+ft+"_")}catch{A&&A(mn)}}if(ht){A=ge.join("&");break e}}}return h=h.i.splice(0,E),v.D=h,A}function Uh(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;me||L(),we||(me(),we=!0),Pe.add(v,h),h.v=0}}function Bu(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ve(w(h.Fa,h),ju(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,zh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ve(w(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),tl(this),zh(this))};function Ya(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function zh(h){h.g=new Je(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=cr(h.qa);It(v,"RID","rpc"),It(v,"SID",h.K),It(v,"AID",h.T),It(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&It(v,"TO",h.ja),It(v,"TYPE","xmlhttp"),Qa(h,v),h.m&&h.o&&pn(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=ja(cr(v)),E.m=null,E.P=!0,Xt(E,h)}t.Za=function(){this.C!=null&&(this.C=null,tl(this),Bu(this),ae(19))};function rl(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Bh(h,v){var E=null;if(h.g==v){rl(h),Ya(h),h.g=null;var A=2}else if(Ua(h.h,v))E=v.D,Hn(h.h,v),A=1;else return;if(h.G!=0){if(v.o)if(A==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var Q=h.B;A=hi(),gt(A,new pe(A,E)),nl(h)}else Uh(h);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(A==1&&Yp(h,v)||A==2&&Bu(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),Q){case 1:ns(h,5);break;case 4:ns(h,10);break;case 3:ns(h,6);break;default:ns(h,2)}}}function ju(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function ns(h,v){if(h.j.info("Error code "+v),v==2){var E=w(h.fb,h),A=h.Xa;const Q=!A;A=new Wt(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ba(A,"https"),ja(A),Q?qa(A.toString(),E):Gr(A.toString(),E)}else ae(2);h.G=0,h.l&&h.l.sa(v),jh(h),Lh(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function jh(h){if(h.G=0,h.ka=[],h.l){const v=Nu(h.h);(v.length!=0||h.i.length!=0)&&(D(h.ka,v),D(h.ka,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.ra()}}function Fh(h,v,E){var A=E instanceof Wt?cr(E):new Wt(E);if(A.g!="")v&&(A.g=v+"."+A.g),Ls(A,A.s);else{var Q=d.location;A=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var ee=new Wt(null);A&&Ba(ee,A),v&&(ee.g=v),Q&&Ls(ee,Q),E&&(ee.l=E),A=ee}return E=h.D,v=h.ya,E&&v&&It(A,E,v),It(A,"VER",h.la),Qa(h,A),A}function qh(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new wt(new Vs({eb:E})):new wt(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hh(){}t=Hh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function il(){}il.prototype.g=function(h,v){return new Gn(h,v)};function Gn(h,v){mt.call(this),this.g=new el(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!H(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!H(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new _i(this)}R(Gn,mt),Gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){Uu(this.g)},Gn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Wn(h),h=E);v.i.push(new di(v.Ya++,h)),v.G==3&&nl(v)},Gn.prototype.N=function(){this.g.l=null,delete this.j,Uu(this.g),delete this.g,Gn.aa.N.call(this)};function Gh(h){Tr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}R(Gh,Tr);function $h(){ci.call(this),this.status=1}R($h,ci);function _i(h){this.g=h}R(_i,Hh),_i.prototype.ua=function(){gt(this.g,"a")},_i.prototype.ta=function(h){gt(this.g,new Gh(h))},_i.prototype.sa=function(h){gt(this.g,new $h)},_i.prototype.ra=function(){gt(this.g,"b")},il.prototype.createWebChannel=il.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,iC=function(){return new il},rC=function(){return hi()},nC=Fn,hv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$e.NO_ERROR=0,$e.TIMEOUT=8,$e.HTTP_ERROR=6,wd=$e,yt.COMPLETE="complete",tC=yt,xs.EventType=Hr,Hr.OPEN="a",Hr.CLOSE="b",Hr.ERROR="c",Hr.MESSAGE="d",mt.prototype.listen=mt.prototype.K,zc=xs,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,eC=wt}).apply(typeof td<"u"?td:typeof self<"u"?self:typeof window<"u"?window:{});const hS="@firebase/firestore",fS="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Au="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new t_("@firebase/firestore");function kl(){return Lo.logLevel}function _e(t,...e){if(Lo.logLevel<=it.DEBUG){const n=e.map(m_);Lo.debug(`Firestore (${Au}): ${t}`,...n)}}function Os(t,...e){if(Lo.logLevel<=it.ERROR){const n=e.map(m_);Lo.error(`Firestore (${Au}): ${t}`,...n)}}function cu(t,...e){if(Lo.logLevel<=it.WARN){const n=e.map(m_);Lo.warn(`Firestore (${Au}): ${t}`,...n)}}function m_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t="Unexpected state"){const e=`FIRESTORE (${Au}) INTERNAL ASSERTION FAILED: `+t;throw Os(e),new Error(e)}function At(t,e){t||ze()}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class s4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kn.UNAUTHENTICATED))}shutdown(){}}class a4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class o4{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){At(this.o===void 0);let i=this.i;const a=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new As;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new As,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new As)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(At(typeof i.accessToken=="string"),new sC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string"),new kn(e)}}class l4{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class u4{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new l4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c4{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Zr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){At(this.o===void 0);const i=l=>{l.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,_e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new dS(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(At(typeof n.token=="string"),this.R=n.token,new dS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=h4(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function We(t,e){return t<e?-1:t>e?1:0}function fv(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),a=e.codePointAt(n);if(i!==a){if(i<128&&a<128)return We(i,a);{const l=aC(),c=f4(l.encode(pS(t,n)),l.encode(pS(e,n)));return c!==0?c:We(i,a)}}n+=i>65535?2:1}return We(t.length,e.length)}function pS(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function f4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return We(t[n],e[n]);return We(t.length,e.length)}function hu(t,e,n){return t.length===e.length&&t.every((i,a)=>n(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=-62135596800,gS=1e6;class sn{static now(){return sn.fromMillis(Date.now())}static fromDate(e){return sn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*gS);return new sn(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<mS)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gS}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-mS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new sn(0,0))}static max(){return new je(new sn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="__name__";class Ci{constructor(e,n,i){n===void 0?n=0:n>e.length&&ze(),i===void 0?i=e.length-n:i>e.length-n&&ze(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Ci.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return We(e.length,n.length)}static compareSegments(e,n){const i=Ci.isNumericId(e),a=Ci.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Ci.extractNumericId(e).compare(Ci.extractNumericId(n)):fv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wa.fromString(e.substring(4,e.length-2))}}class Vt extends Ci{construct(e,n,i){return new Vt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ee(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new Vt(n)}static emptyPath(){return new Vt([])}}const d4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends Ci{construct(e,n,i){return new Dn(e,n,i)}static isValidIdentifier(e){return d4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yS}static keyField(){return new Dn([yS])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Ee(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Ee(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ee(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new Ee(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dn(n)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Vt.fromString(e))}static fromName(e){return new Me(Vt.fromString(e).popFirst(5))}static empty(){return new Me(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=-1;function p4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=je.fromTimestamp(i===1e9?new sn(n+1,0):new sn(n,i));return new Aa(a,Me.empty(),e)}function m4(t){return new Aa(t.readTime,t.key,ih)}class Aa{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Aa(je.min(),Me.empty(),ih)}static max(){return new Aa(je.max(),Me.empty(),ih)}}function g4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==y4)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):he.reject(n)}static resolve(e){return new he((n,i)=>{n(e)})}static reject(e){return new he((n,i)=>{i(e)})}static waitFor(e){return new he((n,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&n()},p=>i(p))}),c=!0,l===a&&n()})}static or(e){let n=he.resolve(!1);for(const i of e)n=n.next(a=>a?he.resolve(a):i());return n}static forEach(e,n){const i=[];return e.forEach((a,l)=>{i.push(n.call(this,a,l))}),this.waitFor(i)}static mapArray(e,n){return new he((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const m=p;n(e[m]).next(y=>{c[m]=y,++d,d===l&&i(c)},y=>a(y))}})}static doWhile(e,n){return new he((i,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):i()};l()})}}function _4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ap.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=-1;function Rp(t){return t==null}function $d(t){return t===0&&1/t==-1/0}function E4(t){return typeof t=="number"&&Number.isInteger(t)&&!$d(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="";function T4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vS(e)),e=w4(t.get(n),e);return vS(e)}function w4(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case lC:n+="";break;default:n+=l}}return n}function vS(t){return t+lC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){this.comparator=e,this.root=n||Cn.EMPTY}insert(e,n){return new jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nd(this.root,e,this.comparator,!0)}}class nd{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??Cn.RED,this.left=a??Cn.EMPTY,this.right=l??Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new Cn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Cn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ze();const e=this.left.check();if(e!==this.right.check())throw ze();return e+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze()}get value(){throw ze()}get color(){throw ze()}get left(){throw ze()}get right(){throw ze()}copy(e,n,i,a,l){return this}insert(e,n,i){return new Cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ES(this.data.getIterator())}getIteratorFrom(e){return new ES(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new hn(this.comparator);return n.data=e,n}}class ES{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new ti([])}unionWith(e){let n=new hn(Dn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hu(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new cC("Invalid base64 string: "+l):l}}(e);return new On(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new On(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}On.EMPTY_BYTE_STRING=new On("");const b4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ra(t){if(At(!!t),typeof t=="string"){let e=0;const n=b4.exec(t);if(At(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ca(t){return typeof t=="string"?On.fromBase64String(t):On.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="server_timestamp",fC="__type__",dC="__previous_value__",pC="__local_write_time__";function y_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[fC])===null||n===void 0?void 0:n.stringValue)===hC}function Cp(t){const e=t.mapValue.fields[dC];return y_(e)?Cp(e):e}function sh(t){const e=Ra(t.mapValue.fields[pC].timestampValue);return new sn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n,i,a,l,c,d,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m}}const Kd="(default)";class ah{constructor(e,n){this.projectId=e,this.database=n||Kd}static empty(){return new ah("","")}get isDefaultDatabase(){return this.database===Kd}isEqual(e){return e instanceof ah&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="__type__",A4="__max__",rd={mapValue:{}},gC="__vector__",Qd="value";function Ia(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?y_(t)?4:C4(t)?9007199254740991:R4(t)?10:11:ze()}function Bi(t,e){if(t===e)return!0;const n=Ia(t);if(n!==Ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sh(t).isEqual(sh(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ra(a.timestampValue),d=Ra(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Ca(a.bytesValue).isEqual(Ca(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return Qt(a.geoPointValue.latitude)===Qt(l.geoPointValue.latitude)&&Qt(a.geoPointValue.longitude)===Qt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Qt(a.integerValue)===Qt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Qt(a.doubleValue),d=Qt(l.doubleValue);return c===d?$d(c)===$d(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return hu(t.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(_S(c)!==_S(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Bi(c[p],d[p])))return!1;return!0}(t,e);default:return ze()}}function oh(t,e){return(t.values||[]).find(n=>Bi(n,e))!==void 0}function fu(t,e){if(t===e)return 0;const n=Ia(t),i=Ia(e);if(n!==i)return We(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Qt(l.integerValue||l.doubleValue),p=Qt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(t,e);case 3:return TS(t.timestampValue,e.timestampValue);case 4:return TS(sh(t),sh(e));case 5:return fv(t.stringValue,e.stringValue);case 6:return function(l,c){const d=Ca(l),p=Ca(c);return d.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const y=We(d[m],p[m]);if(y!==0)return y}return We(d.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const d=We(Qt(l.latitude),Qt(c.latitude));return d!==0?d:We(Qt(l.longitude),Qt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wS(t.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,m,y;const _=l.fields||{},w=c.fields||{},S=(d=_[Qd])===null||d===void 0?void 0:d.arrayValue,R=(p=w[Qd])===null||p===void 0?void 0:p.arrayValue,N=We(((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0,((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0);return N!==0?N:wS(S,R)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===rd.mapValue&&c===rd.mapValue)return 0;if(l===rd.mapValue)return 1;if(c===rd.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),m=c.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let _=0;_<p.length&&_<y.length;++_){const w=fv(p[_],y[_]);if(w!==0)return w;const S=fu(d[p[_]],m[y[_]]);if(S!==0)return S}return We(p.length,y.length)}(t.mapValue,e.mapValue);default:throw ze()}}function TS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Ra(t),i=Ra(e),a=We(n.seconds,i.seconds);return a!==0?a:We(n.nanos,i.nanos)}function wS(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=fu(n[a],i[a]);if(l)return l}return We(n.length,i.length)}function du(t){return dv(t)}function dv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ra(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ca(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=dv(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${dv(n.fields[c])}`;return a+"}"}(t.mapValue):ze()}function bd(t){switch(Ia(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cp(t);return e?16+bd(e):16;case 5:return 2*t.stringValue.length;case 6:return Ca(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+bd(l),0)}(t.arrayValue);case 10:case 11:return function(i){let a=0;return qo(i.fields,(l,c)=>{a+=l.length+bd(c)}),a}(t.mapValue);default:throw ze()}}function bS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function pv(t){return!!t&&"integerValue"in t}function v_(t){return!!t&&"arrayValue"in t}function SS(t){return!!t&&"nullValue"in t}function AS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sd(t){return!!t&&"mapValue"in t}function R4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[mC])===null||n===void 0?void 0:n.stringValue)===gC}function Gc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qo(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Gc(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function C4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===A4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Sd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gc(n)}setAll(e){let n=Dn.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,i,a),i={},a=[],n=d.popLast()}c?i[d.lastSegment()]=Gc(c):a.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Sd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Sd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){qo(n,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new zr(Gc(this.value))}}function yC(t){const e=[];return qo(t.fields,(n,i)=>{const a=new Dn([n]);if(Sd(i)){const l=yC(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new ti(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n,i,a,l,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Ln(e,0,je.min(),je.min(),je.min(),zr.empty(),0)}static newFoundDocument(e,n,i,a){return new Ln(e,1,n,je.min(),i,a,0)}static newNoDocument(e,n){return new Ln(e,2,n,je.min(),je.min(),zr.empty(),0)}static newUnknownDocument(e,n){return new Ln(e,3,n,je.min(),je.min(),zr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n){this.position=e,this.inclusive=n}}function RS(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Me.comparator(Me.fromName(c.referenceValue),n.key):i=fu(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function CS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n="asc"){this.field=e,this.dir=n}}function I4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{}class nn extends vC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new O4(e,n,i):n==="array-contains"?new P4(e,i):n==="in"?new x4(e,i):n==="not-in"?new k4(e,i):n==="array-contains-any"?new L4(e,i):new nn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new N4(e,i):new M4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fu(n,this.value)):n!==null&&Ia(this.value)===Ia(n)&&this.matchesComparison(fu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends vC{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new si(e,n)}matches(e){return _C(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function _C(t){return t.op==="and"}function EC(t){return D4(t)&&_C(t)}function D4(t){for(const e of t.filters)if(e instanceof si)return!1;return!0}function mv(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+du(t.value);if(EC(t))return t.filters.map(e=>mv(e)).join(",");{const e=t.filters.map(n=>mv(n)).join(",");return`${t.op}(${e})`}}function TC(t,e){return t instanceof nn?function(i,a){return a instanceof nn&&i.op===a.op&&i.field.isEqual(a.field)&&Bi(i.value,a.value)}(t,e):t instanceof si?function(i,a){return a instanceof si&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&TC(c,a.filters[d]),!0):!1}(t,e):void ze()}function wC(t){return t instanceof nn?function(n){return`${n.field.canonicalString()} ${n.op} ${du(n.value)}`}(t):t instanceof si?function(n){return n.op.toString()+" {"+n.getFilters().map(wC).join(" ,")+"}"}(t):"Filter"}class O4 extends nn{constructor(e,n,i){super(e,n,i),this.key=Me.fromName(i.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class N4 extends nn{constructor(e,n){super(e,"in",n),this.keys=bC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class M4 extends nn{constructor(e,n){super(e,"not-in",n),this.keys=bC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Me.fromName(i.referenceValue))}class P4 extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return v_(n)&&oh(n.arrayValue,this.value)}}class x4 extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oh(this.value.arrayValue,n)}}class k4 extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!oh(this.value.arrayValue,n)}}class L4 extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!v_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>oh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function IS(t,e=null,n=[],i=[],a=null,l=null,c=null){return new V4(t,e,n,i,a,l,c)}function __(t){const e=qe(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>mv(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Rp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>du(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>du(i)).join(",")),e.le=n}return e.le}function E_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!I4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CS(t.startAt,e.startAt)&&CS(t.endAt,e.endAt)}function gv(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n=null,i=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function U4(t,e,n,i,a,l,c,d){return new Iu(t,e,n,i,a,l,c,d)}function Ip(t){return new Iu(t)}function DS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SC(t){return t.collectionGroup!==null}function $c(t){const e=qe(t);if(e.he===null){e.he=[];const n=new Set;for(const l of e.explicitOrderBy)e.he.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new hn(Dn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.he.push(new lh(l,i))}),n.has(Dn.keyField().canonicalString())||e.he.push(new lh(Dn.keyField(),i))}return e.he}function ki(t){const e=qe(t);return e.Pe||(e.Pe=z4(e,$c(t))),e.Pe}function z4(t,e){if(t.limitType==="F")return IS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new lh(a.field,l)});const n=t.endAt?new Yd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Yd(t.startAt.position,t.startAt.inclusive):null;return IS(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function yv(t,e){const n=t.filters.concat([e]);return new Iu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vv(t,e,n){return new Iu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dp(t,e){return E_(ki(t),ki(e))&&t.limitType===e.limitType}function AC(t){return`${__(ki(t))}|lt:${t.limitType}`}function Ll(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>wC(a)).join(", ")}]`),Rp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>du(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>du(a)).join(",")),`Target(${i})`}(ki(t))}; limitType=${t.limitType})`}function Op(t,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Me.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,a){for(const l of $c(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!function(c,d,p){const m=RS(c,d,p);return c.inclusive?m<=0:m<0}(i.startAt,$c(i),a)||i.endAt&&!function(c,d,p){const m=RS(c,d,p);return c.inclusive?m>=0:m>0}(i.endAt,$c(i),a))}(t,e)}function B4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RC(t){return(e,n)=>{let i=!1;for(const a of $c(t)){const l=j4(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function j4(t,e,n){const i=t.field.isKeyField()?Me.comparator(e.key,n.key):function(l,c,d){const p=c.data.field(l),m=d.data.field(l);return p!==null&&m!==null?fu(p,m):ze()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ze()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){qo(this.inner,(n,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return uC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=new jt(Me.comparator);function Ns(){return F4}const CC=new jt(Me.comparator);function Bc(...t){let e=CC;for(const n of t)e=e.insert(n.key,n);return e}function IC(t){let e=CC;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function vo(){return Kc()}function DC(){return Kc()}function Kc(){return new Ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const q4=new jt(Me.comparator),H4=new hn(Me.comparator);function st(...t){let e=H4;for(const n of t)e=e.add(n);return e}const G4=new hn(We);function $4(){return G4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$d(e)?"-0":e}}function OC(t){return{integerValue:""+t}}function K4(t,e){return E4(e)?OC(e):T_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(){this._=void 0}}function Q4(t,e,n){return t instanceof Xd?function(a,l){const c={fields:{[fC]:{stringValue:hC},[pC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&y_(l)&&(l=Cp(l)),l&&(c.fields[dC]=l),{mapValue:c}}(n,e):t instanceof uh?MC(t,e):t instanceof ch?PC(t,e):function(a,l){const c=NC(a,l),d=OS(c)+OS(a.Ie);return pv(c)&&pv(a.Ie)?OC(d):T_(a.serializer,d)}(t,e)}function Y4(t,e,n){return t instanceof uh?MC(t,e):t instanceof ch?PC(t,e):n}function NC(t,e){return t instanceof Wd?function(i){return pv(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Xd extends Np{}class uh extends Np{constructor(e){super(),this.elements=e}}function MC(t,e){const n=xC(e);for(const i of t.elements)n.some(a=>Bi(a,i))||n.push(i);return{arrayValue:{values:n}}}class ch extends Np{constructor(e){super(),this.elements=e}}function PC(t,e){let n=xC(e);for(const i of t.elements)n=n.filter(a=>!Bi(a,i));return{arrayValue:{values:n}}}class Wd extends Np{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function OS(t){return Qt(t.integerValue||t.doubleValue)}function xC(t){return v_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function X4(t,e){return t.field.isEqual(e.field)&&function(i,a){return i instanceof uh&&a instanceof uh||i instanceof ch&&a instanceof ch?hu(i.elements,a.elements,Bi):i instanceof Wd&&a instanceof Wd?Bi(i.Ie,a.Ie):i instanceof Xd&&a instanceof Xd}(t.transform,e.transform)}class W4{constructor(e,n){this.version=e,this.transformResults=n}}class Rs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rs}static exists(e){return new Rs(void 0,e)}static updateTime(e){return new Rs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ad(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mp{}function kC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new VC(t.key,Rs.none()):new Ih(t.key,t.data,Rs.none());{const n=t.data,i=zr.empty();let a=new hn(Dn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Go(t.key,i,new ti(a.toArray()),Rs.none())}}function J4(t,e,n){t instanceof Ih?function(a,l,c){const d=a.value.clone(),p=MS(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Go?function(a,l,c){if(!Ad(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=MS(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(LC(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Qc(t,e,n,i){return t instanceof Ih?function(l,c,d,p){if(!Ad(l.precondition,c))return d;const m=l.value.clone(),y=PS(l.fieldTransforms,p,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof Go?function(l,c,d,p){if(!Ad(l.precondition,c))return d;const m=PS(l.fieldTransforms,p,c),y=c.data;return y.setAll(LC(l)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,i):function(l,c,d){return Ad(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function Z4(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=NC(i.transform,a||null);l!=null&&(n===null&&(n=zr.empty()),n.set(i.field,l))}return n||null}function NS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&hu(i,a,(l,c)=>X4(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ih extends Mp{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Go extends Mp{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function LC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function MS(t,e,n){const i=new Map;At(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,Y4(c,d,n[a]))}return i}function PS(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,Q4(l,c,e))}return i}class VC extends Mp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e9 extends Mp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&J4(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Qc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Qc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=DC();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const p=kC(c,d);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(je.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&hu(this.mutations,e.mutations,(n,i)=>NS(n,i))&&hu(this.baseMutations,e.baseMutations,(n,i)=>NS(n,i))}}class w_{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){At(e.mutations.length===i.length);let a=function(){return q4}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new w_(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,pt;function i9(t){switch(t){case ce.OK:return ze();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return ze()}}function UC(t){if(t===void 0)return Os("GRPC error has no .code"),ce.UNKNOWN;switch(t){case en.OK:return ce.OK;case en.CANCELLED:return ce.CANCELLED;case en.UNKNOWN:return ce.UNKNOWN;case en.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case en.INTERNAL:return ce.INTERNAL;case en.UNAVAILABLE:return ce.UNAVAILABLE;case en.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case en.NOT_FOUND:return ce.NOT_FOUND;case en.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case en.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case en.ABORTED:return ce.ABORTED;case en.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case en.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case en.DATA_LOSS:return ce.DATA_LOSS;default:return ze()}}(pt=en||(en={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=new wa([4294967295,4294967295],0);function xS(t){const e=aC().encode(t),n=new Z1;return n.update(e),new Uint8Array(n.digest())}function kS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new wa([n,i],0),new wa([a,l],0)]}class b_{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new jc(`Invalid padding: ${n}`);if(i<0)throw new jc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new jc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new jc(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=wa.fromNumber(this.Ee)}Ae(e,n,i){let a=e.add(n.multiply(wa.fromNumber(i)));return a.compare(s9)===1&&(a=new wa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=xS(e),[i,a]=kS(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new b_(l,a,n);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const n=xS(e),[i,a]=kS(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Dh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Pp(je.min(),a,new jt(We),Ns(),st())}}class Dh{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Dh(i,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,i,a){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=a}}class zC{constructor(e,n){this.targetId=e,this.ge=n}}class BC{constructor(e,n,i=On.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class LS{constructor(){this.pe=0,this.ye=VS(),this.we=On.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=st(),n=st(),i=st();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:ze()}}),new Dh(this.we,this.Se,e,n,i)}Me(){this.be=!1,this.ye=VS()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,At(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class a9{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ns(),this.$e=id(),this.Ue=id(),this.Ke=new jt(We)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:ze()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,i=e.ge.count,a=this.Xe(n);if(a){const l=a.target;if(gv(l))if(i===0){const c=new Me(l.path);this.ze(n,c,Ln.newNoDocument(c,je.min()))}else At(i===1);else{const c=this.et(n);if(c!==i){const d=this.tt(e),p=d?this.nt(d,e,c):1;if(p!==0){this.Ye(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,m)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Ca(i).toUint8Array()}catch(p){if(p instanceof cC)return cu("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new b_(c,a,l)}catch(p){return cu(p instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let a=0;return i.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(n,l,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&gv(d.target)){const p=new Me(d.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,Ln.newNoDocument(p,e))}l.ve&&(n.set(c,l.Fe()),l.Me())}});let i=st();this.Ue.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const m=this.Xe(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new Pp(e,n,this.Ke,this.Qe,i);return this.Qe=Ns(),this.$e=id(),this.Ue=id(),this.Ke=new jt(We),a}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new LS,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new hn(We),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new hn(We),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new LS),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function id(){return new jt(Me.comparator)}function VS(){return new jt(Me.comparator)}const o9={asc:"ASCENDING",desc:"DESCENDING"},l9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u9={and:"AND",or:"OR"};class c9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _v(t,e){return t.useProto3Json||Rp(e)?e:{value:e}}function Jd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function h9(t,e){return Jd(t,e.toTimestamp())}function Li(t){return At(!!t),je.fromTimestamp(function(n){const i=Ra(n);return new sn(i.seconds,i.nanos)}(t))}function S_(t,e){return Ev(t,e).canonicalString()}function Ev(t,e){const n=function(a){return new Vt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FC(t){const e=Vt.fromString(t);return At(KC(e)),e}function Tv(t,e){return S_(t.databaseId,e.path)}function gy(t,e){const n=FC(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(HC(n))}function qC(t,e){return S_(t.databaseId,e)}function f9(t){const e=FC(t);return e.length===4?Vt.emptyPath():HC(e)}function wv(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HC(t){return At(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function US(t,e,n){return{name:Tv(t,e),fields:n.value.mapValue.fields}}function d9(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,y){return m.useProto3Json?(At(y===void 0||typeof y=="string"),On.fromBase64String(y||"")):(At(y===void 0||y instanceof Buffer||y instanceof Uint8Array),On.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(m){const y=m.code===void 0?ce.UNKNOWN:UC(m.code);return new Ee(y,m.message||"")}(c);n=new BC(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=gy(t,i.document.name),l=Li(i.document.updateTime),c=i.document.createTime?Li(i.document.createTime):je.min(),d=new zr({mapValue:{fields:i.document.fields}}),p=Ln.newFoundDocument(a,l,c,d),m=i.targetIds||[],y=i.removedTargetIds||[];n=new Rd(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=gy(t,i.document),l=i.readTime?Li(i.readTime):je.min(),c=Ln.newNoDocument(a,l),d=i.removedTargetIds||[];n=new Rd([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=gy(t,i.document),l=i.removedTargetIds||[];n=new Rd([],l,a,null)}else{if(!("filter"in e))return ze();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new r9(a,l),d=i.targetId;n=new zC(d,c)}}return n}function p9(t,e){let n;if(e instanceof Ih)n={update:US(t,e.key,e.value)};else if(e instanceof VC)n={delete:Tv(t,e.key)};else if(e instanceof Go)n={update:US(t,e.key,e.data),updateMask:b9(e.fieldMask)};else{if(!(e instanceof e9))return ze();n={verify:Tv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Xd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof uh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ch)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Wd)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw ze()}(0,i))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:h9(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ze()}(t,e.precondition)),n}function m9(t,e){return t&&t.length>0?(At(e!==void 0),t.map(n=>function(a,l){let c=a.updateTime?Li(a.updateTime):Li(l);return c.isEqual(je.min())&&(c=Li(l)),new W4(c,a.transformResults||[])}(n,e))):[]}function g9(t,e){return{documents:[qC(t,e.path)]}}function y9(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=qC(t,a);const l=function(m){if(m.length!==0)return $C(si.create(m,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(y=>function(w){return{field:Vl(w.field),direction:E9(w.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=_v(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:n,parent:a}}function v9(t){let e=f9(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){At(i===1);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(_){const w=GC(_);return w instanceof si&&EC(w)?w.getFilters():[w]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(w=>function(R){return new lh(Ul(R.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(w))}(n.orderBy));let d=null;n.limit&&(d=function(_){let w;return w=typeof _=="object"?_.value:_,Rp(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(_){const w=!!_.before,S=_.values||[];return new Yd(S,w)}(n.startAt));let m=null;return n.endAt&&(m=function(_){const w=!_.before,S=_.values||[];return new Yd(S,w)}(n.endAt)),U4(e,a,c,l,d,"F",p,m)}function _9(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ul(n.unaryFilter.field);return nn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Ul(n.unaryFilter.field);return nn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ul(n.unaryFilter.field);return nn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ul(n.unaryFilter.field);return nn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return ze()}}(t):t.fieldFilter!==void 0?function(n){return nn.create(Ul(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ze()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return si.create(n.compositeFilter.filters.map(i=>GC(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ze()}}(n.compositeFilter.op))}(t):ze()}function E9(t){return o9[t]}function T9(t){return l9[t]}function w9(t){return u9[t]}function Vl(t){return{fieldPath:t.canonicalString()}}function Ul(t){return Dn.fromServerFormat(t.fieldPath)}function $C(t){return t instanceof nn?function(n){if(n.op==="=="){if(AS(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NAN"}};if(SS(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AS(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NOT_NAN"}};if(SS(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vl(n.field),op:T9(n.op),value:n.value}}}(t):t instanceof si?function(n){const i=n.getFilters().map(a=>$C(a));return i.length===1?i[0]:{compositeFilter:{op:w9(n.op),filters:i}}}(t):ze()}function b9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n,i,a,l=je.min(),c=je.min(),d=On.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e){this.Tt=e}}function A9(t){const e=v9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(){this.Tn=new C9}addToCollectionParentIndex(e,n){return this.Tn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Aa.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Aa.min())}updateCollectionGroup(e,n,i){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class C9{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new hn(Vt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new hn(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QC=41943040;class nr{static withCacheSize(e){return new nr(e,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr.DEFAULT_COLLECTION_PERCENTILE=10,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nr.DEFAULT=new nr(QC,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nr.DISABLED=new nr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new pu(0)}static Kn(){return new pu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="LruGarbageCollector",I9=1048576;function jS([t,e],[n,i]){const a=We(t,n);return a===0?We(e,i):a}class D9{constructor(e){this.Hn=e,this.buffer=new hn(jS),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();jS(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class O9{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){_e(BS,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cu(n)?_e(BS,"Ignoring IndexedDB error during garbage collection: ",n):await Ru(n)}await this.er(3e5)})}}class N9{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return he.resolve(Ap.ae);const i=new D9(n);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(zS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zS):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,a,l,c,d,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,d=Date.now(),this.removeTargets(e,i,n))).next(_=>(l=_,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(m=Date.now(),kl()<=it.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${_} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function M9(t,e){return new N9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(){this.changes=new Ho(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?he.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(i!==null&&Qc(i.mutation,a,ti.empty(),sn.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,st()).next(()=>i))}getLocalViewOfDocuments(e,n,i=st()){const a=vo();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,i).next(l=>{let c=Bc();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=vo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,st()))}populateOverlays(e,n,i){const a=[];return i.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,i,a){let l=Ns();const c=Kc(),d=function(){return Kc()}();return n.forEach((p,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Go)?l=l.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Qc(y.mutation,m,y.mutation.getFieldMask(),sn.now())):c.set(m.key,ti.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,y)=>c.set(m,y)),n.forEach((m,y)=>{var _;return d.set(m,new x9(y,(_=c.get(m))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,n){const i=Kc();let a=new jt((c,d)=>c-d),l=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(p=>{const m=n.get(p);if(m===null)return;let y=i.get(p)||ti.empty();y=d.applyToLocalView(m,y),i.set(p,y);const _=(a.get(d.batchId)||st()).add(p);a=a.insert(d.batchId,_)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,y=p.value,_=DC();y.forEach(w=>{if(!l.has(w)){const S=kC(n.get(w),i.get(w));S!==null&&_.set(w,S),l=l.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,_))}return he.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,a){return function(c){return Me.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):he.resolve(vo());let d=ih,p=l;return c.next(m=>he.forEach(m,(y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?he.resolve():this.remoteDocumentCache.getEntry(e,y).next(w=>{p=p.insert(y,w)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,st())).next(y=>({batchId:d,changes:IC(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next(i=>{let a=Bc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Bc();return this.indexManager.getCollectionParents(e,l).next(d=>he.forEach(d,p=>{const m=function(_,w){return new Iu(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(y=>{y.forEach((_,w)=>{c=c.insert(_,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a))).next(c=>{l.forEach((p,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,Ln.newInvalidDocument(y)))});let d=Bc();return c.forEach((p,m)=>{const y=l.get(p);y!==void 0&&Qc(y.mutation,m,ti.empty(),sn.now()),Op(n,m)&&(d=d.insert(p,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return he.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Li(a.createTime)}}(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:A9(a.bundledQuery),readTime:Li(a.readTime)}}(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(){this.overlays=new jt(Me.comparator),this.Rr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const i=vo();return he.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((a,l)=>{this.Et(e,n,l)}),he.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),he.resolve()}getOverlaysForCollection(e,n,i){const a=vo(),l=n.length+1,c=new Me(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return he.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new jt((m,y)=>m-y);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let y=l.get(m.largestBatchId);y===null&&(y=vo(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=vo(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,y)=>d.set(m,y)),!(d.size()>=a)););return he.resolve(d)}Et(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new n9(n,i));let l=this.Rr.get(n);l===void 0&&(l=st(),this.Rr.set(n,l)),this.Rr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(){this.sessionToken=On.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.Vr=new hn(_n.mr),this.gr=new hn(_n.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new _n(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new _n(e,n))}Sr(e,n){e.forEach(i=>this.removeReference(i,n))}br(e){const n=new Me(new Vt([])),i=new _n(n,e),a=new _n(n,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Me(new Vt([])),i=new _n(n,e),a=new _n(n,e+1);let l=st();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new _n(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class _n{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Me.comparator(e.key,n.key)||We(e.Cr,n.Cr)}static pr(e,n){return We(e.Cr,n.Cr)||Me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new hn(_n.mr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new t9(l,n,i,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new _n(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,n){return he.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Nr(i),l=a<0?0:a;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?g_:this.Fr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new _n(n,0),a=new _n(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const d=this.Or(c.Cr);l.push(d)}),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new hn(We);return n.forEach(a=>{const l=new _n(a,0),c=new _n(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{i=i.add(d.Cr)})}),he.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Me.isDocumentKey(l)||(l=l.child(""));const c=new _n(new Me(l),0);let d=new hn(We);return this.Mr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(d=d.add(p.Cr)),!0)},c),he.resolve(this.Br(d))}Br(e){const n=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){At(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return he.forEach(n.mutations,a=>{const l=new _n(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new _n(n,0),a=this.Mr.firstAfterOrEqual(i);return he.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){this.kr=e,this.docs=function(){return new jt(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return he.resolve(i?i.document.mutableCopy():Ln.newInvalidDocument(n))}getEntries(e,n){let i=Ns();return n.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Ln.newInvalidDocument(a))}),he.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Ns();const c=n.path,d=new Me(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||g4(m4(y),i)<=0||(a.has(y.key)||Op(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,n,i,a){ze()}qr(e,n){return he.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new j9(this)}getSize(e){return he.resolve(this.size)}}class j9 extends P9{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),he.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e){this.persistence=e,this.Qr=new Ho(n=>__(n),E_),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.$r=0,this.Ur=new A_,this.targetCount=0,this.Kr=pu.Un()}forEachTarget(e,n){return this.Qr.forEach((i,a)=>n(a)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),he.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new pu(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.zn(n),he.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),he.waitFor(l).next(()=>a)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return he.resolve(i)}addMatchingKeys(e,n,i){return this.Ur.yr(n,i),he.resolve()}removeMatchingKeys(e,n,i){this.Ur.Sr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),he.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),he.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Ur.vr(n);return he.resolve(i)}containsKey(e,n){return he.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Ap(0),this.zr=!1,this.zr=!0,this.jr=new U9,this.referenceDelegate=e(this),this.Hr=new F9(this),this.indexManager=new R9,this.remoteDocumentCache=function(a){return new B9(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new S9(n),this.Yr=new L9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new V9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new z9(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){_e("MemoryPersistence","Starting transaction:",e);const a=new q9(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,n){return he.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class q9 extends v4{constructor(e){super(),this.currentSequenceNumber=e}}class R_{constructor(e){this.persistence=e,this.ti=new A_,this.ni=null}static ri(e){return new R_(e)}get ii(){if(this.ni)return this.ni;throw ze()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),he.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),he.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.ii,i=>{const a=Me.fromPath(i);return this.si(e,a).next(l=>{l||n.removeEntry(a,je.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return he.or([()=>he.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Zd{constructor(e,n){this.persistence=e,this.oi=new Ho(i=>T4(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=M9(this,n)}static ri(e,n){return new Zd(e,n)}Zr(){}Xr(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(a=>i+a))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return he.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?he.resolve():n(a)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,n).next(d=>{d||(i++,l.removeEntry(c,je.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),he.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),he.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bd(e.data.value)),n}ar(e,n,i){return he.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return he.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=a}static Yi(e,n){let i=st(),a=st();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new C_(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return j2()?8:_4(Un())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.rs(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,n,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new H9;return this._s(e,n,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,n,c,d.size)})}).next(()=>l.result)}us(e,n,i,a){return i.documentReadCount<this.es?(kl()<=it.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Ll(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),he.resolve()):(kl()<=it.DEBUG&&_e("QueryEngine","Query:",Ll(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(kl()<=it.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Ll(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(n))):he.resolve())}rs(e,n){if(DS(n))return he.resolve(null);let i=ki(n);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=vv(n,null,"F"),i=ki(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=st(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.cs(n,d);return this.ls(n,m,c,p.readTime)?this.rs(e,vv(n,null,"F")):this.hs(e,m,n,p)}))})))}ss(e,n,i,a){return DS(n)||a.isEqual(je.min())?he.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(n,l);return this.ls(n,c,i,a)?he.resolve(null):(kl()<=it.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ll(n)),this.hs(e,c,n,p4(a,ih)).next(d=>d))})}cs(e,n){let i=new hn(RC(e));return n.forEach((a,l)=>{Op(e,l)&&(i=i.add(l))}),i}ls(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,n,i){return kl()<=it.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Ll(n)),this.ns.getDocumentsMatchingQuery(e,n,Aa.min(),i)}hs(e,n,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="LocalStore",$9=3e8;class K9{constructor(e,n,i,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new jt(We),this.Is=new Ho(l=>__(l),E_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k9(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function Q9(t,e,n,i){return new K9(t,e,n,i)}async function XC(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=st();for(const m of a){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of l){d.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(i,p).next(m=>({Rs:m,removedBatchIds:c,addedBatchIds:d}))})})}function Y9(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,m,y){const _=m.batch,w=_.keys();let S=he.resolve();return w.forEach(R=>{S=S.next(()=>y.getEntry(p,R)).next(N=>{const D=m.docVersions.get(R);At(D!==null),N.version.compareTo(D)<0&&(_.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),y.addEntry(N)))})}),S.next(()=>d.mutationQueue.removeMutationBatch(p,_))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=st();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,a))})}function WC(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function X9(t,e){const n=qe(t),i=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const d=[];e.targetChanges.forEach((y,_)=>{const w=a.get(_);if(!w)return;d.push(n.Hr.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(l,y.addedDocuments,_)));let S=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(On.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),a=a.insert(_,S),function(N,D,B){return N.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=$9?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(w,S,y)&&d.push(n.Hr.updateTargetData(l,S))});let p=Ns(),m=st();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),d.push(W9(l,c,e.documentUpdates).next(y=>{p=y.Vs,m=y.fs})),!i.isEqual(je.min())){const y=n.Hr.getLastRemoteSnapshotVersion(l).next(_=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(y)}return he.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(n.Ts=a,l))}function W9(t,e,n){let i=st(),a=st();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let c=Ns();return n.forEach((d,p)=>{const m=l.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(je.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):_e(I_,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)}),{Vs:c,fs:a}})}function J9(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=g_),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Z9(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Hr.getTargetData(i,e).next(l=>l?(a=l,he.resolve(a)):n.Hr.allocateTargetId(i).next(c=>(a=new Ea(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function bv(t,e,n){const i=qe(t),a=i.Ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Cu(c))throw c;_e(I_,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function FS(t,e,n){const i=qe(t);let a=je.min(),l=st();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,y){const _=qe(p),w=_.Is.get(y);return w!==void 0?he.resolve(_.Ts.get(w)):_.Hr.getTargetData(m,y)}(i,c,ki(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,n?a:je.min(),n?l:st())).next(d=>(e6(i,B4(e),d),{documents:d,gs:l})))}function e6(t,e,n){let i=t.Es.get(e)||je.min();n.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Es.set(e,i)}class qS{constructor(){this.activeTargetIds=$4()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t6{constructor(){this.ho=new qS,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new qS,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="ConnectivityMonitor";class GS{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){_e(HS,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){_e(HS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd=null;function Sv(){return sd===null?sd=function(){return 268435456+Math.round(2147483648*Math.random())}():sd++,"0x"+sd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="RestConnection",r6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class i6{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===Kd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}So(e,n,i,a,l){const c=Sv(),d=this.bo(e,n.toUriEncodedString());_e(yy,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(e,d,p,i).then(m=>(_e(yy,`Received RPC '${e}' ${c}: `,m),m),m=>{throw cu(yy,`RPC '${e}' ${c} failed with error: `,m,"url: ",d,"request:",i),m})}Co(e,n,i,a,l,c){return this.So(e,n,i,a,l)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Au}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}bo(e,n){const i=r6[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="WebChannelConnection";class a6 extends i6{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,a){const l=Sv();return new Promise((c,d)=>{const p=new eC;p.setWithCredentials(!0),p.listenOnce(tC.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case wd.NO_ERROR:const y=p.getResponseJson();_e(Pn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case wd.TIMEOUT:_e(Pn,`RPC '${e}' ${l} timed out`),d(new Ee(ce.DEADLINE_EXCEEDED,"Request time out"));break;case wd.HTTP_ERROR:const _=p.getStatus();if(_e(Pn,`RPC '${e}' ${l} failed with status:`,_,"response text:",p.getResponseText()),_>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w==null?void 0:w.error;if(S&&S.status&&S.message){const R=function(D){const B=D.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(B)>=0?B:ce.UNKNOWN}(S.status);d(new Ee(R,S.message))}else d(new Ee(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Ee(ce.UNAVAILABLE,"Connection failed."));break;default:ze()}}finally{_e(Pn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(a);_e(Pn,`RPC '${e}' ${l} sending request:`,a),p.send(n,"POST",m,i,15)})}Wo(e,n,i){const a=Sv(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=iC(),d=rC(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=l.join("");_e(Pn,`Creating RPC '${e}' stream ${a}: ${y}`,p);const _=c.createWebChannel(y,p);let w=!1,S=!1;const R=new s6({Fo:D=>{S?_e(Pn,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(w||(_e(Pn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),w=!0),_e(Pn,`RPC '${e}' stream ${a} sending:`,D),_.send(D))},Mo:()=>_.close()}),N=(D,B,H)=>{D.listen(B,q=>{try{H(q)}catch(ie){setTimeout(()=>{throw ie},0)}})};return N(_,zc.EventType.OPEN,()=>{S||(_e(Pn,`RPC '${e}' stream ${a} transport opened.`),R.Qo())}),N(_,zc.EventType.CLOSE,()=>{S||(S=!0,_e(Pn,`RPC '${e}' stream ${a} transport closed`),R.Uo())}),N(_,zc.EventType.ERROR,D=>{S||(S=!0,cu(Pn,`RPC '${e}' stream ${a} transport errored:`,D),R.Uo(new Ee(ce.UNAVAILABLE,"The operation could not be completed")))}),N(_,zc.EventType.MESSAGE,D=>{var B;if(!S){const H=D.data[0];At(!!H);const q=H,ie=(q==null?void 0:q.error)||((B=q[0])===null||B===void 0?void 0:B.error);if(ie){_e(Pn,`RPC '${e}' stream ${a} received error:`,ie);const M=ie.status;let re=function(I){const k=en[I];if(k!==void 0)return UC(k)}(M),O=ie.message;re===void 0&&(re=ce.INTERNAL,O="Unknown error status: "+M+" with message "+ie.message),S=!0,R.Uo(new Ee(re,O)),_.close()}else _e(Pn,`RPC '${e}' stream ${a} received:`,H),R.Ko(H)}}),N(d,nC.STAT_EVENT,D=>{D.stat===hv.PROXY?_e(Pn,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===hv.NOPROXY&&_e(Pn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.$o()},0),R}}function vy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t){return new c9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-i);a>0&&_e("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="PersistentStream";class ZC{constructor(e,n,i,a,l,c,d,p){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new JC(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Os(n.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===n&&this.V_(i,a)},i=>{e(()=>{const a=new Ee(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return _e($S,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(_e($S,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o6 extends ZC{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=d9(this.serializer,e),i=function(l){if(!("targetChange"in l))return je.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?je.min():c.readTime?Li(c.readTime):je.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=wv(this.serializer),n.addTarget=function(l,c){let d;const p=c.target;if(d=gv(p)?{documents:g9(l,p)}:{query:y9(l,p).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=jC(l,c.resumeToken);const m=_v(l,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(je.min())>0){d.readTime=Jd(l,c.snapshotVersion.toTimestamp());const m=_v(l,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const i=_9(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=wv(this.serializer),n.removeTarget=e,this.I_(n)}}class l6 extends ZC{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return At(!!e.streamToken),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=m9(e.writeResults,e.commitTime),i=Li(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=wv(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>p9(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{}class c6 extends u6{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Ee(ce.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,Ev(n,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(ce.UNKNOWN,l.toString())})}Co(e,n,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,Ev(n,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ee(ce.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class h6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Os(n),this.N_=!1):_e("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="RemoteStore";class f6{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{$o(this)&&(_e(Vo,"Restarting streams for network reachability change."),await async function(p){const m=qe(p);m.W_.add(4),await Oh(m),m.j_.set("Unknown"),m.W_.delete(4),await kp(m)}(this))})}),this.j_=new h6(i,a)}}async function kp(t){if($o(t))for(const e of t.G_)await e(!0)}async function Oh(t){for(const e of t.G_)await e(!1)}function eI(t,e){const n=qe(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),M_(n)?N_(n):Du(n).c_()&&O_(n,e))}function D_(t,e){const n=qe(t),i=Du(n);n.K_.delete(e),i.c_()&&tI(n,e),n.K_.size===0&&(i.c_()?i.P_():$o(n)&&n.j_.set("Unknown"))}function O_(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Du(t).y_(e)}function tI(t,e){t.H_.Ne(e),Du(t).w_(e)}function N_(t){t.H_=new a9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Du(t).start(),t.j_.B_()}function M_(t){return $o(t)&&!Du(t).u_()&&t.K_.size>0}function $o(t){return qe(t).W_.size===0}function nI(t){t.H_=void 0}async function d6(t){t.j_.set("Online")}async function p6(t){t.K_.forEach((e,n)=>{O_(t,e)})}async function m6(t,e){nI(t),M_(t)?(t.j_.q_(e),N_(t)):t.j_.set("Unknown")}async function g6(t,e,n){if(t.j_.set("Online"),e instanceof BC&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.K_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.K_.delete(d),a.H_.removeTarget(d))}(t,e)}catch(i){_e(Vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ep(t,i)}else if(e instanceof Rd?t.H_.We(e):e instanceof zC?t.H_.Ze(e):t.H_.je(e),!n.isEqual(je.min()))try{const i=await WC(t.localStore);n.compareTo(i)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.K_.get(m);y&&l.K_.set(m,y.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,m)=>{const y=l.K_.get(p);if(!y)return;l.K_.set(p,y.withResumeToken(On.EMPTY_BYTE_STRING,y.snapshotVersion)),tI(l,p);const _=new Ea(y.target,p,m,y.sequenceNumber);O_(l,_)}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(i){_e(Vo,"Failed to raise snapshot:",i),await ep(t,i)}}async function ep(t,e,n){if(!Cu(e))throw e;t.W_.add(1),await Oh(t),t.j_.set("Offline"),n||(n=()=>WC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e(Vo,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await kp(t)})}function rI(t,e){return e().catch(n=>ep(t,n,e))}async function Lp(t){const e=qe(t),n=Da(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:g_;for(;y6(e);)try{const a=await J9(e.localStore,i);if(a===null){e.U_.length===0&&n.P_();break}i=a.batchId,v6(e,a)}catch(a){await ep(e,a)}iI(e)&&sI(e)}function y6(t){return $o(t)&&t.U_.length<10}function v6(t,e){t.U_.push(e);const n=Da(t);n.c_()&&n.S_&&n.b_(e.mutations)}function iI(t){return $o(t)&&!Da(t).u_()&&t.U_.length>0}function sI(t){Da(t).start()}async function _6(t){Da(t).C_()}async function E6(t){const e=Da(t);for(const n of t.U_)e.b_(n.mutations)}async function T6(t,e,n){const i=t.U_.shift(),a=w_.from(i,e,n);await rI(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Lp(t)}async function w6(t,e){e&&Da(t).S_&&await async function(i,a){if(function(c){return i9(c)&&c!==ce.ABORTED}(a.code)){const l=i.U_.shift();Da(i).h_(),await rI(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Lp(i)}}(t,e),iI(t)&&sI(t)}async function KS(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),_e(Vo,"RemoteStore received new credentials");const i=$o(n);n.W_.add(3),await Oh(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await kp(n)}async function b6(t,e){const n=qe(t);e?(n.W_.delete(2),await kp(n)):e||(n.W_.add(2),await Oh(n),n.j_.set("Unknown"))}function Du(t){return t.J_||(t.J_=function(n,i,a){const l=qe(n);return l.M_(),new o6(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:d6.bind(null,t),No:p6.bind(null,t),Lo:m6.bind(null,t),p_:g6.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),M_(t)?N_(t):t.j_.set("Unknown")):(await t.J_.stop(),nI(t))})),t.J_}function Da(t){return t.Y_||(t.Y_=function(n,i,a){const l=qe(n);return l.M_(),new l6(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:_6.bind(null,t),Lo:w6.bind(null,t),D_:E6.bind(null,t),v_:T6.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Lp(t)):(await t.Y_.stop(),t.U_.length>0&&(_e(Vo,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,d=new P_(e,n,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x_(t,e){if(Os("AsyncQueue",`${e}: ${t}`),Cu(t))return new Ee(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{static emptySet(e){return new Hl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Me.comparator(n.key,i.key):(n,i)=>Me.comparator(n.key,i.key),this.keyedMap=Bc(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Hl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.Z_=new jt(Me.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ze():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class mu{constructor(e,n,i,a,l,c,d,p,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new mu(e,n,Hl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class A6{constructor(){this.queries=YS(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const a=qe(n),l=a.queries;a.queries=YS(),l.forEach((c,d)=>{for(const p of d.ta)p.onError(i)})})(this,new Ee(ce.ABORTED,"Firestore shutting down"))}}function YS(){return new Ho(t=>AC(t),Dp)}async function k_(t,e){const n=qe(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new S6,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=x_(c,`Initialization of query '${Ll(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ta.push(e),e.sa(n.onlineState),l.ea&&e.oa(l.ea)&&V_(n)}async function L_(t,e){const n=qe(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function R6(t,e){const n=qe(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(i=!0);c.ea=a}}i&&V_(n)}function C6(t,e,n){const i=qe(t),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(n);i.queries.delete(e)}function V_(t){t.ia.forEach(e=>{e.next()})}var Av,XS;(XS=Av||(Av={}))._a="default",XS.Cache="cache";class U_{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new mu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=mu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Av.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.key=e}}class oI{constructor(e){this.key=e}}class I6{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=st(),this.mutatedKeys=st(),this.ya=RC(e),this.wa=new Hl(this.ya)}get Sa(){return this.fa}ba(e,n){const i=n?n.Da:new QS,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const w=a.get(y),S=Op(this.query,_)?_:null,R=!!w&&this.mutatedKeys.has(w.key),N=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let D=!1;w&&S?w.data.isEqual(S.data)?R!==N&&(i.track({type:3,doc:S}),D=!0):this.va(w,S)||(i.track({type:2,doc:S}),D=!0,(p&&this.ya(S,p)>0||m&&this.ya(S,m)<0)&&(d=!0)):!w&&S?(i.track({type:0,doc:S}),D=!0):w&&!S&&(i.track({type:1,doc:w}),D=!0,(p||m)&&(d=!0)),D&&(S?(c=c.add(S),l=N?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{wa:c,Da:i,ls:d,mutatedKeys:l}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((y,_)=>function(S,R){const N=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze()}};return N(S)-N(R)}(y.type,_.type)||this.ya(y.doc,_.doc)),this.Ca(i),a=a!=null&&a;const d=n&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,m=p!==this.ga;return this.ga=p,c.length!==0||m?{snapshot:new mu(this.query,e.wa,l,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new QS,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=st(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new oI(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new aI(i))}),n}Oa(e){this.fa=e.gs,this.pa=st();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return mu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const z_="SyncEngine";class D6{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class O6{constructor(e){this.key=e,this.Ba=!1}}class N6{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Ho(d=>AC(d),Dp),this.qa=new Map,this.Qa=new Set,this.$a=new jt(Me.comparator),this.Ua=new Map,this.Ka=new A_,this.Wa={},this.Ga=new Map,this.za=pu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function M6(t,e,n=!0){const i=dI(t);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await lI(i,e,n,!0),a}async function P6(t,e){const n=dI(t);await lI(n,e,!0,!1)}async function lI(t,e,n,i){const a=await Z9(t.localStore,ki(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await x6(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&eI(t.remoteStore,a),d}async function x6(t,e,n,i,a){t.Ha=(_,w,S)=>async function(N,D,B,H){let q=D.view.ba(B);q.ls&&(q=await FS(N.localStore,D.query,!1).then(({documents:O})=>D.view.ba(O,q)));const ie=H&&H.targetChanges.get(D.targetId),M=H&&H.targetMismatches.get(D.targetId)!=null,re=D.view.applyChanges(q,N.isPrimaryClient,ie,M);return JS(N,D.targetId,re.Ma),re.snapshot}(t,_,w,S);const l=await FS(t.localStore,e,!0),c=new I6(e,l.gs),d=c.ba(l.documents),p=Dh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),m=c.applyChanges(d,t.isPrimaryClient,p);JS(t,n,m.Ma);const y=new D6(e,n,c);return t.ka.set(e,y),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),m.snapshot}async function k6(t,e,n){const i=qe(t),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!Dp(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await bv(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&D_(i.remoteStore,a.targetId),Rv(i,a.targetId)}).catch(Ru)):(Rv(i,a.targetId),await bv(i.localStore,a.targetId,!0))}async function L6(t,e){const n=qe(t),i=n.ka.get(e),a=n.qa.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),D_(n.remoteStore,i.targetId))}async function V6(t,e,n){const i=H6(t);try{const a=await function(c,d){const p=qe(c),m=sn.now(),y=d.reduce((S,R)=>S.add(R.key),st());let _,w;return p.persistence.runTransaction("Locally write mutations","readwrite",S=>{let R=Ns(),N=st();return p.ds.getEntries(S,y).next(D=>{R=D,R.forEach((B,H)=>{H.isValidDocument()||(N=N.add(B))})}).next(()=>p.localDocuments.getOverlayedDocuments(S,R)).next(D=>{_=D;const B=[];for(const H of d){const q=Z4(H,_.get(H.key).overlayedDocument);q!=null&&B.push(new Go(H.key,q,yC(q.value.mapValue),Rs.exists(!0)))}return p.mutationQueue.addMutationBatch(S,m,B,d)}).next(D=>{w=D;const B=D.applyToLocalDocumentSet(_,N);return p.documentOverlayCache.saveOverlays(S,D.batchId,B)})}).then(()=>({batchId:w.batchId,changes:IC(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let m=c.Wa[c.currentUser.toKey()];m||(m=new jt(We)),m=m.insert(d,p),c.Wa[c.currentUser.toKey()]=m}(i,a.batchId,n),await Nh(i,a.changes),await Lp(i.remoteStore)}catch(a){const l=x_(a,"Failed to persist write");n.reject(l)}}async function uI(t,e){const n=qe(t);try{const i=await X9(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Ua.get(l);c&&(At(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?At(c.Ba):a.removedDocuments.size>0&&(At(c.Ba),c.Ba=!1))}),await Nh(n,i,e)}catch(i){await Ru(i)}}function WS(t,e,n){const i=qe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=qe(c);p.onlineState=d;let m=!1;p.queries.forEach((y,_)=>{for(const w of _.ta)w.sa(d)&&(m=!0)}),m&&V_(p)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function U6(t,e,n){const i=qe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Ua.get(e),l=a&&a.key;if(l){let c=new jt(Me.comparator);c=c.insert(l,Ln.newNoDocument(l,je.min()));const d=st().add(l),p=new Pp(je.min(),new Map,new jt(We),c,d);await uI(i,p),i.$a=i.$a.remove(l),i.Ua.delete(e),B_(i)}else await bv(i.localStore,e,!1).then(()=>Rv(i,e,n)).catch(Ru)}async function z6(t,e){const n=qe(t),i=e.batch.batchId;try{const a=await Y9(n.localStore,e);hI(n,i,null),cI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Nh(n,a)}catch(a){await Ru(a)}}async function B6(t,e,n){const i=qe(t);try{const a=await function(c,d){const p=qe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return p.mutationQueue.lookupMutationBatch(m,d).next(_=>(At(_!==null),y=_.keys(),p.mutationQueue.removeMutationBatch(m,_))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>p.localDocuments.getDocuments(m,y))})}(i.localStore,e);hI(i,e,n),cI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Nh(i,a)}catch(a){await Ru(a)}}function cI(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function hI(t,e,n){const i=qe(t);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function Rv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(i=>{t.Ka.containsKey(i)||fI(t,i)})}function fI(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(D_(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),B_(t))}function JS(t,e,n){for(const i of n)i instanceof aI?(t.Ka.addReference(i.key,e),j6(t,i)):i instanceof oI?(_e(z_,"Document no longer in limbo: "+i.key),t.Ka.removeReference(i.key,e),t.Ka.containsKey(i.key)||fI(t,i.key)):ze()}function j6(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(_e(z_,"New document in limbo: "+n),t.Qa.add(i),B_(t))}function B_(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Me(Vt.fromString(e)),i=t.za.next();t.Ua.set(i,new O6(n)),t.$a=t.$a.insert(n,i),eI(t.remoteStore,new Ea(ki(Ip(n.path)),i,"TargetPurposeLimboResolution",Ap.ae))}}async function Nh(t,e,n){const i=qe(t),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,p)=>{c.push(i.Ha(p,e,n).then(m=>{var y;if((m||n)&&i.isPrimaryClient){const _=m?!m.fromCache:(y=n==null?void 0:n.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(m){a.push(m);const _=C_.Yi(p.targetId,m);l.push(_)}}))}),await Promise.all(c),i.La.p_(a),await async function(p,m){const y=qe(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>he.forEach(m,w=>he.forEach(w.Hi,S=>y.persistence.referenceDelegate.addReference(_,w.targetId,S)).next(()=>he.forEach(w.Ji,S=>y.persistence.referenceDelegate.removeReference(_,w.targetId,S)))))}catch(_){if(!Cu(_))throw _;_e(I_,"Failed to update sequence numbers: "+_)}for(const _ of m){const w=_.targetId;if(!_.fromCache){const S=y.Ts.get(w),R=S.snapshotVersion,N=S.withLastLimboFreeSnapshotVersion(R);y.Ts=y.Ts.insert(w,N)}}}(i.localStore,l))}async function F6(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){_e(z_,"User change. New user:",e.toKey());const i=await XC(n.localStore,e);n.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(p=>{p.reject(new Ee(ce.CANCELLED,c))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Nh(n,i.Rs)}}function q6(t,e){const n=qe(t),i=n.Ua.get(e);if(i&&i.Ba)return st().add(i.key);{let a=st();const l=n.qa.get(e);if(!l)return a;for(const c of l){const d=n.ka.get(c);a=a.unionWith(d.view.Sa)}return a}}function dI(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U6.bind(null,e),e.La.p_=R6.bind(null,e.eventManager),e.La.Ja=C6.bind(null,e.eventManager),e}function H6(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B6.bind(null,e),e}class tp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return Q9(this.persistence,new G9,e.initialUser,this.serializer)}Xa(e){return new YC(R_.ri,this.serializer)}Za(e){return new t6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tp.provider={build:()=>new tp};class G6 extends tp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){At(this.persistence.referenceDelegate instanceof Zd);const i=this.persistence.referenceDelegate.garbageCollector;return new O9(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?nr.withCacheSize(this.cacheSizeBytes):nr.DEFAULT;return new YC(i=>Zd.ri(i,n),this.serializer)}}class Cv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>WS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=F6.bind(null,this.syncEngine),await b6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A6}()}createDatastore(e){const n=xp(e.databaseInfo.databaseId),i=function(l){return new a6(l)}(e.databaseInfo);return function(l,c,d,p){return new c6(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,a,l,c,d){return new f6(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>WS(this.syncEngine,n,0),function(){return GS.D()?new GS:new n6}())}createSyncEngine(e,n){return function(a,l,c,d,p,m,y){const _=new N6(a,l,c,d,p,m);return y&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=qe(a);_e(Vo,"RemoteStore shutting down."),l.W_.add(5),await Oh(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Cv.provider={build:()=>new Cv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="FirestoreClient";class $6{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=kn.UNAUTHENTICATED,this.clientId=oC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{_e(Oa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(_e(Oa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=x_(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function _y(t,e){t.asyncQueue.verifyOperationInProgress(),_e(Oa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async a=>{i.isEqual(a)||(await XC(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ZS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await K6(t);_e(Oa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>KS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>KS(e.remoteStore,a)),t._onlineComponents=e}async function K6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(Oa,"Using user provided OfflineComponentProvider");try{await _y(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;cu("Error using user provided cache. Falling back to memory cache: "+n),await _y(t,new tp)}}else _e(Oa,"Using default OfflineComponentProvider"),await _y(t,new G6(void 0));return t._offlineComponents}async function pI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(Oa,"Using user provided OnlineComponentProvider"),await ZS(t,t._uninitializedComponentsProvider._online)):(_e(Oa,"Using default OnlineComponentProvider"),await ZS(t,new Cv))),t._onlineComponents}function Q6(t){return pI(t).then(e=>e.syncEngine)}async function np(t){const e=await pI(t),n=e.eventManager;return n.onListen=M6.bind(null,e.syncEngine),n.onUnlisten=k6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L6.bind(null,e.syncEngine),n}function Y6(t,e,n={}){const i=new As;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,m){const y=new j_({next:w=>{y.su(),c.enqueueAndForget(()=>L_(l,_));const S=w.docs.has(d);!S&&w.fromCache?m.reject(new Ee(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&p&&p.source==="server"?m.reject(new Ee(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),_=new U_(Ip(d.path),y,{includeMetadataChanges:!0,Ta:!0});return k_(l,_)}(await np(t),t.asyncQueue,e,n,i)),i.promise}function X6(t,e,n={}){const i=new As;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,m){const y=new j_({next:w=>{y.su(),c.enqueueAndForget(()=>L_(l,_)),w.fromCache&&p.source==="server"?m.reject(new Ee(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),_=new U_(d,y,{includeMetadataChanges:!0,Ta:!0});return k_(l,_)}(await np(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t,e,n){if(!n)throw new Ee(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function W6(t,e,n,i){if(e===!0&&i===!0)throw new Ee(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tA(t){if(!Me.isDocumentKey(t))throw new Ee(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nA(t){if(Me.isDocumentKey(t))throw new Ee(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze()}function Cs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vp(t);throw new Ee(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="firestore.googleapis.com",rA=!0;class iA{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yI,this.ssl=rA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:rA;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I9)throw new Ee(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ee(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ee(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ee(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Up{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new s4;switch(i.type){case"firstParty":return new u4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ee(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=eA.get(n);i&&(_e("ComponentProvider","Removing Datastore"),eA.delete(n),i.terminate())}(this),Promise.resolve()}}function J6(t,e,n,i={}){var a;const l=(t=Cs(t,Up))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;l.host!==yI&&l.host!==d&&cu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:i});if(!xo(p,c)&&(t._setSettings(p),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=kn.MOCK_USER;else{m=x2(i.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Ee(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new kn(_)}t._authCredentials=new a4(new sC(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ma(this.firestore,e,this._query)}}class sr{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}}class ba extends Ma{constructor(e,n,i){super(e,n,Ip(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new Me(e))}withConverter(e){return new ba(this.firestore,e,this._path)}}function vI(t,e,...n){if(t=zn(t),gI("collection","path",e),t instanceof Up){const i=Vt.fromString(e,...n);return nA(i),new ba(t,null,i)}{if(!(t instanceof sr||t instanceof ba))throw new Ee(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Vt.fromString(e,...n));return nA(i),new ba(t.firestore,null,i)}}function _I(t,e,...n){if(t=zn(t),arguments.length===1&&(e=oC.newId()),gI("doc","path",e),t instanceof Up){const i=Vt.fromString(e,...n);return tA(i),new sr(t,null,new Me(i))}{if(!(t instanceof sr||t instanceof ba))throw new Ee(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Vt.fromString(e,...n));return tA(i),new sr(t.firestore,t instanceof ba?t.converter:null,new Me(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="AsyncQueue";class aA{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new JC(this,"async_queue_retry"),this.Su=()=>{const i=vy();i&&_e(sA,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const n=vy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=vy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new As;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Cu(e))throw e;_e(sA,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw Os("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=P_.createAndSchedule(this,e,n,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&ze()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function oA(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(t,["next","error","complete"])}class gu extends Up{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new aA,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aA(e),this._firestoreClient=void 0,await e}}}function Z6(t,e){const n=typeof t=="object"?t:r_(),i=typeof t=="string"?t:Kd,a=wu(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=M2("firestore");l&&J6(a,...l)}return a}function zp(t){if(t._terminated)throw new Ee(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||e3(t),t._firestoreClient}function e3(t){var e,n,i;const a=t._freezeSettings(),l=function(d,p,m,y){return new S4(d,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,mI(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new $6(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yu(On.fromBase64String(e))}catch(n){throw new Ee(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yu(On.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=/^__.*__$/;class n3{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Go(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ih(e,this.data,n,this.fieldTransforms)}}function TI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze()}}class G_{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new G_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Uu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return rp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(TI(this.Lu)&&t3.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class r3{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||xp(e)}ju(e,n,i,a=!1){return new G_({Lu:e,methodName:n,zu:i,path:Dn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wI(t){const e=t._freezeSettings(),n=xp(t._databaseId);return new r3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function i3(t,e,n,i,a,l={}){const c=t.ju(l.merge||l.mergeFields?2:0,e,n,a);AI("Data must be an object, but it was:",c,i);const d=bI(i,c);let p,m;if(l.merge)p=new ti(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const w=a3(e,_,n);if(!c.contains(w))throw new Ee(ce.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);l3(y,w)||y.push(w)}p=new ti(y),m=c.fieldTransforms.filter(_=>p.covers(_.field))}else p=null,m=c.fieldTransforms;return new n3(new zr(d),p,m)}function s3(t,e,n,i=!1){return $_(n,t.ju(i?4:3,e))}function $_(t,e){if(SI(t=zn(t)))return AI("Unsupported field value:",e,t),bI(t,e);if(t instanceof EI)return function(i,a){if(!TI(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let p=$_(d,a.Ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(t,e)}return function(i,a){if((i=zn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return K4(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=sn.fromDate(i);return{timestampValue:Jd(a.serializer,l)}}if(i instanceof sn){const l=new sn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Jd(a.serializer,l)}}if(i instanceof q_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof yu)return{bytesValue:jC(a.serializer,i._byteString)};if(i instanceof sr){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:S_(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof H_)return function(c,d){return{mapValue:{fields:{[mC]:{stringValue:gC},[Qd]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw d.Wu("VectorValues must only contain numeric values.");return T_(d.serializer,m)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${Vp(i)}`)}(t,e)}function bI(t,e){const n={};return uC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qo(t,(i,a)=>{const l=$_(a,e.qu(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function SI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof sn||t instanceof q_||t instanceof yu||t instanceof sr||t instanceof EI||t instanceof H_)}function AI(t,e,n){if(!SI(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=Vp(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function a3(t,e,n){if((e=zn(e))instanceof F_)return e._internalPath;if(typeof e=="string")return RI(t,e);throw rp("Field path arguments must be of type string or ",t,!1,void 0,n)}const o3=new RegExp("[~\\*/\\[\\]]");function RI(t,e,n){if(e.search(o3)>=0)throw rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new F_(...e.split("."))._internalPath}catch{throw rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rp(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new Ee(ce.INVALID_ARGUMENT,d+t+p)}function l3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class u3 extends CI{data(){return super.data()}}function Bp(t,e){return typeof e=="string"?RI(t,e):e instanceof F_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class K_{}class DI extends K_{}function ip(t,e,...n){let i=[];e instanceof K_&&i.push(e),i=i.concat(n),function(l){const c=l.filter(p=>p instanceof Q_).length,d=l.filter(p=>p instanceof jp).length;if(c>1||c>0&&d>0)throw new Ee(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)t=a._apply(t);return t}class jp extends DI{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new jp(e,n,i)}_apply(e){const n=this._parse(e);return OI(e._query,n),new Ma(e.firestore,e.converter,yv(e._query,n))}_parse(e){const n=wI(e.firestore);return function(l,c,d,p,m,y,_){let w;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Ee(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){uA(_,y);const R=[];for(const N of _)R.push(lA(p,l,N));w={arrayValue:{values:R}}}else w=lA(p,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||uA(_,y),w=s3(d,c,_,y==="in"||y==="not-in");return nn.create(m,y,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function c3(t,e,n){const i=e,a=Bp("where",t);return jp._create(a,i,n)}class Q_ extends K_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Q_(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)OI(c,p),c=yv(c,p)}(e._query,n),new Ma(e.firestore,e.converter,yv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Y_ extends DI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Y_(e,n)}_apply(e){const n=function(a,l,c){if(a.startAt!==null)throw new Ee(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ee(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lh(l,c)}(e._query,this._field,this._direction);return new Ma(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new Iu(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function Iv(t,e="asc"){const n=e,i=Bp("orderBy",t);return Y_._create(i,n)}function lA(t,e,n){if(typeof(n=zn(n))=="string"){if(n==="")throw new Ee(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SC(e)&&n.indexOf("/")!==-1)throw new Ee(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Vt.fromString(n));if(!Me.isDocumentKey(i))throw new Ee(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return bS(t,new Me(i))}if(n instanceof sr)return bS(t,n._key);throw new Ee(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vp(n)}.`)}function uA(t,e){if(!Array.isArray(t)||t.length===0)throw new Ee(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OI(t,e){const n=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ee(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class h3{convertValue(e,n="none"){switch(Ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return qo(e,(a,l)=>{i[a]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,a;const l=(a=(i=(n=e.fields)===null||n===void 0?void 0:n[Qd].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Qt(c.doubleValue));return new H_(l)}convertGeoPoint(e){return new q_(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Cp(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(sh(e));default:return null}}convertTimestamp(e){const n=Ra(e);return new sn(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Vt.fromString(e);At(KC(i));const a=new ah(i.get(1),i.get(3)),l=new Me(i.popFirst(5));return a.isEqual(n)||Os(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NI extends CI{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Bp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Cd extends NI{data(e={}){return super.data(e)}}class MI{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Fc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Cd(this._firestore,this._userDataWriter,i.key,i,new Fc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const p=new Cd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Fc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Cd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Fc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:d3(d.type),doc:p,oldIndex:m,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function d3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t){t=Cs(t,sr);const e=Cs(t.firestore,gu);return Y6(zp(e),t._key).then(n=>xI(e,t,n))}class X_ extends h3{constructor(e){super(),this.firestore=e}convertBytes(e){return new yu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,n)}}function Dv(t){t=Cs(t,Ma);const e=Cs(t.firestore,gu),n=zp(e),i=new X_(e);return II(t._query),X6(n,t._query).then(a=>new MI(e,i,t,a))}function PI(t,e){const n=Cs(t.firestore,gu),i=_I(t),a=f3(t.converter,e);return g3(n,[i3(wI(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Rs.exists(!1))]).then(()=>i)}function m3(t,...e){var n,i,a;t=zn(t);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||oA(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(oA(e[c])){const _=e[c];e[c]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[c+1]=(i=_.error)===null||i===void 0?void 0:i.bind(_),e[c+2]=(a=_.complete)===null||a===void 0?void 0:a.bind(_)}let p,m,y;if(t instanceof sr)m=Cs(t.firestore,gu),y=Ip(t._key.path),p={next:_=>{e[c]&&e[c](xI(m,t,_))},error:e[c+1],complete:e[c+2]};else{const _=Cs(t,Ma);m=Cs(_.firestore,gu),y=_._query;const w=new X_(m);p={next:S=>{e[c]&&e[c](new MI(m,w,_,S))},error:e[c+1],complete:e[c+2]},II(t._query)}return function(w,S,R,N){const D=new j_(N),B=new U_(S,D,R);return w.asyncQueue.enqueueAndForget(async()=>k_(await np(w),B)),()=>{D.su(),w.asyncQueue.enqueueAndForget(async()=>L_(await np(w),B))}}(zp(m),y,d,p)}function g3(t,e){return function(i,a){const l=new As;return i.asyncQueue.enqueueAndForget(async()=>V6(await Q6(i),a,l)),l.promise}(zp(t),e)}function xI(t,e,n){const i=n.docs.get(e._key),a=new X_(t);return new NI(t,a,e._key,i,new Fc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Au=a})(bu),Ui(new ii("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new gu(new o4(i.getProvider("auth-internal")),new c4(c,i.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ee(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ah(m.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Br(hS,fS,e),Br(hS,fS,"esm2017")})();const kI="@firebase/installations",W_="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=1e4,VI=`w:${W_}`,UI="FIS_v2",y3="https://firebaseinstallations.googleapis.com/v1",v3=60*60*1e3,_3="installations",E3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Uo=new Fo(_3,E3,T3);function zI(t){return t instanceof Fi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI({projectId:t}){return`${y3}/projects/${t}/installations`}function jI(t){return{token:t.token,requestStatus:2,expiresIn:b3(t.expiresIn),creationTime:Date.now()}}async function FI(t,e){const i=(await e.json()).error;return Uo.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function qI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function w3(t,{refreshToken:e}){const n=qI(t);return n.append("Authorization",S3(e)),n}async function HI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function b3(t){return Number(t.replace("s","000"))}function S3(t){return`${UI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A3({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=BI(t),a=qI(t),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const c={fid:n,authVersion:UI,appId:t.appId,sdkVersion:VI},d={method:"POST",headers:a,body:JSON.stringify(c)},p=await HI(()=>fetch(i,d));if(p.ok){const m=await p.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:jI(m.authToken)}}else throw await FI("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=/^[cdef][\w-]{21}$/,Ov="";function I3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=D3(t);return C3.test(n)?n:Ov}catch{return Ov}}function D3(t){return R3(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new Map;function KI(t,e){const n=Fp(t);QI(n,e),O3(n,e)}function QI(t,e){const n=$I.get(t);if(n)for(const i of n)i(e)}function O3(t,e){const n=N3();n&&n.postMessage({key:t,fid:e}),M3()}let _o=null;function N3(){return!_o&&"BroadcastChannel"in self&&(_o=new BroadcastChannel("[Firebase] FID Change"),_o.onmessage=t=>{QI(t.data.key,t.data.fid)}),_o}function M3(){$I.size===0&&_o&&(_o.close(),_o=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="firebase-installations-database",x3=1,zo="firebase-installations-store";let Ey=null;function J_(){return Ey||(Ey=Tp(P3,x3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(zo)}}})),Ey}async function sp(t,e){const n=Fp(t),a=(await J_()).transaction(zo,"readwrite"),l=a.objectStore(zo),c=await l.get(n);return await l.put(e,n),await a.done,(!c||c.fid!==e.fid)&&KI(t,e.fid),e}async function YI(t){const e=Fp(t),i=(await J_()).transaction(zo,"readwrite");await i.objectStore(zo).delete(e),await i.done}async function qp(t,e){const n=Fp(t),a=(await J_()).transaction(zo,"readwrite"),l=a.objectStore(zo),c=await l.get(n),d=e(c);return d===void 0?await l.delete(n):await l.put(d,n),await a.done,d&&(!c||c.fid!==d.fid)&&KI(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z_(t){let e;const n=await qp(t.appConfig,i=>{const a=k3(i),l=L3(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===Ov?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function k3(t){const e=t||{fid:I3(),registrationStatus:0};return XI(e)}function L3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Uo.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=V3(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:U3(t)}:{installationEntry:e}}async function V3(t,e){try{const n=await A3(t,e);return sp(t.appConfig,n)}catch(n){throw zI(n)&&n.customData.serverCode===409?await YI(t.appConfig):await sp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function U3(t){let e=await cA(t.appConfig);for(;e.registrationStatus===1;)await GI(100),e=await cA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Z_(t);return i||n}return e}function cA(t){return qp(t,e=>{if(!e)throw Uo.create("installation-not-found");return XI(e)})}function XI(t){return z3(t)?{fid:t.fid,registrationStatus:0}:t}function z3(t){return t.registrationStatus===1&&t.registrationTime+LI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B3({appConfig:t,heartbeatServiceProvider:e},n){const i=j3(t,n),a=w3(t,n),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const c={installation:{sdkVersion:VI,appId:t.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},p=await HI(()=>fetch(i,d));if(p.ok){const m=await p.json();return jI(m)}else throw await FI("Generate Auth Token",p)}function j3(t,{fid:e}){return`${BI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e0(t,e=!1){let n;const i=await qp(t.appConfig,l=>{if(!WI(l))throw Uo.create("not-registered");const c=l.authToken;if(!e&&H3(c))return l;if(c.requestStatus===1)return n=F3(t,e),l;{if(!navigator.onLine)throw Uo.create("app-offline");const d=$3(l);return n=q3(t,d),d}});return n?await n:i.authToken}async function F3(t,e){let n=await hA(t.appConfig);for(;n.authToken.requestStatus===1;)await GI(100),n=await hA(t.appConfig);const i=n.authToken;return i.requestStatus===0?e0(t,e):i}function hA(t){return qp(t,e=>{if(!WI(e))throw Uo.create("not-registered");const n=e.authToken;return K3(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function q3(t,e){try{const n=await B3(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await sp(t.appConfig,i),n}catch(n){if(zI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await YI(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await sp(t.appConfig,i)}throw n}}function WI(t){return t!==void 0&&t.registrationStatus===2}function H3(t){return t.requestStatus===2&&!G3(t)}function G3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+v3}function $3(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function K3(t){return t.requestStatus===1&&t.requestTime+LI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(t){const e=t,{installationEntry:n,registrationPromise:i}=await Z_(e);return i?i.catch(console.error):e0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(t,e=!1){const n=t;return await X3(n),(await e0(n,e)).token}async function X3(t){const{registrationPromise:e}=await Z_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t){if(!t||!t.options)throw Ty("App Configuration");if(!t.name)throw Ty("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ty(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ty(t){return Uo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="installations",J3="installations-internal",Z3=t=>{const e=t.getProvider("app").getImmediate(),n=W3(e),i=wu(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},ez=t=>{const e=t.getProvider("app").getImmediate(),n=wu(e,JI).getImmediate();return{getId:()=>Q3(n),getToken:a=>Y3(n,a)}};function tz(){Ui(new ii(JI,Z3,"PUBLIC")),Ui(new ii(J3,ez,"PRIVATE"))}tz();Br(kI,W_);Br(kI,W_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz="/firebase-messaging-sw.js",rz="/firebase-cloud-messaging-push-scope",ZI="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",iz="https://fcmregistrations.googleapis.com/v1",eD="google.c.a.c_id",sz="google.c.a.c_l",az="google.c.a.ts",oz="google.c.a.e",fA=1e4;var dA;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(dA||(dA={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var hh;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(hh||(hh={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function lz(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),a=new Uint8Array(i.length);for(let l=0;l<i.length;++l)a[l]=i.charCodeAt(l);return a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="fcm_token_details_db",uz=5,pA="fcm_token_object_Store";async function cz(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(l=>l.name).includes(wy))return null;let e=null;return(await Tp(wy,uz,{upgrade:async(i,a,l,c)=>{var d;if(a<2||!i.objectStoreNames.contains(pA))return;const p=c.objectStore(pA),m=await p.index("fcmSenderId").get(t);if(await p.clear(),!!m){if(a===2){const y=m;if(!y.auth||!y.p256dh||!y.endpoint)return;e={token:y.fcmToken,createTime:(d=y.createTime)!==null&&d!==void 0?d:Date.now(),subscriptionOptions:{auth:y.auth,p256dh:y.p256dh,endpoint:y.endpoint,swScope:y.swScope,vapidKey:typeof y.vapidKey=="string"?y.vapidKey:_s(y.vapidKey)}}}else if(a===3){const y=m;e={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:_s(y.auth),p256dh:_s(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:_s(y.vapidKey)}}}else if(a===4){const y=m;e={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:_s(y.auth),p256dh:_s(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:_s(y.vapidKey)}}}}}})).close(),await hy(wy),await hy("fcm_vapid_details_db"),await hy("undefined"),hz(e)?e:null}function hz(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz="firebase-messaging-database",dz=1,fh="firebase-messaging-store";let by=null;function tD(){return by||(by=Tp(fz,dz,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(fh)}}})),by}async function pz(t){const e=nD(t),i=await(await tD()).transaction(fh).objectStore(fh).get(e);if(i)return i;{const a=await cz(t.appConfig.senderId);if(a)return await t0(t,a),a}}async function t0(t,e){const n=nD(t),a=(await tD()).transaction(fh,"readwrite");return await a.objectStore(fh).put(e,n),await a.done,e}function nD({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Yn=new Fo("messaging","Messaging",mz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gz(t,e){const n=await r0(t),i=rD(e),a={method:"POST",headers:n,body:JSON.stringify(i)};let l;try{l=await(await fetch(n0(t.appConfig),a)).json()}catch(c){throw Yn.create("token-subscribe-failed",{errorInfo:c==null?void 0:c.toString()})}if(l.error){const c=l.error.message;throw Yn.create("token-subscribe-failed",{errorInfo:c})}if(!l.token)throw Yn.create("token-subscribe-no-token");return l.token}async function yz(t,e){const n=await r0(t),i=rD(e.subscriptionOptions),a={method:"PATCH",headers:n,body:JSON.stringify(i)};let l;try{l=await(await fetch(`${n0(t.appConfig)}/${e.token}`,a)).json()}catch(c){throw Yn.create("token-update-failed",{errorInfo:c==null?void 0:c.toString()})}if(l.error){const c=l.error.message;throw Yn.create("token-update-failed",{errorInfo:c})}if(!l.token)throw Yn.create("token-update-no-token");return l.token}async function vz(t,e){const i={method:"DELETE",headers:await r0(t)};try{const l=await(await fetch(`${n0(t.appConfig)}/${e}`,i)).json();if(l.error){const c=l.error.message;throw Yn.create("token-unsubscribe-failed",{errorInfo:c})}}catch(a){throw Yn.create("token-unsubscribe-failed",{errorInfo:a==null?void 0:a.toString()})}}function n0({projectId:t}){return`${iz}/projects/${t}/registrations`}async function r0({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function rD({p256dh:t,auth:e,endpoint:n,vapidKey:i}){const a={web:{endpoint:n,auth:e,p256dh:t}};return i!==ZI&&(a.web.applicationPubKey=i),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z=7*24*60*60*1e3;async function Ez(t){const e=await wz(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:_s(e.getKey("auth")),p256dh:_s(e.getKey("p256dh"))},i=await pz(t.firebaseDependencies);if(i){if(bz(i.subscriptionOptions,n))return Date.now()>=i.createTime+_z?Tz(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await vz(t.firebaseDependencies,i.token)}catch(a){console.warn(a)}return mA(t.firebaseDependencies,n)}else return mA(t.firebaseDependencies,n)}async function Tz(t,e){try{const n=await yz(t.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await t0(t.firebaseDependencies,i),n}catch(n){throw n}}async function mA(t,e){const i={token:await gz(t,e),createTime:Date.now(),subscriptionOptions:e};return await t0(t,i),i.token}async function wz(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:lz(e)})}function bz(t,e){const n=e.vapidKey===t.vapidKey,i=e.endpoint===t.endpoint,a=e.auth===t.auth,l=e.p256dh===t.p256dh;return n&&i&&a&&l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return Sz(e,t),Az(e,t),Rz(e,t),e}function Sz(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const i=e.notification.body;i&&(t.notification.body=i);const a=e.notification.image;a&&(t.notification.image=a);const l=e.notification.icon;l&&(t.notification.icon=l)}function Az(t,e){e.data&&(t.data=e.data)}function Rz(t,e){var n,i,a,l,c;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const d=(a=(i=e.fcmOptions)===null||i===void 0?void 0:i.link)!==null&&a!==void 0?a:(l=e.notification)===null||l===void 0?void 0:l.click_action;d&&(t.fcmOptions.link=d);const p=(c=e.fcmOptions)===null||c===void 0?void 0:c.analytics_label;p&&(t.fcmOptions.analyticsLabel=p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(t){return typeof t=="object"&&!!t&&eD in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iz(t){if(!t||!t.options)throw Sy("App Configuration Object");if(!t.name)throw Sy("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const i of e)if(!n[i])throw Sy(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Sy(t){return Yn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=Iz(e);this.firebaseDependencies={app:e,appConfig:a,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oz(t){try{t.swRegistration=await navigator.serviceWorker.register(nz,{scope:rz}),t.swRegistration.update().catch(()=>{}),await Nz(t.swRegistration)}catch(e){throw Yn.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function Nz(t){return new Promise((e,n)=>{const i=setTimeout(()=>n(new Error(`Service worker not registered after ${fA} ms`)),fA),a=t.installing||t.waiting;t.active?(clearTimeout(i),e()):a?a.onstatechange=l=>{var c;((c=l.target)===null||c===void 0?void 0:c.state)==="activated"&&(a.onstatechange=null,clearTimeout(i),e())}:(clearTimeout(i),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mz(t,e){if(!e&&!t.swRegistration&&await Oz(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Yn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pz(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=ZI)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(t,e){if(!navigator)throw Yn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Yn.create("permission-blocked");return await Pz(t,e==null?void 0:e.vapidKey),await Mz(t,e==null?void 0:e.serviceWorkerRegistration),Ez(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xz(t,e,n){const i=kz(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[eD],message_name:n[sz],message_time:n[az],message_device_time:Math.floor(Date.now()/1e3)})}function kz(t){switch(t){case hh.NOTIFICATION_CLICKED:return"notification_open";case hh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lz(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===hh.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(gA(n)):t.onMessageHandler.next(gA(n)));const i=n.data;Cz(i)&&i[oz]==="1"&&await xz(t,n.messageType,i)}const yA="@firebase/messaging",vA="0.12.17";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz=t=>{const e=new Dz(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>Lz(e,n)),e},Uz=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:i=>iD(e,i)}};function zz(){Ui(new ii("messaging",Vz,"PUBLIC")),Ui(new ii("messaging-internal",Uz,"PRIVATE")),Br(yA,vA),Br(yA,vA,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bz(){try{await y1()}catch{return!1}return typeof window<"u"&&g1()&&F2()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(t=r_()){return Bz().then(e=>{if(!e)throw Yn.create("unsupported-browser")},e=>{throw Yn.create("indexed-db-unsupported")}),wu(zn(t),"messaging").getImmediate()}async function Fz(t,e){return t=zn(t),iD(t,e)}zz();const qz={apiKey:"AIzaSyCOYngn_niDBLq48bJ8GrLCrXAB5rqiqyk",authDomain:"vite-test-3ae2c.firebaseapp.com",projectId:"vite-test-3ae2c",storageBucket:"vite-test-3ae2c.firebasestorage.app",messagingSenderId:"851395576158",appId:"1:851395576158:web:ca76896dffa02cca584fcf",measurementId:"G-80DQY8R7V8"},i0=E1(qz),_A=r4(i0),s0=Z6(i0),Hz=jz(i0),Gz=()=>{const[t,e]=K.useState(null),n=K.useCallback(async()=>{try{console.log("useFirebaseAuth > login");const a=await fU(_A,new Ts);e(a)}catch(a){throw console.error(a),a}},[]),i=K.useCallback(async()=>{try{console.log("useFirebaseAuth > logout"),await $V(_A),e(null)}catch(a){throw console.error(a),a}},[]);return{login:n,logout:i,user:t}},$z=({children:t})=>{const{login:e,logout:n,user:i}=Gz(),a=async()=>{await e()},l=async()=>{await n()},c={userName:(i==null?void 0:i.user.displayName)??"",isAuthenticated:!!i,login:a,logout:l};return Fe.jsx(a1.Provider,{value:c,children:t})},Ay=vI(s0,"ChatMessages"),Kz=({onListenForUpdates:t})=>{const e=l=>l instanceof sn?l.toDate():new Date(l),n=K.useCallback(()=>{const l=ip(Ay,Iv("createdOn"));try{return m3(l,d=>{const p=d.docs.map(m=>{const y=m.data();return{...y,id:m.id,createdOn:e(y.createdOn)}});t(p)})}catch(c){throw console.error(c),c}},[t]);K.useEffect(()=>{const l=n();return()=>{l()}},[n]);const i=K.useCallback(async()=>{try{console.log("useChatStore > getChatMessages");const l=ip(Ay,Iv("createdOn"));return(await Dv(l)).docs.map(p=>{const m=p.data();return{...m,id:m.id,createdOn:e(m.createdOn)}})}catch(l){throw console.error(l),l}},[]),a=K.useCallback(async l=>{try{console.log("useChatStore > sendMessage");const c={...l,createdOn:new Date};await PI(Ay,c)}catch(c){throw console.error(c),c}},[]);return{getChatMessages:i,sendMessage:a}},sD="Users",Ry=vI(s0,sD),Qz=()=>{const t="User",e=async()=>{const p=localStorage.getItem(t);if(p){const m=JSON.parse(p);return await l(m.id),m}return null},n=async()=>{localStorage.removeItem(t)},i=async p=>{if(p.fcmToken==""||p.id=="")return;localStorage.setItem(t,JSON.stringify(p));const m=localStorage.getItem(t);return JSON.parse(m)},a=async()=>{try{console.log("useUsersStore > getUsers");const p=ip(Ry,Iv("userName")),y=(await Dv(p)).docs.map(_=>({..._.data(),id:_.id}));return console.log("useUsersStore > getUsers",y),y}catch(p){throw console.error(p),p}},l=async p=>{try{console.log("useUsersStore > getUserById");const m=_I(s0,sD,p),y=await p3(m);if(y.exists())return{...y.data(),id:p}}catch(m){throw console.error(m),m}},c=async p=>{try{console.log("useUsersStore > getUserByToken");const m=ip(Ry,c3("fcmToken","==",p));return(await Dv(m)).docs.map(w=>({...w.data(),id:w.id}))}catch(m){throw console.error(m),m}};return{getUsers:a,getUserById:l,createUser:async p=>{try{console.log("useUsersStore > createUser");const m=await c(p.fcmToken);if(m.length>1)throw new Error("Found multiple users with the same token");if(m.length==1)return console.warn("Found user with the same token"),m[0];const y=await PI(Ry,p);return{...p,id:y.id}}catch(m){throw console.error(m),m}},getUserFromLocalStorage:e,setUserInLocalStorage:i,clearUserLocalStorage:n}},aD=()=>({useChatStore:Kz,useUsersStore:Qz}),Yz=K.createContext({userName:"",chatMessages:[],sendMessage:async()=>{console.error("sendMessage is not implemented")},setUserName:function(t){throw console.log(t),new Error("Function not implemented.")},onListenForUpdates:function(t){throw console.log(t),new Error("Function not implemented.")}}),oD=()=>{const{useUsersStore:t}=aD(),{createUser:e,setUserInLocalStorage:n,getUserFromLocalStorage:i,getUserById:a,clearUserLocalStorage:l}=t();return{requestToken:async()=>{console.log("useFirebaseMessaging > requestToken");try{const p=await i();if(p){const y=await a(p.id);if(y)return y;l()}if(await Notification.requestPermission()=="granted"){const y=await Fz(Hz,{vapidKey:"BD4GRPfP3ESQ1wy3IjwQaz9nGsF-sfAn6pamO6GPGW5-uUYS2kAh28_leoxjRd8GWav6e7WHi2Ac8BmL7iCQ8HU"});console.log("requestToken > token",y),console.log("requestToken > createUser");const _=await e({fcmToken:y,userName:""});return n(_),_}}catch(p){throw console.error(p),p}},registerServiceWorker:()=>{"serviceWorker"in navigator?navigator.serviceWorker.register("/firebase-messaging-sw.js").then(p=>{console.log("Service Worker registered:",p)}).catch(p=>{console.error("Service Worker registration failed:",p)}):console.error("serviceWorker not supported")}}},Xz=({children:t})=>{const[e,n]=K.useState({id:"",fcmToken:"",userName:""}),[i,a]=K.useState(),{useChatStore:l,useUsersStore:c}=aD(),{requestToken:d}=oD(),{getUserFromLocalStorage:p,setUserInLocalStorage:m}=c();K.useEffect(()=>{(async()=>{const q=await d();q&&n(q)})()},[]);const y=K.useCallback(H=>{console.log("ChatContextProvider > onListenForUpdates"),a(H)},[]),{getChatMessages:_,sendMessage:w}=l({onListenForUpdates:y}),S=K.useCallback(async()=>{const H=await _();a(H)},[_]);K.useEffect(()=>{S()},[S]);const R=async H=>{const q=await p();await w({...H,userId:(q==null?void 0:q.id)??""})},N=K.useCallback(async H=>{const q=await p();q&&await m({...q,userName:H})},[]),D=()=>{},B={userName:e.userName,setUserName:N,chatMessages:i??[],sendMessage:R,onListenForUpdates:D};return Fe.jsx(Yz.Provider,{value:B,children:t})},Wz=Vi.lazy(()=>Mv(()=>import("./HomePage-aA3quUJ3.js"),__vite__mapDeps([0,1]))),Jz=Vi.lazy(()=>Mv(()=>import("./BlogPage-CZJheWnM.js"),__vite__mapDeps([2,1]))),Zz=Vi.lazy(()=>Mv(()=>import("./ChatPage-BBdzrbnP.js"),[])),eB=new aN,tB="/react-blog-demo/",nB=vP([{path:"/",element:Fe.jsx(ay,{children:Fe.jsx(Wz,{})})},{path:"/blog",element:Fe.jsx(ay,{children:Fe.jsx(Jz,{})})},{path:"/chat",element:Fe.jsx(ay,{children:Fe.jsx(Zz,{})})}],{basename:tB});function rB(){const{registerServiceWorker:t}=oD();return t(),Fe.jsx(b2,{children:Fe.jsx($z,{children:Fe.jsx(Xz,{children:Fe.jsx(hN,{client:eB,children:Fe.jsx(ok,{children:Fe.jsx(K.Suspense,{fallback:"Loading ...",children:Fe.jsx(DP,{router:nB})})})})})})})}jO.createRoot(document.getElementById("root")).render(Fe.jsx(K.StrictMode,{children:Fe.jsx(rB,{})}));export{OP as B,Yz as C,IB as M,Vi as R,CB as T,sB as c,Tu as d,Fe as j,K as r,p2 as u};
